[{"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/choose/index.jsx":"1","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/addYuding/index.jsx":"2","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/findMyOrganization/index.jsx":"3","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/advancedSettings/index.jsx":"4","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/utils/px.jsx":"5","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/hardWareTypeUI.jsx":"6","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/melladesk/EzyVet.js":"7","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/vetSpire.js":"8","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/petall.js":"9","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/doctorAddPet/index.jsx":"10","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/invite/index.jsx":"11","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/settings/index.jsx":"12","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/ezyvetApi.js":"13","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/PetsUI.jsx":"14","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/ezyVetLogin/index.jsx":"15","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/editPetInfo/index.jsx":"16","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/findMyWorkplace/index.jsx":"17","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/measure/index.jsx":"18","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/selectLocation/index.jsx":"19","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/signIn/index.jsx":"20","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/editParent/index.jsx":"21","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/index.js":"22","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/organization.js":"23","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/temperaturePage/components/measuredData.jsx":"24","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/ezyVetSelectExam/index.jsx":"25","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/ishavePMS/index.jsx":"26","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/team/index.jsx":"27","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/index.js":"28","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/VetSpire.js":"29","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/HardListModal.jsx":"30","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/newWorkplace/index.jsx":"31","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/index.jsx":"32","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/doctorSelectScheduledExam/index.jsx":"33","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/index.js":"34","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/AddDevice.jsx":"35","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/resetPassword/index.jsx":"36","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/config/config.js":"37","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/user.js":"38","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/pet.js":"39","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/api.js":"40","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/doctorSelectAllExam/index.jsx":"41","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/scheduledPetsPage/index.jsx":"42","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/home/index.jsx":"43","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/workPlace/index.jsx":"44","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/vetProfile/index.jsx":"45","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/melladesk/user.js":"46","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/admin_VetProfile/index.jsx":"47","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/biggiePage/components/Biggie.jsx":"48","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/selectMella/index.jsx":"49","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/user.js":"50","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/ezyVetSelectTime/index.jsx":"51","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/verifyEmail/index.jsx":"52","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/addDevice/index.jsx":"53","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/melladesk/index.js":"54","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/apiKey/index.jsx":"55","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/connectWorkplace/index.jsx":"56","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/HardAndPetsUI.jsx":"57","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/userfeedback.js":"58","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/EzyVet.js":"59","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/clinical.js":"60","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/pet.js":"61","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/components/selectPetBreedModal/index.jsx":"62","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/forgotPassword/index.jsx":"63","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/workplace.js":"64","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/new.js":"65","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/melladesk/VetSpire.js":"66"},{"size":3586,"mtime":1661422186052,"results":"67","hashOfConfig":"68"},{"size":12148,"mtime":1661422186043,"results":"69","hashOfConfig":"68"},{"size":3202,"mtime":1661422186069,"results":"70","hashOfConfig":"68"},{"size":9431,"mtime":1661422186046,"results":"71","hashOfConfig":"68"},{"size":2934,"mtime":1661422186108,"results":"72","hashOfConfig":"68"},{"size":5176,"mtime":1661422186079,"results":"73","hashOfConfig":"68"},{"size":830,"mtime":1661424659840,"results":"74","hashOfConfig":"68"},{"size":589,"mtime":1661422186037,"results":"75","hashOfConfig":"68"},{"size":643,"mtime":1661422186036,"results":"76","hashOfConfig":"68"},{"size":29038,"mtime":1661422980168,"results":"77","hashOfConfig":"68"},{"size":6370,"mtime":1661423889418,"results":"78","hashOfConfig":"68"},{"size":25094,"mtime":1661422186095,"results":"79","hashOfConfig":"68"},{"size":2130,"mtime":1661422186030,"results":"80","hashOfConfig":"68"},{"size":13656,"mtime":1661422186079,"results":"81","hashOfConfig":"68"},{"size":7028,"mtime":1661423728951,"results":"82","hashOfConfig":"68"},{"size":36243,"mtime":1661422186062,"results":"83","hashOfConfig":"68"},{"size":6189,"mtime":1661422186070,"results":"84","hashOfConfig":"68"},{"size":109331,"mtime":1661422186083,"results":"85","hashOfConfig":"68"},{"size":9667,"mtime":1661425290306,"results":"86","hashOfConfig":"68"},{"size":17548,"mtime":1661424537056,"results":"87","hashOfConfig":"68"},{"size":10520,"mtime":1661422186060,"results":"88","hashOfConfig":"68"},{"size":87,"mtime":1661422186030,"results":"89","hashOfConfig":"68"},{"size":1031,"mtime":1661422186035,"results":"90","hashOfConfig":"68"},{"size":16795,"mtime":1661424762613,"results":"91","hashOfConfig":"68"},{"size":50637,"mtime":1661423716309,"results":"92","hashOfConfig":"68"},{"size":1469,"mtime":1661422186076,"results":"93","hashOfConfig":"68"},{"size":9864,"mtime":1661424600212,"results":"94","hashOfConfig":"68"},{"size":96,"mtime":1661422186031,"results":"95","hashOfConfig":"68"},{"size":638,"mtime":1661422186031,"results":"96","hashOfConfig":"68"},{"size":7893,"mtime":1661422186078,"results":"97","hashOfConfig":"68"},{"size":12426,"mtime":1661422186087,"results":"98","hashOfConfig":"68"},{"size":40159,"mtime":1661422186080,"results":"99","hashOfConfig":"68"},{"size":37678,"mtime":1661422186059,"results":"100","hashOfConfig":"68"},{"size":231,"mtime":1661422186034,"results":"101","hashOfConfig":"68"},{"size":13859,"mtime":1661422186078,"results":"102","hashOfConfig":"68"},{"size":7255,"mtime":1661422186090,"results":"103","hashOfConfig":"68"},{"size":509,"mtime":1661422186040,"results":"104","hashOfConfig":"68"},{"size":2680,"mtime":1661422186036,"results":"105","hashOfConfig":"68"},{"size":3581,"mtime":1661422186036,"results":"106","hashOfConfig":"68"},{"size":2093,"mtime":1661422186028,"results":"107","hashOfConfig":"68"},{"size":36356,"mtime":1661422610911,"results":"108","hashOfConfig":"68"},{"size":6676,"mtime":1661422186092,"results":"109","hashOfConfig":"68"},{"size":4176,"mtime":1661422186073,"results":"110","hashOfConfig":"68"},{"size":8691,"mtime":1661422980171,"results":"111","hashOfConfig":"68"},{"size":16497,"mtime":1661424935177,"results":"112","hashOfConfig":"68"},{"size":1283,"mtime":1661424870869,"results":"113","hashOfConfig":"68"},{"size":14904,"mtime":1661422186045,"results":"114","hashOfConfig":"68"},{"size":4001,"mtime":1661422186049,"results":"115","hashOfConfig":"68"},{"size":3790,"mtime":1661422186094,"results":"116","hashOfConfig":"68"},{"size":557,"mtime":1661422186032,"results":"117","hashOfConfig":"68"},{"size":4807,"mtime":1661422186068,"results":"118","hashOfConfig":"68"},{"size":4380,"mtime":1661424834586,"results":"119","hashOfConfig":"68"},{"size":13078,"mtime":1661422186041,"results":"120","hashOfConfig":"68"},{"size":74,"mtime":1661424306039,"results":"121","hashOfConfig":"68"},{"size":8435,"mtime":1661422186049,"results":"122","hashOfConfig":"68"},{"size":7870,"mtime":1661422186055,"results":"123","hashOfConfig":"68"},{"size":3315,"mtime":1661422186078,"results":"124","hashOfConfig":"68"},{"size":562,"mtime":1661422186037,"results":"125","hashOfConfig":"68"},{"size":637,"mtime":1661422186031,"results":"126","hashOfConfig":"68"},{"size":731,"mtime":1661422186033,"results":"127","hashOfConfig":"68"},{"size":550,"mtime":1661422186032,"results":"128","hashOfConfig":"68"},{"size":3695,"mtime":1661425039668,"results":"129","hashOfConfig":"68"},{"size":11842,"mtime":1661422186071,"results":"130","hashOfConfig":"68"},{"size":864,"mtime":1661422186038,"results":"131","hashOfConfig":"68"},{"size":968,"mtime":1661422186035,"results":"132","hashOfConfig":"68"},{"size":908,"mtime":1661425317872,"results":"133","hashOfConfig":"68"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"136"},"1brez7n",{"filePath":"137","messages":"138","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"140"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"143"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"136"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"149"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"140"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"155","messages":"156","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"157","messages":"158","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"159"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":0,"source":"162","usedDeprecatedRules":"163"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"166","usedDeprecatedRules":"140"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"169","usedDeprecatedRules":"170"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"163"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"175","messages":"176","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"177","usedDeprecatedRules":"149"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"180","usedDeprecatedRules":"181"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"184","usedDeprecatedRules":"181"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":34,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187","usedDeprecatedRules":"188"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"191","messages":"192","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"194"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"197","usedDeprecatedRules":"170"},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"202","usedDeprecatedRules":"203"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"206","messages":"207","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"136"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"212","usedDeprecatedRules":"213"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"216","messages":"217","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"218","messages":"219","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"220","messages":"221","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"222","messages":"223","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"224","usedDeprecatedRules":"163"},{"filePath":"225","messages":"226","errorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"227","usedDeprecatedRules":"228"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"231"},{"filePath":"232","messages":"233","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"234","messages":"235","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"236","messages":"237","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"238","messages":"239","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"228"},{"filePath":"240","messages":"241","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"242","messages":"243","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"231"},{"filePath":"244","messages":"245","errorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"246","messages":"247","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"248","messages":"249","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"250","messages":"251","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"252","usedDeprecatedRules":"149"},{"filePath":"253","messages":"254","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"255","messages":"256","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"257","messages":"258","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"259","usedDeprecatedRules":"181"},{"filePath":"260","messages":"261","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"262","messages":"263","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"264","messages":"265","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"266","messages":"267","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"268","messages":"269","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"270","usedDeprecatedRules":"163"},{"filePath":"271","messages":"272","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"273","usedDeprecatedRules":"163"},{"filePath":"274","messages":"275","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"276","messages":"277","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"278","usedDeprecatedRules":"213"},{"filePath":"279","messages":"280","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"281","usedDeprecatedRules":"136"},{"filePath":"282","messages":"283","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"284","usedDeprecatedRules":"181"},{"filePath":"285","messages":"286","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"287","messages":"288","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"289","messages":"290","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"291","usedDeprecatedRules":"136"},{"filePath":"292","messages":"293","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"294","messages":"295","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"296","messages":"297","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"298","messages":"299","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"300","messages":"301","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"302","messages":"303","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/choose/index.jsx",[],["304","305"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/addYuding/index.jsx",["306"],"////这是普通用户的选择界面，后期集成时候别忘了identity，进入测量界面的身份，是vetspire、ezyvet、普通医生\nimport React, { Component } from 'react'\nimport {\n  message,\n  Menu,\n} from 'antd';\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport Heard from '../../utils/heard/Heard'\nimport MYButton from '../../utils/button/Button'\nimport { px, win } from '../../utils/px';\nimport dog from '../../assets/images/pinkdog.png'\nimport cat from '../../assets/images/pinkcat.png'\nimport redDog from '../../assets/images/reddog.png'\nimport redCat from '../../assets/images/redcat.png'\nimport redother from '../../assets/images/redother.png'\nimport other from '../../assets/images/other.png'\nimport redJinggao from '../../assets/img/redjinggao.png'\nimport MyModal from '../../utils/myModal/MyModal';\nimport './index.less';\nimport { petall_subscribe } from '../../api/mellaserver/new';\n\nconst { SubMenu } = Menu;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\n})\n\nlet storage = window.localStorage;\n\nlet defaultData = {\n  patientId: \"\",\n  wuzhong: 'dog',\n  petName: '',\n  miaoshu: ''\n}\n\n\nexport default class DoctorSelectExam extends Component {\n  state = {\n    addPetist: [],\n    petName: '',\n    wuzhong: 'dog',\n    patientId: '',\n    miaoshu: '',\n    loading: false,\n    isSave: false\n  }\n\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    console.log(windowsHeight, height, width);\n    if (windowsHeight < 900) {\n      ipcRenderer.send('table', win())\n    } else {\n      ipcRenderer.send('big', win())\n    }\n    // ipcRenderer.send('big')\n    message.destroy()\n\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n\n\n  }\n  componentWillUnmount() {\n    message.destroy()\n    let ipcRenderer = window.electron.ipcRenderer\n\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    console.log(windowsHeight, height, width);\n    if (windowsHeight < 900) {\n      ipcRenderer.send('table', win())\n    } else {\n      ipcRenderer.send('big', win())\n    }\n    this.setState({\n\n    })\n  }\n\n  selsectwuzhong = (val) => {\n    this.setState({\n      wuzhong: val\n    })\n  }\n  add = () => {\n    message.destroy()\n    let { patientId, petName, wuzhong, miaoshu, addPetist } = this.state\n    if (!patientId) {\n      message.error(`Please enter the pet's patientId`)\n      return\n    }\n    this.setState({\n      loading: true\n    })\n\n    let petSpeciesBreedId = 12001\n    switch (wuzhong) {\n      case 'dog': petSpeciesBreedId = 12001; break;\n      case 'cat': petSpeciesBreedId = 11001; break;\n      case 'other': petSpeciesBreedId = 13001; break;\n      default:\n        break;\n    }\n    let params = {\n      description: miaoshu,\n      doctorId: storage.userId,\n      patientId,\n      petName,\n      petSpeciesBreedId\n    }\n\n    if (storage.lastOrganization) {\n      params.organizationId = storage.lastOrganization\n    }\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    console.log('入参', params);\n    petall_subscribe(params)\n      .then(res => {\n        console.log(res);\n        if (res.flag) {\n          let json = {\n            patientId,\n            wuzhong,\n            petName,\n            miaoshu\n          }\n          let list = [].concat(addPetist)\n          list.push(json)\n          this.setState({\n            loading: false,\n            patientId: '',\n            wuzhong: 'dog',\n            petName: '',\n            miaoshu: '',\n            addPetist: list\n          })\n        } else {\n          this.setState({\n            loading: false\n          })\n          message.error('add failed')\n        }\n      })\n      .catch(err => {\n        console.log('错误原因', err);\n        this.setState({\n          loading: false\n        })\n        message.error('add failed')\n      })\n\n  }\n  render() {\n    let addPetist = [].concat(this.state.addPetist)\n    addPetist.push(defaultData)\n\n    let options = addPetist.map((item, index) => {\n\n\n      if (index === addPetist.length - 1) {\n        let { patientId, wuzhong, petName, miaoshu } = this.state\n        return <li key={`${index}`} style={{ width: '100%', }}>\n          <div style={{ width: '100%', display: 'flex', flexDirection: 'row', }}>\n            <div className='tableHeard' style={{ borderTopWidth: '0px' }}>\n              <input type=\"text\" className='tableInput'\n                value={patientId}\n                onChange={value => {\n                  this.setState({\n                    patientId: value.target.value\n                  })\n                }}\n              />\n            </div>\n            <div className='tableHeard' style={{ borderTopWidth: '0px' }}>\n              <input type=\"text\" className='tableInput'\n                value={petName}\n                onChange={value => {\n                  this.setState({\n                    petName: value.target.value\n                  })\n                }}\n              />\n            </div>\n            <div className='tableHeard flex' style={{ flexDirection: 'row', paddingTop: px(5), paddingBottom: px(5), justifyContent: 'space-around', borderTopWidth: '0px' }} >\n              <div\n                style={{ cursor: 'pointer' }}\n                onClick={() => {\n                  this.selsectwuzhong('dog')\n                }}>\n                <img src={wuzhong === 'dog' ? redDog : dog} alt=\"\" width={px(40)} />\n              </div>\n              <div\n                style={{ cursor: 'pointer' }}\n                onClick={() => {\n                  this.selsectwuzhong('cat')\n                }}>\n                <img src={wuzhong === 'cat' ? redCat : cat} alt=\"\" width={px(40)} />\n              </div>\n\n              <div\n                style={{ cursor: 'pointer' }}\n                onClick={() => {\n                  this.selsectwuzhong('other')\n                }}>\n                <img src={wuzhong === 'other' ? redother : other} alt=\"\" width={px(40)} />\n              </div>\n\n\n\n            </div>\n            <div className='tableHeard' style={{ borderTopWidth: '0px', width: '30%' }}>\n              <input type=\"text\" className='tableInput'\n                value={miaoshu}\n                onChange={value => {\n                  this.setState({\n                    miaoshu: value.target.value\n                  })\n                }}\n\n              />\n            </div>\n            <div className='tableHeard' style={{ borderRight: '#5a5a5a solid 1px', borderTopWidth: '0px', width: '10%' }}>\n\n\n\n              <div\n                className='flex'\n                style={{ width: px(30), height: px(30), borderRadius: px(30), backgroundColor: '#e1206d', cursor: 'pointer' }}\n                onClick={this.add}\n\n              >\n\n                <MyIcon type={'icon-baocun-copy'} className=\"icon \" style={{ color: '#fff', fontSize: px(16) }} />\n              </div>\n\n\n\n\n\n\n\n            </div>\n\n          </div>\n        </li>\n      } else {\n        let { patientId, wuzhong, petName, miaoshu } = item\n        return <li key={`${index}`} style={{ width: '100%', }}>\n          <div style={{ width: '100%', display: 'flex', flexDirection: 'row', }}>\n            <div className='tableHeard' style={{ borderTopWidth: '0px' }}>\n              <div className='tableText'>\n                {patientId}\n              </div>\n            </div>\n            <div className='tableHeard' style={{ borderTopWidth: '0px' }}>\n              <div className='tableText'> {petName}</div>\n            </div>\n            <div className='tableHeard flex' style={{ flexDirection: 'row', paddingTop: px(5), paddingBottom: px(5), justifyContent: 'space-around', borderTopWidth: '0px' }} >\n              <img src={wuzhong === 'dog' ? redDog : dog} alt=\"\" width={px(40)} />\n              <img src={wuzhong === 'cat' ? redCat : cat} alt=\"\" width={px(40)} />\n              <img src={wuzhong === 'other' ? redother : other} alt=\"\" width={px(40)} />\n            </div>\n            <div className='tableHeard' style={{ borderTopWidth: '0px', width: '30%' }}>\n              <div className='tableText'>{miaoshu}</div>\n            </div>\n            <div className='tableHeard' style={{ borderRight: '#5a5a5a solid 1px', borderTopWidth: '0px', width: '10%' }}>\n\n            </div>\n          </div>\n\n\n        </li>\n      }\n\n\n    })\n\n\n\n\n\n\n    return (\n\n      <div id=\"doctorSelectExam\" onClick={(e) => {\n        console.log('隐藏');\n        this.setState({\n          showsortBy: false\n        })\n      }}>\n        {/* 关闭缩小 */}\n        <Heard\n          onReturn={() => {\n            let { patientId } = this.state\n            if (!patientId) {\n              this.props.history.goBack()\n            } else {\n              this.setState({\n                isSave: true\n              })\n            }\n\n          }}\n          onSearch={(data) => {\n\n            storage.doctorExam = JSON.stringify(data)\n\n            storage.doctorList = JSON.stringify(this.state.data)\n            if (storage.isClinical === 'true') {\n              this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: data.patientId })\n            } else {\n              this.props.history.push({ pathname: '/page10', })\n            }\n          }}\n          blueSearch={true}\n        />\n        <div style={{ width: '100%', marginTop: px(80), height: px(650), overflowY: 'auto', paddingLeft: '5%', paddingRight: '5%' }}>\n          <div style={{ width: '100%', display: 'flex', flexDirection: 'row', }}>\n            <div className='tableHeard'>Patient Id</div>\n            <div className='tableHeard'>Pet Name</div>\n            <div className='tableHeard'>species</div>\n            <div className='tableHeard' style={{ width: '30%' }}>description</div>\n            <div className='tableHeard' style={{ borderRight: '#5a5a5a solid 1px', width: '10%' }}></div>\n\n          </div>\n\n          <ul >\n            {options}\n          </ul>\n\n\n        </div>\n\n\n\n        <div className='continueBox'>\n          <div className='continueBtn'\n            style={{ borderRadius: px(50), height: px(45), fontSize: px(20), }}\n            onClick={() => {\n              let { patientId } = this.state\n              if (!patientId) {\n                this.props.history.goBack()\n              } else {\n                this.setState({\n                  isSave: true\n                })\n              }\n            }}\n          >Continue</div>\n        </div>\n\n        <MyModal\n          visible={this.state.loading}\n        />\n        <MyModal\n          visible={this.state.isSave}\n          element={\n            <div className='isSave'\n            //  style={{ borderRadius: `${px(20)}px`, backgroundColor: '#fff' }}\n            >\n              <img src={redJinggao} alt=\"\" style={{ width: px(50), margin: `${px(25)}px 0` }} />\n              <p style={{ textAlign: 'center' }}>There are unsaved patient appointments, <br />are you sure you want to exit?</p>\n              <div className=\"btn\" style={{ margin: `${px(30)}px 0` }} >\n                <MYButton\n                  text={'Cancel'}\n                  onClick={() => {\n                    this.setState({\n                      isSave: false\n                    })\n                  }}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n                <MYButton\n                  text={'Exit'}\n                  onClick={() => {\n                    this.setState({\n                      isSave: false\n                    })\n                    this.props.history.goBack()\n                  }}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n              </div>\n            </div>\n          }\n        />\n\n\n\n\n\n\n\n\n\n\n\n      </div>\n    )\n  }\n}\n",["307","308"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/findMyOrganization/index.jsx",[],["309","310"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/advancedSettings/index.jsx",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/utils/px.jsx",["311","312","313","314","315","316"],"/**\n *\n * 获取屏幕分辨率宽高\n * let width = parseInt(window.screen.width)\n * let height = parseInt(window.screen.height)\n *\n * 获取应用窗口大小\n * document.documentElement.clientHeight\n * document.documentElement.clientWidth\n */\n//\n\n//\n\nconst devWidth = 1920;\nconst devHeight = 1040;\n\nlet size = window.screen\n// console.log('-------------------------分辨率的大小-----------------', size);\nlet width = parseInt(window.screen.availWidth);\nlet height = parseInt(window.screen.availHeight);\nif (width < height) {\n  let a = width;\n  width = height;\n  height = a;\n}\n\nexport const px = (val) => {\n  return val\n  // let width = parseInt(window.screen.availWidth);\n  // let height = parseInt(window.screen.availHeight);\n\n\n\n  // if (width < height) {\n  //   let a = width;\n  //   width = height;\n  //   height = a;\n  // }\n\n  // return parseInt((val / devWidth) * width);\n};\n\nexport const mTop = (val) => {\n  return val\n  let width = parseInt(window.screen.availWidth);\n  let height = parseInt(window.screen.availHeight);\n  if (width < height) {\n    let a = width;\n    width = height;\n    height = a;\n  }\n\n  // console.log('mTop',val, parseInt(val / devHeight * height))\n  return parseInt((val / devHeight) * height);\n};\n\nexport const fs = (val) => {\n  let width = parseInt(window.screen.availWidth);\n  let height = parseInt(window.screen.availHeight);\n  if (width < height) {\n    let a = width;\n    width = height;\n    height = a;\n  }\n};\nexport const pX = (val) => {\n  let windowWidth = document.documentElement.clientWidth;\n  // console.log('px', window.screen,)\n  return parseInt((windowWidth / 650) * val);\n};\nexport const MTop = (val) => {\n  return val\n  let windowWidth = document.documentElement.clientHeight;\n  console.log(\"px\", windowWidth);\n  return parseInt((windowWidth / 375) * val);\n};\n\nlet windowssize = {\n  width: 0,\n  height: 0,\n};\n\nexport const win = () => {\n  let width = parseInt(window.screen.availWidth);\n  let height = parseInt(window.screen.availHeight);\n  if (width < height) {\n    let a = width;\n    width = height;\n    height = a;\n  }\n  // let win1 = JSON.stringify({\n  //   width, height\n  // })\n\n  return {\n    width: 1920,\n    height: 1080,\n  };\n};\n\nlet timer = null;\nexport const timerFun = () => {\n  // console.log(\"jianting1------------\");\n  // timer && clearInterval(timer);\n  // timer = setInterval(() => {\n  //   let width = parseInt(window.screen.availWidth);\n  //   let height = parseInt(window.screen.availHeight);\n  //   if (width < height) {\n  //     let a = width;\n  //     width = height;\n  //     height = a;\n  //   }\n  //   // console.log('jianting1', windowssize, { width, height });\n  //   if (width !== windowssize.width || height !== windowssize.height) {\n  //     windowssize.width = width;\n  //     windowssize.height = height;\n  //     let ipcRenderer = window.electron.ipcRenderer;\n  //     ipcRenderer.send(\"changeFenBianLv\", windowssize);\n  //   }\n  // }, 2000);\n};\n",["317","318"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/hardWareTypeUI.jsx",["319"],"import React, {  useEffect } from \"react\";\n\nimport mellaPro from \"./../../assets/img/hardList-mella.png\";\nimport biggie from \"./../../assets/img/hardList-biggie.png\";\nimport rfid from \"./../../assets/img/hardList-rfid.png\";\nimport tape from \"./../../assets/img/hardList-tape.png\";\nimport add from \"./../../assets/img/hardList-add.png\";\nimport maeBowl from \"./../../assets/img/hardList-maeBowl.png\";\nimport otterEQ from \"./../../assets/img/hardList-otterEQ.png\";\n\nimport electronStore from \"../../utils/electronStore\";\nimport { px } from \"../../utils/px\";\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  selectHardwareInfoFun,\n  setSelectHardwareType,\n  setMenuNum,\n} from \"./../../store/actions\";\n\nlet storage = window.localStorage;\n//devicesTypeList是index传过来的硬件种类以及种类下的所有硬件\nconst HardWareTypeUI = ({\n  bodyHeight,\n  devicesTypeList,\n  selectHardwareInfoFun,\n  setSelectHardwareType,\n  selectHardwareType,\n  setMenuNum,\n  menuNum,\n}) => {\n  //根据左侧列表的设备类型，获取当前选中的设备类型下选中的硬件,先看本地有没有存,没存就拿第一个展示\n\n  let options = devicesTypeList.map((item, index) => {\n    let img = null;\n    switch (item.type) {\n      case \"mellaPro\":\n        img = mellaPro;\n        break;\n\n      case \"biggie\":\n        img = biggie;\n        break;\n\n      case \"rfid\":\n        img = rfid;\n        break;\n\n      case \"tape\":\n        img = tape;\n        break;\n      case \"maeBowl\":\n        img = maeBowl;\n        break;\n      case \"add\":\n        img = add;\n        break;\n\n      case \"otterEQ\":\n        img = otterEQ;\n        break;\n      default:\n        break;\n    }\n    let borderStyle = ``;\n    if (item.type === selectHardwareType) {\n      borderStyle = ` 2px solid #3B3A3A`;\n    }\n\n    return (\n      <li\n        key={`${index}`}\n        style={{ padding: `${px(10)}px 0` }}\n        onClick={() => {\n          console.log(item.type);\n          if (menuNum !== \"6\"&&!electronStore.get(`${storage.userId}-isClical`)) {\n            setMenuNum(\"1\");\n            setSelectHardwareType(item.type);\n            if (item.type === \"add\") {\n            } else {\n              let devicesInfo = electronStore.get(\n                `${storage.lastOrganization}-${storage.userId}-${item.type}-selectDeviceInfo`\n              );\n\n              //要做个处理,看保存的数据是否和当前的一致，如果不一致，就把当前的保存下来\n\n              if (!devicesInfo && item.devices[0]) {\n                devicesInfo = item.devices[0];\n                electronStore.set(\n                  `${storage.lastOrganization}-${storage.userId}-${item.type}-selectDeviceInfo`,\n                  devicesInfo\n                );\n              }\n\n              selectHardwareInfoFun(devicesInfo);\n            }\n          } else {\n            setSelectHardwareType(\"mellaPro\");\n          }\n        }}\n      >\n        <div\n          style={{ border: borderStyle, padding: px(2), borderRadius: px(10) }}\n        >\n          <img src={img} alt=\"\" width={px(55)} />\n        </div>\n      </li>\n    );\n  });\n\n  useEffect(() => {\n    let Index = null;\n    for (let i = 0; i < devicesTypeList.length; i++) {\n      const element = devicesTypeList[i];\n      if (element.type === selectHardwareType) {\n        Index = i;\n        break;\n      }\n    }\n    if (Index === null) {\n      return;\n    }\n\n    let hard = devicesTypeList[Index];\n    if (hard && hard.type !== \"add\") {\n      let devicesInfo = electronStore.get(\n        `${storage.lastOrganization}-${storage.userId}-${hard.type}-selectDeviceInfo`\n      );\n\n      if (!devicesInfo) {\n        devicesInfo = hard.devices[0];\n        electronStore.set(\n          `${storage.lastOrganization}-${storage.userId}-${hard.type}-selectDeviceInfo`,\n          devicesInfo\n        );\n      } else {\n        let sameFlag = false;\n        console.log(\"============\", hard.devices, devicesInfo);\n        for (let i = 0; i < hard.devices.length; i++) {\n          const element = hard.devices[i];\n          if (\n            element.mac === devicesInfo.mac &&\n            element.name === devicesInfo.name\n          ) {\n            sameFlag = true;\n            break;\n          }\n        }\n        if (!sameFlag) {\n          devicesInfo = hard.devices[0];\n          electronStore.set(\n            `${storage.lastOrganization}-${storage.userId}-${hard.type}-selectDeviceInfo`,\n            devicesInfo\n          );\n        }\n      }\n\n      console.log(\"保存的折本信息\", devicesInfo);\n\n      selectHardwareInfoFun(devicesInfo);\n    }\n  }, [devicesTypeList]);\n\n  return (\n    <div className=\"hardwareType\" style={{ width: px(80), height: bodyHeight }}>\n      <ul>{options}</ul>\n    </div>\n  );\n};\n\nHardWareTypeUI.propTypes = {\n  bodyHeight: PropTypes.number,\n  devicesTypeList: PropTypes.array,\n};\n//默认值\nHardWareTypeUI.defaultProps = {\n  bodyHeight: 0,\n  devicesTypeList: [],\n};\n\nexport default connect(\n  (state) => ({\n    selectHardwareType: state.hardwareReduce.selectHardwareType,\n    menuNum: state.userReduce.menuNum,\n  }),\n  { selectHardwareInfoFun, setSelectHardwareType, setMenuNum }\n)(HardWareTypeUI);\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/melladesk/EzyVet.js",["320"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/vetSpire.js",["321","322"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/petall.js",["323","324"],"/**\n * @file petall.js\n * @authoe 胡邵杰 \n * @dec https://www.mellaserver.com/api/mellaserver/petall 下的所有接口都在这个<br />\n *      封装,封装函数名称和接口地址保持一致\n * @createDate 20220824\n * \n */\nimport { get, postJson, del } from '../api'\nimport { mellaserverBaseUrl } from '../../config/config'\nconst baseURL = `${mellaserverBaseUrl}/petall`\n\n\n\n/**\n * @dec 根据组织获取所有宠物\n * @param {str} lastOrganization 组织id\n * @param {*} params \n * @returns \n */\nexport const pet_petall = (lastOrganization, params) => {\n    return postJson(`${baseURL}/pet${lastOrganization}/petall`, params)\n}\n\n\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/doctorAddPet/index.jsx",["325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348"],"import React, { Component } from 'react'\nimport { Input, message, Select, Calendar, Col, Row, Spin, Modal } from 'antd';\n\nimport dog from '../../assets/images/pinkdog.png'\nimport cat from '../../assets/images/pinkcat.png'\nimport redDog from '../../assets/images/reddog.png'\nimport redCat from '../../assets/images/redcat.png'\nimport redother from '../../assets/images/redother.png'\nimport other from '../../assets/images/other.png'\nimport Close from './../../assets/img/close.png'\nimport nextImg from '../../assets/img/nextImg.png'\nimport selectphoto from '../../assets/images/sel.png'\nimport dui from '../../assets/images/dui.png'\nimport female from '../../assets/images/female.png'\nimport male from '../../assets/images/male.png'\n\nimport electronStore from '../../utils/electronStore';\nimport { mTop, px, win } from '../../utils/px';\nimport MyModal from '../../utils/myModal/MyModal';\nimport Heard from '../../utils/heard/Heard';\nimport PhoneBook from '../../utils/phoneBook/PhoneBook';\nimport Button from '../../utils/button/Button';\nimport Avatar from '../../components/avatar/Avatar';\nimport SelectPetBreed from \"../../components/selectPetBreedModal\";\n\nimport { connect } from 'react-redux';\nimport { petDetailInfoFun, setMenuNum, } from '../../store/actions';\nimport moment from 'moment';\n\nimport './index.less';\nimport { addDeskPet, checkPatientId, getPetInfoByPatientIdAndPetId, selectBreedBySpeciesId } from '../../api';\n\nconst { Option } = Select;\nlet storage = window.localStorage;\nlet errPatientId = ''\nclass DoctorAddPet extends Component {\n  state = {\n    dogImg: dog,\n    catImg: cat,\n    otherImg: other,\n    selectWZ: '',\n    closebgc: '',\n    minbgc: '',\n    closeColor: '',\n    api: '',\n    id: '',\n    seleceID: '',//医生id\n    petSpecies: 0,\n    unit: 1,\n    gender: 0,\n    isMix: false,\n    imageId: -1,\n    imgurl: '',\n    catData: [],\n    petSpeciesBreedId: '',\n    dogData: [],\n    breedArr: [],\n    birthday: moment(new Date()).format('MMMM D, YYYY'),\n    patientId: '',\n    petName: '',\n    petId: '',\n    lastName: '',\n    firstName: '',\n    breedName: '',\n    owner: '',\n    intFlog: false,\n    spin: false,\n    visible: false,\n    dogBreed: [],\n    catBreed: [],\n    searchBreed: '',\n    selectBreedJson: {},\n    confirmSelectBreedJson: {},\n    selectBreed: false,\n    isModalVisible: false,\n    confirmLoading: false,\n    selectBreedVisible: false,\n  }\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big', win())\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n    let dogBreed = electronStore.get('dogBreed') || []\n    let catBreed = electronStore.get('catBreed') || []\n    this.setState({\n      dogBreed,\n      catBreed\n    })\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big', win())\n    this.setState({\n\n    })\n  }\n  getBreed = (val) => {\n    let data = {}\n    switch (val) {\n      case 'dog':\n        data.speciesId = 2; break;\n\n      case 'cat':\n        data.speciesId = 1; break;\n    }\n\n    selectBreedBySpeciesId(data)\n      .then(res => {\n        console.log('---', res);\n        if (res.code === 0) {\n          let arr = []\n          res.petlist.map((item, index) => {\n            let data = {\n              petSpeciesBreedId: item.petSpeciesBreedId,\n              breedName: item.breedName\n            }\n            arr.push(data)\n          })\n          if (val === 'dog') {\n            this.setState({\n              dogBreed: arr\n            })\n            electronStore.set('dogBreed', arr)\n          } else if (val === 'cat') {\n            this.setState({\n              catBreed: arr\n            })\n            electronStore.set('catBreed', arr)\n          }\n\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n  _getData = (val) => {\n    this.setState({\n      petSpecies: val,\n      breedName: ''\n    })\n    let data = {\n      speciesId: val\n    }\n    selectBreedBySpeciesId(data)\n      .then(res => {\n        console.log('--获取品种返回的数据-', res);\n        if (res.code === 0) {\n          let arr = []\n          res.petlist.map((item, index) => {\n            let data = {\n              petSpeciesBreedId: item.petSpeciesBreedId,\n              breedName: item.breedName\n            }\n            arr.push(data)\n          })\n          console.log(arr);\n          this.setState({\n            breedArr: arr\n          })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n\n  }\n  /**------------------顶部start------------------------ */\n  _close = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('关闭程序');\n    ipcRenderer.send('window-close')\n  }\n  _min = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('最小化程序');\n    ipcRenderer.send('window-min')\n    this.setState({\n      minbgc: '',\n    })\n  }\n  _minMove = () => {\n\n    this.setState({\n      minbgc: 'rgb(211, 205, 205)'\n    })\n  }\n  _minLeave = () => {\n    this.setState({\n      minbgc: ''\n    })\n  }\n  _closeMove = () => {\n    this.setState({\n      closeColor: 'red',\n      closebgc: '#fff'\n    })\n  }\n  _closeLeave = () => {\n    this.setState({\n      closeColor: '#fff',\n      closebgc: ''\n    })\n  }\n  handleClick = e => {\n    console.log('click ', e);\n    const { api, id, seleceID } = this.state\n    if (e.key === '1') {\n      this.props.history.push({ pathname: '/page6', query: { api, id, seleceID } })\n    }\n    if (e.key === '2') {\n      this.props.history.push('/')\n    }\n\n  };\n  /**------------------顶部end------------------------ */\n  selectWZ = (val) => {\n    let { catBreed, dogBreed } = this.state\n    switch (val) {\n      case 'dog':\n        this.setState({\n          catImg: cat,\n          dogImg: redDog,\n          otherImg: other,\n          selectWZ: val,\n          breedArr: [].concat(dogBreed)\n        })\n\n        break;\n\n      case 'cat':\n        this.setState({\n          catImg: redCat,\n          dogImg: dog,\n          otherImg: other,\n          selectWZ: val,\n          breedArr: [].concat(catBreed)\n        })\n\n        break;\n\n      case 'other':\n        this.setState({\n          catImg: cat,\n          dogImg: dog,\n          otherImg: redother,\n          selectWZ: val,\n          breedArr: []\n        })\n        break;\n\n      default:\n        break;\n    }\n  }\n  _petSpecies = () => {\n    let { petSpecies, dogImg, catImg, otherImg, imgurl } = this.state\n    this.avatar = selectphoto\n    return (\n      <div className=\"petSpecies\"\n        style={{ height: mTop(80), }}\n      >\n        <div className=\"l\">\n          <p style={{ color: '#A0A0A0', fontSize: '16px' }}>Pet Species</p>\n          <div className=\"selectSpecies\">\n            <ul>\n              <li >\n                <div className='speciesChild' >\n                  <div className='dog'\n                    onClick={() => { this.selectWZ('dog') }}>\n                    <img src={dogImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Dog\n                </div>\n              </li>\n              <li>\n                <div className='speciesChild' >\n                  <div className='dog' onClick={() => { this.selectWZ('cat') }} >\n                    <img src={catImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Cat\n                </div>\n              </li>\n              <li >\n                <div className='speciesChild' >\n                  <div className='dog' onClick={() => { this.selectWZ('other') }} >\n                    <img src={otherImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Other\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"r\">\n          <div className=\"img\">\n            <Avatar\n              init={\n                <div className=\"ciral \">\n                  <img src={this.avatar} alt=\"\" id=\"touxiang\" height=\"280px\" />\n                  <p style={{ fontSize: px(14), height: mTop(35) }}>Upload Photo</p>\n                </div>\n              }\n              getinfo={(val) => {\n                console.log('我是父组件，从子组件获取到的数据位：', val);\n                if (val) {\n                  this.setState({\n                    imageId: val\n                  })\n                }\n              }}\n            />\n          </div>\n\n        </div>\n\n      </div>\n\n    )\n  }\n  _petName = () => {\n    let birthday = this.state.birthday\n    let birthdayValue = birthday ? moment(birthday) : moment(new Date())\n    return (\n      <div className=\"petName\"\n        style={{ marginTop: mTop(18) }}\n      >\n        <div className=\"r\">\n          <p >Pet Name</p>\n          <div className=\"infoInput\">\n            <Input\n              bordered={false}\n              value={this.state.petName}\n              onChange={(item) => {\n\n                this.setState({\n                  petName: item.target.value\n                })\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"r\">\n          <p >Pet Birthday</p>\n          <div className=\"infoInput\" >\n            <p style={{ weight: '60px', height: '27px', padding: 0, margin: 0 }} onClick={() => {\n              document.getElementById('calendar').style.display = 'block'\n            }}>{this.state.birthday}</p>\n            <div className=\"calendar\" id=\"calendar\" style={{ left: px(-50), top: px(-50) }}>\n              <Calendar\n                fullscreen={false}\n                headerRender={({ value, type, onChange, onTypeChange }) => {\n                  const start = 0;\n                  const end = 12;\n                  const monthOptions = [];\n                  const current = value.clone();\n                  const localeData = value.localeData();\n                  const months = [];\n                  for (let i = 0; i < 12; i++) {\n                    current.month(i);\n                    months.push(localeData.monthsShort(current));\n                  }\n                  for (let index = start; index < end; index++) {\n                    monthOptions.push(\n                      <Select.Option className=\"month-item\" key={`${index}`}>\n                        {months[index]}\n                      </Select.Option>\n                    );\n                  }\n                  const month = value.month();\n                  const year = value.year();\n                  const options = [];\n                  for (let i = moment(new Date()).year(); i > moment(new Date()).year() - 40; i -= 1) {\n                    options.push(\n                      <Select.Option key={i} value={i} className=\"year-item\">\n                        {i}\n                      </Select.Option>\n                    );\n                  }\n                  return (\n                    <div style={{ padding: 8 }}>\n                      <Row gutter={8}>\n                        <Col>\n                          <Select\n                            size=\"small\"\n                            dropdownMatchSelectWidth={false}\n                            className=\"my-year-select\"\n                            onChange={(newYear) => {\n                              const now = value.clone().year(newYear);\n                              onChange(now);\n                            }}\n                            value={String(year)}\n                          >\n                            {options}\n                          </Select>\n                        </Col>\n                        <Col>\n                          <Select\n                            size=\"small\"\n                            dropdownMatchSelectWidth={false}\n                            value={String(month)}\n                            onChange={(selectedMonth) => {\n                              const newValue = value.clone();\n                              newValue.month(parseInt(selectedMonth, 10));\n                              onChange(newValue);\n                            }}\n                          >\n                            {monthOptions}\n                          </Select>\n                        </Col>\n                      </Row>\n                    </div>\n                  );\n                }}\n                value={birthdayValue}\n                onSelect={(value) => {\n                  console.log(value);\n                  this.setState({\n                    birthday: moment(value).format('MMMM D, YYYY')\n\n                  })\n                  document.getElementById('calendar').style.display = 'none'\n                }}\n              />\n            </div>\n          </div>\n        </div>\n\n\n      </div>\n\n    )\n  }\n  _ownName = () => {\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(18) }}\n      >\n        <div className=\"l\">\n          <p ><span style={{ color: 'red' }}>*</span> Patient ID</p>\n          <div className=\"infoInput\">\n            <Input bordered={false}\n              value={this.state.patientId}\n              onChange={(item) => {\n                this.setState({\n                  patientId: item.target.value.replace(/\\s/g, \"\"),\n                  intFlog: true\n                })\n                if (item.target.value !== errPatientId) {\n                  message.destroy()\n                }\n              }}\n              onBlur={() => {\n                if (this.state.patientId === '') {\n                  message.error('The pet ID cannot be empty');\n                  return\n                }\n                this.setState({\n                  spin: true\n                });\n                let params = {\n                  patientId: this.state.patientId,\n                  doctorId: storage.userId\n                }\n                if (storage.lastWorkplaceId) {\n                  params.workplaceId = storage.lastWorkplaceId\n                }\n                if (storage.lastOrganization) {\n                  params.organizationId = storage.lastOrganization\n                }\n                checkPatientId(params)\n                  .then(res => {\n                    if (res.flag === false) {\n                      errPatientId = params.patientId;\n                      this.setState({\n                        isModalVisible: true,\n                        spin: false,\n                      })\n                    } else {\n                      errPatientId = '';\n                      message.success('This pet ID will work');\n                      this.setState({\n                        spin: false,\n                      })\n                    }\n                  })\n                  .catch(err => {\n                    this.setState({\n                      spin: false\n                    });\n                  })\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"r\">\n          <div className=\"infoInput flex\"\n            style={{ marginTop: px(8), flexDirection: 'row', justifyContent: 'space-between', cursor: 'pointer' }}\n            onClick={() => {\n              // this.setState({\n              //     selectBreed: true\n              // })\n            }}\n          >\n\n            <div className=\"myBreed\" style={{ width: '90%', height: px(25) }}>{'My Parents'}</div>\n            <div className=\"nextimg\" >\n              <img src={nextImg} style={{ height: px(15) }} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  _select = (value, data) => {\n    console.log(value, data);  //value的值为id\n    this.setState({\n      petSpeciesBreedId: value,\n      breedName: data.children\n    })\n  }\n  //选择宠物品种\n  _primaryBreed = () => {\n    let { confirmSelectBreedJson } = this.state\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(18) }}>\n        <div className=\"l\" >\n          <div className=\"infoInput flex\"\n            style={{ marginTop: px(8), flexDirection: 'row', justifyContent: 'space-between', cursor: 'pointer' }}\n            onClick={() => {\n              this.setState({\n                selectBreedVisible: true\n              })\n            }}\n          >\n            <div className=\"myBreed\" style={{ width: '90%', height: px(25) }}>{confirmSelectBreedJson.name ? confirmSelectBreedJson.name : 'My Breed'}</div>\n            <div className=\"nextimg\" >\n              <img src={nextImg} style={{ height: px(15) }} />\n            </div>\n          </div>\n        </div>\n        <div className=\"r\" style={{ paddingTop: mTop(40) }}>\n          <div className=\"max\">\n            Mix?\n            <div className=\"selected\"\n              onClick={() => this.setState({\n                isMix: !this.state.isMix\n              })}\n            >\n              {(this.state.isMix) ? (<img src={dui} alt=\"\" width='20px' />) : (null)}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  _weight = () => {\n    let ibBgcColor = '', ibCor = '', kgBgcColor = '', kgCor = '', femaleBgc = '', maleBgc = '';\n    switch (this.state.unit) {\n      case 1: ibBgcColor = '#E1206D'; ibCor = '#fff'; kgBgcColor = '#fff'; kgCor = '#E1206D'; break;\n      case 2: ibBgcColor = '#fff'; ibCor = '#E1206D'; kgBgcColor = '#E1206D'; kgCor = '#fff'; break;\n    }\n    switch (this.state.gender) {\n      case 1: femaleBgc = '#E1206D'; maleBgc = '#F08FB6'; break;\n      case 0: femaleBgc = '#F08FB6'; maleBgc = '#E1206D'; break;\n    }\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(18) }}>\n        <div className=\"l\">\n          <p >Pet Weight</p>\n          <div className=\"infoInput\">\n            <Input bordered={false}\n              value={this.state.weight}\n              onChange={(item) => {\n\n                this.setState({\n                  weight: item.target.value\n                })\n              }}\n\n            />\n            <div className=\"ibKg\">\n              <div className=\"ibs\"\n                style={{ backgroundColor: ibBgcColor, color: ibCor }}\n                onClick={() => {\n                  if (this.state.unit === 2) {\n\n                    this.setState({\n                      unit: 1,\n                      weight: (this.state.weight * 2.2046).toFixed(1)\n                    })\n                  }\n                }}\n              >Ibs</div>\n              <div className=\"kgs\"\n                style={{ backgroundColor: kgBgcColor, color: kgCor }}\n                onClick={() => {\n\n                  if (this.state.unit === 1) {\n\n                    this.setState({\n                      unit: 1,\n                      weight: (this.state.weight / 2.2046).toFixed(1)\n                    })\n                  }\n                  this.setState({ unit: 2 })\n                }}\n              >kgs</div>\n\n            </div>\n\n          </div>\n        </div>\n\n        <div className=\"r\">\n          <p style={{ color: '#4a4a4a', fontSize: '17px', marginTop: '20px' }}>Pet Gender</p>\n          <div className=\"gender\">\n            <div className=\"selectGender\">\n              <div className=\"female\" style={{ marginRight: px(8), fontSize: px(18) }}>\n                <div className=\"femaleCiral\"\n                  style={{ backgroundColor: femaleBgc, width: px(40), height: px(40), }}\n                  onClick={() => this.setState({ gender: 1 })}\n                >\n                  <img src={female} alt=\"\" style={{ width: px(15) }} />\n                </div>\n                Female\n              </div>\n              <div className=\"male\" style={{ fontSize: px(18) }}>\n                <div className=\"maleCiral\"\n                  style={{ backgroundColor: maleBgc, width: px(40), height: px(40), }}\n                  onClick={() => this.setState({ gender: 0 })}\n                >\n                  <img src={male} alt=\"\" style={{ width: px(20) }} />\n                </div>\n                Male\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n  handleOk = () => {\n    let params = {\n      patientId: this.state.patientId,\n      doctorId: storage.userId\n    }\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      params.org = storage.lastOrganization\n    }\n    this.setState({\n      confirmLoading: true\n    });\n    getPetInfoByPatientIdAndPetId(params)\n      .then((res) => {\n        this.setState({\n          confirmLoading: false,\n          isModalVisible: false\n        });\n        if (res.flag === true) {\n          let oldList = res.data[0];\n          let {\n            age, url, createTime, patientId, speciesId, petName, firstName, birthday, lastName, breedName, gender,\n            petId, weight, rfid, l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference, pethubId, macId,\n            h2tLength, torsoLength\n          } = oldList;\n          const isUnKnow = (val) => {\n            if (val) {\n              return val\n            } else {\n              return 'unknown'\n            }\n          }\n          let owner = ''\n          patientId = isUnKnow(patientId)\n          petName = isUnKnow(petName)\n          breedName = isUnKnow(breedName)\n          age = isUnKnow(age)\n          weight = isUnKnow(weight)\n          if (!firstName) {\n            firstName = ''\n          }\n          if (!lastName) {\n            lastName = ''\n          }\n          if (lastName === '' && firstName === '') {\n            owner = 'unknown'\n          } else {\n            owner = `${lastName} ${firstName}`\n          }\n          createTime = moment(createTime).format('X')\n          let petGender = ''\n          switch (`${gender}`) {\n            case '1': petGender = 'F'\n              break;\n            case '0': petGender = \"M\"\n              break;\n            default: petGender = 'unknown'\n              break;\n          }\n          let petAge = 'unknown'\n          if (birthday) {\n            petAge = moment(new Date()).diff(moment(birthday), 'years')\n          }\n\n          let json = {\n            insertedAt: createTime,\n            patientId: this.state.patientId,\n            petName,\n            owner,\n            breed: breedName,\n            gender: petGender,\n            age: petAge,\n            petId,\n            weight,\n            rfid,\n            url,\n            speciesId,\n            l2rarmDistance,\n            neckCircumference,\n            upperTorsoCircumference,\n            lowerTorsoCircumference,\n            h2tLength,\n            torsoLength,\n            pethubId,\n            macId,\n          }\n          this.props.setMenuNum('1');\n          this.props.petDetailInfoFun(json);\n          this.props.history.push(\"/MainBody\");\n        } else {\n          message.error(res.msg);\n        }\n      })\n      .catch(err => {\n        message.error('Jump Failure');\n      })\n  };\n  handleCancel = () => {\n    this.setState({\n      isModalVisible: false\n    })\n  };\n\n  render() {\n    const { closeColor, closebgc, minbgc, disabled, petSpeciesBreedId, isModalVisible, confirmLoading } = this.state\n    return (\n      <Spin spinning={this.state.spin} size=\"large\">\n        <div id=\"doctorAddPet\">\n          <div className=\"heard\">\n            <Heard\n              onReturn={() => {\n                this.props.history.goBack()\n              }}\n            />\n          </div>\n          <div className=\"editPetInfo_top\" >\n            <div className=\"title\" style={{ marginBottom: px(20), marginTop: px(20) }}>{`New Pet`}</div>\n            {this._petSpecies()}\n            {this._petName()}\n            {this._ownName()}\n            {this._primaryBreed()}\n            {this._weight()}\n          </div>\n          <div className=\"editPetInfo_foot\"  >\n            <div className=\"save\"\n              onClick={() => {\n                if (!this.state.patientId) {\n                  message.error('Please enter patient ID')\n                  return\n                }\n                let params = {\n                  patientId: this.state.patientId,\n                  doctorId: storage.userId\n                }\n                if (storage.lastWorkplaceId) {\n                  params.workplaceId = storage.lastWorkplaceId\n                }\n                if (storage.lastOrganization) {\n                  params.organizationId = storage.lastOrganization\n                }\n\n                this.setState({\n                  spin: true\n                })\n                checkPatientId(params)\n                  .then(res => {\n                    console.log(res);\n                    if (res.flag === false) {\n                      this.setState({\n                        spin: false\n                      }, () => {\n                        errPatientId = params.patientId\n                        message.error('This patient ID is already occupied, please change to a new one')\n                      })\n                    } else {\n                      let { petSpecies, petName, birthday, petSpeciesBreedId, isMix, weight, gender, unit, imageId, confirmSelectBreedJson, owner, patientId, selectWZ } = this.state\n                      let species = null\n                      if (petSpeciesBreedId) {\n                        species = petSpeciesBreedId\n                      } else {\n                        // 11001 是cat 12001是dog 13001是other\n                        switch (selectWZ) {\n                          case 'cat': species = 11001; break;\n                          case 'dog': species = 12001; break;\n                          default: species = 13001;\n                            break;\n                        }\n                      }\n                      let data = {\n                        petName,\n                        birthday: moment(birthday).format('YYYY-MM-DD'),\n                        gender,\n                        owner,\n                        petSpeciesBreedId: species,\n                        doctorId: storage.userId\n                      }\n                      if (weight) {\n                        if (unit === 1) {\n                          weight = (0.45359 * weight).toFixed(2)\n                        }\n                        data.weight = parseFloat(weight)\n                      }\n                      if (imageId !== -1 && imageId) {\n                        data.imageId = imageId\n                      }\n                      if (storage.lastWorkplaceId) {\n                        data.workplaceId = storage.lastWorkplaceId\n                      }\n                      if (storage.lastOrganization) {\n                        data.organizationId = storage.lastOrganization\n                      }\n                      addDeskPet(patientId, data)\n                        .then(res => {\n                          this.setState({\n                            spin: false\n                          })\n                          console.log(res);\n                          if (res.flag === true) {\n                            message.success('Added successfully')\n                            this.handleOk();\n                            // this.props.history.goBack()\n                          }\n                          else {\n                            message.error('add failed')\n                          }\n                        })\n                        .catch(err => {\n                          this.setState({\n                            spin: false\n                          })\n                          message.error('add failed')\n                          console.log(err);\n                        })\n                    }\n                  })\n                  .catch(err => {\n                    this.setState({\n                      spin: false\n                    })\n                    console.log(err);\n                  })\n              }}\n            >Save</div>\n          </div>\n          <Modal\n            title=\"\"\n            visible={isModalVisible}\n            onOk={this.handleOk}\n            onCancel={this.handleCancel}\n            centered\n            destroyOnClose\n            maskClosable={false}\n            confirmLoading={confirmLoading}\n          >\n            <div style={{ padding: px(24), fontSize: px(16) }}>\n              This patient ID is already occupied ! <br />Whether to switch to the pet measurement screen ?\n            </div>\n          </Modal>\n          <SelectPetBreed\n            visible={this.state.selectBreedVisible}\n            destroyOnClose\n            width={400}\n            value={this.state.petSpeciesBreedId}\n            onSelect={(value) => {\n              this.setState({\n                selectBreedVisible: false,\n                selectBreedJson: value,\n                petSpeciesBreedId: value.petSpeciesBreedId,\n                confirmSelectBreedJson: value,\n              })\n            }}\n            onCancel={() => {\n              this.setState({\n                selectBreedVisible: false,\n              })\n            }}\n          />\n        </div>\n      </Spin>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n\n  }),\n  { petDetailInfoFun, setMenuNum, }\n)(DoctorAddPet)\n",["349","350"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/invite/index.jsx",["351"],"import React, { Component, } from 'react'\nimport {\n  Tag,\n  Input,\n  Tooltip,\n  message,\n} from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\n\n\nimport MaxMin from '../../utils/maxminreturn/MaxMinReturn'\nimport { px } from '../../utils/px';\nimport Button from '../../utils/button/Button'\nimport MyModal from '../../utils/myModal/MyModal';\n\nimport './index.less';\nimport { checkUser } from '../../api';\nimport { inviteUserByEmail } from '../../api/melladesk/user';\n\nlet storage = window.localStorage;\n\nexport default class Invite extends Component {\n\n  state = {\n\n    tags: [],\n    inputVisible: false,\n    inputValue: '',\n    editInputIndex: -1,\n    editInputValue: '',\n    visible: false\n  }\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big')\n\n    //监听屏幕分辩率是否变化，变化就去更改界面内容距离大小\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big')\n    this.setState({\n\n    })\n  }\n\n\n  handleClose = removedTag => {\n    const tags = this.state.tags.filter(tag => tag !== removedTag);\n    console.log(tags);\n    this.setState({ tags });\n  };\n\n  showInput = () => {\n    this.setState({ inputVisible: true }, () => this.input.focus());\n  };\n\n  handleInputChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleInputConfirm = () => {\n    const { inputValue } = this.state;\n    let { tags } = this.state;\n    if (inputValue && tags.indexOf(inputValue) === -1) {\n      console.log('输入的内容为：', inputValue);\n      message.destroy()\n      checkUser(inputValue)\n        .then(res => {\n          console.log(res);\n          if (res.code === 11011) {\n            console.log('邮箱号以被注册，是否忘记密码');\n            tags = [...tags, inputValue];\n            console.log(tags);\n\n            this.setState({\n              tags,\n              inputVisible: false,\n              inputValue: '',\n            });\n          }\n          else {\n            message.error('This mailbox was not found!', 3)\n            this.setState({\n              inputVisible: false,\n              inputValue: '',\n            });\n          }\n        })\n        .catch(err => {\n          message.error(`Error:${err.message}`)\n          console.log('检测邮箱号的接口出错了', err);\n        })\n\n\n    }\n\n  };\n\n\n  saveInputRef = input => {\n    this.input = input;\n  };\n\n  saveEditInputRef = input => {\n    this.editInput = input;\n  };\n\n  _next = () => {\n    message.destroy()\n    let { tags } = this.state\n    let userId = storage.userId\n    let organizationId = storage.lastOrganization\n    console.log({ tags, userId, organizationId });\n    if (tags.length === 0) {\n      message.error('Please enter the invitation email')\n      return\n    }\n    this.setState({\n      visible: true\n    })\n\n    inviteUserByEmail(userId, organizationId, tags)\n      .then(res => {\n        console.log(res);\n        this.setState({\n          visible: false\n        })\n        if (res.flag === true) {\n          console.log('成功，跳转');\n          message.success('Invitation successful', 3)\n          this.props.history.goBack()\n\n        } else {\n          message.error('Invitation failed')\n\n        }\n\n      })\n      .catch(err => {\n        this.setState({\n          visible: false\n        })\n        console.log(err);\n        message.error(err.message, 3)\n      })\n  }\n  render() {\n    const { tags, inputVisible, inputValue, editInputIndex, editInputValue } = this.state;\n    console.log('---', editInputIndex);\n    return (\n      <div id=\"inviteTeam\" >\n        {/* 关闭缩小 */}\n        <div className=\"heard\">\n          <MaxMin\n            onClick={() => { this.props.history.push('/') }}\n            onClick1={() => this.props.history.goBack()}\n          />\n          <div className=\"text\">Invite your Team</div>\n\n          <div className=\"addF\">\n            <p>To:</p>\n            <div className=\"add\">\n\n              <>\n                {tags.map((tag, index) => {\n                  const isLongTag = tag.length > 25;  //标签里面的字符串的长度\n\n                  const tagElem = (\n                    <Tag\n                      className=\"edit-tag\"\n                      key={tag}\n                      closable={true}\n                      onClose={() => this.handleClose(tag)}\n                    >\n                      <span>\n                        {isLongTag ? `${tag.slice(0, 25)}...` : tag}\n                      </span>\n                    </Tag>\n                  );\n                  return isLongTag ? (\n                    <Tooltip title={tag} key={tag}>\n                      {tagElem}\n                    </Tooltip>\n                  ) : (\n                    tagElem\n                  );\n                })}\n                {inputVisible && (\n                  <Input\n                    ref={this.saveInputRef}\n                    type=\"text\"\n                    size=\"small\"\n                    className=\"tag-input\"\n                    value={inputValue}\n                    onChange={this.handleInputChange}\n                    onBlur={this.handleInputConfirm}\n                    onPressEnter={this.handleInputConfirm}\n                  />\n                )}\n                {!inputVisible && (\n                  <Tag className=\"site-tag-plus\" onClick={this.showInput}>\n                    <PlusOutlined />Press Enter to add mailbox\n                  </Tag>\n                )}\n              </>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"btn\"\n          style={{ padding: `${px(40)}px 0` }}\n        >\n\n          {/* <Button\n            type=\"primary\"\n            shape=\"round\"\n            size='large'\n            htmlType=\"submit\"\n            onClick={this._next}\n            text={'Send'}\n          >\n\n          </Button> */}\n\n          <Button\n\n            onClick={this._next}\n            text={'Send'}\n            textBoxStyle={{ height: px(45), width: '45%' }}\n          >\n\n          </Button>\n        </div>\n        <MyModal visible={this.state.visible} />\n\n      </div>\n\n\n    )\n  }\n}\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/settings/index.jsx",["352","353","354","355","356","357","358"],"\nimport React, { Component } from 'react'\nimport {\n  Switch,\n  Select,\n  message\n} from 'antd'\n\nimport redJinggao from '../../assets/img/redjinggao.png'\n\nimport Heart from '../../utils/heard/Heard'\nimport Slider from '../../utils/slider/Slider'\nimport Button from '../../utils/button/Button'\nimport electronStore from '../../utils/electronStore'\nimport { px, win } from '../../utils/px';\nimport MyModal from '../../utils/myModal/MyModal'\n\nimport './index.less'\n\nconst { Option } = Select;\nlet storage = window.localStorage\nexport default class Settings extends Component {\n\n  state = {\n    self_tarting: false,      //自启动，\n    isHua: true,              //为true代表为华氏度，为false代表℃\n    is15: true,               //腋温测量时长，为true则是15秒，为false则是35秒\n    isClicleStudy: false,     //是否处于临床测试，为true则在处于，false则不处于\n    isBacklight: true,        //是否开启背光，为true则是开启背光，为false则是关闭背光\n    isBeep: true,             //是否开启蜂鸣器，为true则是开启蜂鸣器，反之则是关闭蜂鸣器\n    backlightTimer: { length: 140, number: '45' },//背光时长，长度指的是在滑轨上面的距离，number指的是显示的秒数\n    autoOff: { length: 0, number: '30' },  //无操作自动关机，长度指的是在滑轨上面的距离，number指的是关闭的秒数\n\n\n    oldIsHua: true,\n    oldIs15: true,\n    oldIsBacklight: true,\n    oldIsBeep: true,\n    oldBacklightTimer: { length: 140, number: '45' },\n    oldAutoOff: { length: 0, number: '30' },\n    oldIsClicleStudy: false,\n\n    isSave: false,\n\n    num0: '',\n    num1: '',\n    num2: '',\n    num3: '',\n    num4: '',\n    num5: '',\n    verifyNum: '',\n\n    maxLength: 1, //验证码长度\n    valueA: \"\", //验证码第一位\n    valueB: \"\", //二\n    valueC: \"\", //三\n    valueD: \"\", //四\n    valueE: \"\", //5\n    valueF: \"\", //6\n    isClicleStudyModal: false\n  }\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    // if (windowsHeight < 900) {\n    //   ipcRenderer.send('table', win())\n    // } else {\n    //   ipcRenderer.send('setting', win())\n    // }\n    ipcRenderer.send('big', win())\n    //这里要根据保存的时候存到哪个位置的，然后拿出来更新state\n    let hardSet = electronStore.get(`${storage.userId}-hardwareConfiguration`)\n    console.log('----', hardSet);\n    let isClicleStudy = storage.isClinical === 'true' ? true : false\n    if (hardSet) {\n      console.log('不是第一次进来，有设置的');\n      let { isHua, is15, isBacklight, isBeep, backlightTimer, autoOff } = hardSet\n\n      this.setState({\n        isHua,\n        is15,\n        isBacklight,\n        isBeep,\n        backlightTimer,\n        autoOff,\n        // isClicleStudy: temporaryStorage.isClicleStudy,\n        isClicleStudy,\n\n        oldIsHua: isHua,\n        oldIs15: is15,\n        oldIsBacklight: isBacklight,\n        oldIsBeep: isBeep,\n        oldBacklightTimer: backlightTimer,\n        oldAutoOff: autoOff,\n        // oldIsClicleStudy: temporaryStorage.isClicleStudy,\n        oldIsClicleStudy: isClicleStudy,\n\n      })\n    } else {\n      let settings = {\n        isHua: true,\n        is15: true,\n        self_tarting: false,  //自启动\n        isBacklight: true,\n        isBeep: true,\n        backlightTimer: { length: 140, number: '45' },\n        autoOff: { length: 0, number: '30' },\n      }\n      electronStore.set(`${storage.userId}-hardwareConfiguration`, settings)\n      let { isHua, is15, isBacklight, isBeep, backlightTimer, autoOff } = settings\n      this.setState({\n        isHua,\n        is15,\n        isBacklight,\n        isBeep,\n        backlightTimer,\n        autoOff,\n        // isClicleStudy: temporaryStorage.isClicleStudy,\n        isClicleStudy,\n\n        oldIsHua: isHua,\n        oldIs15: is15,\n        oldIsBacklight: isBacklight,\n        oldIsBeep: isBeep,\n        oldBacklightTimer: backlightTimer,\n        oldAutoOff: autoOff,\n        // oldIsClicleStudy: temporaryStorage.isClicleStudy,\n        oldIsClicleStudy: isClicleStudy\n\n\n      })\n    }\n\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    if (windowsHeight < 900) {\n      ipcRenderer.send('table', win())\n    } else {\n      ipcRenderer.send('big', win())\n    }\n    this.setState({\n\n    })\n  }\n\n  _save = () => {\n    console.log('点击保存');\n    /**\n     * 分别两部分保存保存，\n     * 本地存储：程序自启动、测量单位、背光、蜂鸣器、背光时间、硬件自动关机时间、腋温测量时间\n     * 临时存储：处于临床测试状态\n     */\n    this.setState({\n      isSave: false\n    })\n    let { self_tarting, isHua, isClicleStudy, isBacklight, isBeep, backlightTimer, autoOff, is15 } = this.state\n    // console.log({ self_tarting, isHua, isClicleStudy, isBacklight, isBeep, backlightTimer, autoOff, is15 });\n    let settings = {\n      isHua,\n      is15,\n      self_tarting,\n      isBacklight,\n      isBeep,\n      backlightTimer,\n      autoOff,\n    }\n    electronStore.set(`${storage.userId}-hardwareConfiguration`, settings)\n    // temporaryStorage.isClicleStudy = isClicleStudy\n    storage.isClinical = `${isClicleStudy}`\n    let ipcRenderer = window.electron.ipcRenderer\n    if (self_tarting) {\n      ipcRenderer.send('openAutoStart')\n    } else {\n      ipcRenderer.send('closeAutoStart')\n    }\n    let setArr = ['03', 'ed', '07', 'dd', autoOff.number, isBacklight ? backlightTimer.number : '00', isBeep ? '11' : '00', isHua ? '00' : '01']\n    console.log('setArr', setArr);\n\n\n\n    ipcRenderer.send('usbdata', { command: '21', arr: setArr })\n\n    this.props.history.goBack()\n  }\n  _goback = () => {\n    console.log('返回');\n    let { isHua, is15, isBacklight, isBeep, backlightTimer, autoOff, isClicleStudy,\n      oldAutoOff, oldBacklightTimer, oldIs15, oldIsBacklight, oldIsBeep, oldIsClicleStudy, oldIsHua, } = this.state\n    if (isHua !== oldIsHua || is15 !== oldIs15 || isBacklight !== oldIsBacklight || isBeep !== oldIsBeep || backlightTimer !== oldBacklightTimer\n      || autoOff !== oldAutoOff || isClicleStudy !== oldIsClicleStudy) {\n      console.log('做了更改');\n      this.setState({\n        isSave: true\n      })\n\n    } else {\n      this.props.history.goBack()\n    }\n\n  }\n\n  //验证码光标后移\n  handleInputValue = (e, type) => {\n\n    const { value = \"\" } = e.target;\n    switch (type) {\n      case \"A\":\n        if (value) this.secondFoucs.focus();\n\n        this.setState({\n          valueA: value.slice(0, 1)\n        });\n\n\n        break;\n\n\n      case \"B\":\n        if (value) this.tridFoucs.focus();\n\n        this.setState({\n          valueB: value.slice(0, 1)\n        });\n\n\n        break;\n\n      case \"C\":\n        if (value) this.fourFoucs.focus();\n\n        this.setState({\n          valueC: value.slice(0, 1)\n        });\n\n\n        break;\n\n      case \"D\":\n        if (value) this.fiveFoucs.focus();\n\n        this.setState({\n          valueD: value.slice(0, 1)\n        });\n\n\n        break;\n\n      case \"E\":\n        if (value) this.sixFoucs.focus();\n\n        this.setState({\n          valueE: value.slice(0, 1)\n        });\n\n\n        break;\n      default:\n        this.setState({\n          valueF: value.slice(0, 1),\n          isShow: true\n        });\n        break;\n    }\n\n  };\n  //删除验证码\n  handleDel = e => {\n    const BACK_SPACE = 8;\n    const isBackSpaceKey = e.keyCode === BACK_SPACE;\n    if (isBackSpaceKey && e.target.value.length === 0) {\n      let previous = e.target;\n      //上一个兄弟节点\n      previous = previous.previousElementSibling;\n      if (previous !== null && previous.tagName.toLowerCase() === \"input\") {\n        previous.focus();\n      }\n    }\n  };\n\n\n  moceCursor = (index) => {\n    let inputs = document.querySelectorAll('#settings .verify input')\n    if (index < 5) {\n      inputs[++index].focus()\n    }\n  }\n  backCursor = (index) => {\n    let inputs = document.querySelectorAll('#settings .verify input')\n    inputs[--index].focus()\n  }\n  _device = () => {\n\n    let userId = storage.userId\n    let deviceList = electronStore.get(`${userId}-deviceList`)\n    console.log('---', deviceList);\n    if (!deviceList) {\n      let str = `${getRamNumber()}`\n      for (let i = 0; i < 5; i++) {\n        str += `:${getRamNumber()}`\n      }\n      console.log('随机生成的mac地址:', str);\n      deviceList = [{ name: 'MellaPro', deviceType: 'mellaPro', macId: str }]\n      electronStore.set(`${userId}-deviceList`, deviceList)\n    }\n\n\n    function getRamNumber() {\n      var result = '';\n      for (var i = 0; i < 2; i++) {\n        result += Math.floor(Math.random() * 16).toString(16);//获取0-15并通过toString转16进制\n      }\n      //默认字母小写，手动转大写\n      return result.toLowerCase();//另toLowerCase()转小写\n    }\n    let deviceArr = []\n    let selectDevice = electronStore.get(`${storage.userId}-selectDevice`)\n    let selectDeviceName = ''\n    for (let i = 0; i < deviceList.length; i++) {\n      const element = deviceList[i];\n      let json = {\n        key: element.macId, value: element.name\n      }\n      deviceArr.push(json)\n      if (selectDevice === element.macId) {\n        selectDeviceName = element.name\n      }\n    }\n\n\n\n    return (\n      // <div className=\"item\" style={{ marginTop: px(15) }}>\n      <div className=\"title\">\n        <div className=\"hardSetting\">{`Hardware Settings`}</div>\n      </div>\n      // </div>\n    )\n  }\n\n\n  render() {\n    let { isClicleStudy, isBacklight, isBeep, backlightTimer, valueA, valueB, valueC, valueD, isClicleStudyModal, valueE, valueF, maxLength, sortBy, showsortBy } = this.state\n\n    let bodyHeight = '90%'\n    try {\n      bodyHeight = document.getElementById('settings').clientHeight - document.querySelectorAll('#settings .heard')[0].clientHeight\n    } catch (error) {\n\n    }\n\n\n    return (\n      <div id=\"settings\">\n        <div className=\"heard\">\n          <Heart\n            onReturn={this._goback}\n            // onSearch={(val) => { console.log(val); }}\n            menu8Click={() => {\n              switch (storage.identity) {   //1是vetspire   2是ezyvet   3是医生\n                case '1': this.props.history.push('/VetSpireSelectExam')\n\n                  break;\n                case '2': this.props.history.push({ pathname: '/EzyVetSelectExam', listDate: storage.ezyVetList, defaultCurrent: storage.defaultCurrent })\n\n                  break;\n\n                case '3': this.props.history.push({ pathname: '/uesr/selectExam', listDate: storage.doctorList, defaultCurrent: storage.defaultCurrent })\n\n                  break;\n                default:\n                  break;\n              }\n            }}\n          />\n        </div>\n\n\n        <div className=\"body\">\n          <div className=\"setting\">\n            {/* 桌面设计 */}\n            <div className=\"desk\">\n              <div className=\"title\">Desktop Settings</div>\n\n              <div className=\"item\" style={{ marginBottom: px(10) }}>\n                <div className=\"l\">\n                  <div className=\"text\">Launch Mella on Computer Startup</div>\n                  <div className=\"icon\"\n                    onClick={() => this.setState({ self_tarting: !this.state.self_tarting })}\n                  >\n                    {(this.state.self_tarting) && <span  >&#xe619;</span>}\n\n                  </div>\n\n                </div>\n\n\n                <div className=\"l\" style={{ paddingLeft: px(50), paddingRight: px(50) }}>\n                  <div className=\"text\">Units:</div>\n                  <div className=\"unit\">\n\n\n                    <div className=\"one\"\n\n                      onClick={() => { this.setState({ isHua: true }) }}\n                    >\n                      <div className=\"check\">\n                        {(this.state.isHua) && <div className=\"ciral\" />}\n                      </div>\n                      <div className=\"unitsText\">°F / lbs</div>\n                    </div>\n                    <div className=\"one\"\n\n                      onClick={() => { this.setState({ isHua: false }) }}\n                    >\n                      <div className=\"check\">\n                        {(!this.state.isHua) && <div className=\"ciral\" />}\n                      </div>\n                      <div className=\"unitsText\">°C / kg</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"item\" style={{ marginBottom: px(10) }}>\n                {/* <div className=\"l\">\n                  <div className=\"text\">Clinical Study Mode</div>\n                  <div className=\"switch\">\n                    <Switch\n                      checked={isClicleStudy}\n                      onClick={() => {\n                        if (isClicleStudy === false) {\n                          this.setState({\n                            isClicleStudy: !isClicleStudy,\n                            isClicleStudyModal: true\n                          })\n                        } else {\n                          this.setState({\n                            isClicleStudy: !isClicleStudy\n                          })\n                          // temporaryStorage.isClicleStudy = false\n                          storage.isClinical = `${false}`\n\n                          this.props.history.push({ pathname: '/page10' })\n                        }\n\n                      }}\n                      size='small'\n                    />\n                  </div>\n\n                </div> */}\n\n                {/*\n                <div className=\"l\" style={{ height: '50px' }}>\n\n                </div> */}\n              </div>\n\n            </div>\n\n            {/* 用户设计 */}\n            {\n              // storage.roleId === '3' &&\n              <div className=\"desk\">\n                <div className=\"title user\">User Admin</div>\n\n                <div className=\"item\" style={{ marginBottom: px(10) }}>\n                  <div className=\"l\" onClick={() => { this.props.history.push('/menuOptions/ConnectWorkplace') }}>\n                    <div className=\"text\">{`Org & Practice Profiles`}</div>\n                    <div className=\"rightIcon\">&#xe60c;</div>\n\n                  </div>\n\n\n                  <div className=\"l\" onClick={() => { this.props.history.push('/menuOptions/invite') }}>\n                    <div className=\"text\">Invite Your Team</div>\n                    <div className=\"rightIcon\">&#xe60c;</div>\n                  </div>\n                </div>\n\n                <div className=\"item\" style={{ marginBottom: px(10) }}>\n                  <div className=\"l\"\n                    onClick={() => {\n                      console.log(storage.roleId);\n                      message.destroy()\n                      if (storage.roleId === '3') {\n                        this.props.history.push('/menuOptions/veterinarians')\n                      } else {\n                        message.error('You do not have administrator rights')\n                      }\n                    }}\n\n                  >\n                    <div className=\"text\">Vet Profile Management</div>\n                    <div className=\"rightIcon\">&#xe60c;</div>\n                  </div>\n\n\n                  <div className=\"l \"\n                    onClick={() => this.props.history.push('/menuOptions/petAndParents')}\n\n                    style={{ marginTop: '25px', }}>\n                    <div className=\"text\">Pet and Parents Profile Management</div>\n                    <div className=\"rightIcon\">&#xe60c;</div>\n                  </div>\n                </div>\n\n              </div>\n            }\n\n\n            {/* 硬件设置 */}\n\n            <div className=\"desk\">\n\n              {this._device()}\n              <div className=\"item\">\n                <div className=\"l\">\n                  <div className=\"text\">Backlight</div>\n                  <Switch\n                    checked={isBacklight}\n                    onClick={() => this.setState({ isBacklight: !isBacklight })}\n                    size='small'\n                  />\n                </div>\n\n\n                <div className=\"l\">\n                  <div className=\"text\">Action Beep</div>\n                  <Switch\n                    checked={isBeep}\n                    onClick={() => this.setState({ isBeep: !isBeep })}\n                    size='small'\n                  />\n                </div>\n              </div>\n\n\n              <div className=\"item\">\n                <div className=\"l\">\n                  <div className=\"backlight\" style={{ width: px(300) }} >\n                    <div className=\"text\">Backlight Timer</div>\n                    <div className=\"solid\">\n                      10 Secs\n                      <div className=\"slider\" >\n                        <Slider\n                          min={10}\n                          max={60}\n                          railWidth={px(200)}\n                          getData={(e) => { console.log(e); this.setState({ backlightTimer: e }) }}\n                          left={backlightTimer.length}\n                        />\n                      </div>\n                      60 Secs\n                    </div>\n\n                  </div>\n                </div>\n\n\n                <div className=\"l\" >\n                  <div className=\"backlight\" style={{ width: px(300) }} >\n                    <div className=\"text\">Auto Off After</div>\n                    <div className=\"solid\">\n                      30 Secs\n                      <div className=\"slider\">\n                        <Slider\n                          min={30}\n                          max={60}\n                          railWidth={px(200)}\n                          getData={(e) => { this.setState({ autoOff: e }) }}\n                          left={this.state.autoOff.length}\n                        />\n                      </div>\n                      60 Secs\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"item\">\n\n\n\n                <div className=\"l\" style={{ flexDirection: 'column', alignItems: 'flex-start' }}>\n                  <div className=\"text\">Measurement Time for Axillary Sensor</div>\n                  <div className=\"unit\">\n\n\n                    <div className=\"one\"\n                      onClick={() => { this.setState({ is15: true }) }}\n                    >\n                      <div className=\"check\">\n                        {(this.state.is15) && <div className=\"ciral\" />}\n                      </div>\n                      <div className=\"unitsText\">15 Secs</div>\n                    </div>\n                    <div className=\"one\"\n                      onClick={() => { this.setState({ is15: false }) }}\n                    >\n                      <div className=\"check\">\n                        {(!this.state.is15) && <div className=\"ciral\" />}\n                      </div>\n                      <div className=\"unitsText\">30 Secs</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"l\" onClick={() => this.props.history.push('/menuOptions/advancedsettings')}>\n                  <div className=\"text\">Advanced Settings</div>\n                  <div className=\"rightIcon\">&#xe60c;</div>\n                </div>\n              </div>\n\n\n            </div>\n\n          </div>\n\n\n          <div className=\"btnSave\">\n            <Button\n              text={'Save Changes'}\n              onClick={this._save}\n            />\n          </div>\n        </div>\n\n        <MyModal\n          visible={this.state.isSave}\n          element={\n            <div className='isSave'\n            //  style={{ borderRadius: `${px(20)}px`, backgroundColor: '#fff' }}\n            >\n              <img src={redJinggao} alt=\"\" style={{ width: px(50), margin: `${px(25)}px 0` }} />\n              <p>Settings changed - save?</p>\n              <div className=\"btn\" style={{ margin: `${px(30)}px 0` }} >\n                <Button\n                  text={'Cancel'}\n                  onClick={() => {\n                    this.setState({\n                      isSave: false\n                    })\n                  }}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n                <Button\n                  text={'OK'}\n                  onClick={this._save}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n              </div>\n            </div>\n          }\n        />\n\n\n        <MyModal\n          visible={isClicleStudyModal}\n          element={\n            <div className='isSave'\n              style={{ width: '40%' }}\n            >\n\n              <div className=\"title\" style={{ marginTop: px(60) }}>\n                Are you sure you want to enter<br />\n                Clinical Study Mode?<br />\n                Please enter code to enter.\n              </div>\n\n\n\n              <div className='verify' style={{ margin: `${px(20)}px 0` }}>\n\n                <input\n\n                  ref={ref => {\n                    this.firstFoucs = ref;\n                  }}\n                  value={valueA}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"A\")}\n                  autoFocus={'autofocus'}\n                />\n                <input\n\n                  ref={ref => {\n                    this.secondFoucs = ref;\n                  }}\n                  value={valueB}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"B\")}\n                />\n                <input\n                  foucs\n\n                  ref={ref => {\n                    this.tridFoucs = ref;\n                  }}\n                  value={valueC}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"C\")}\n                />\n                <input\n\n                  ref={ref => {\n                    this.fourFoucs = ref;\n                  }}\n                  value={valueD}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"D\")}\n                />\n\n\n\n                <input\n\n                  ref={ref => {\n                    this.fiveFoucs = ref;\n                  }}\n                  value={valueE}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"E\")}\n                />\n                <input\n\n                  ref={ref => {\n                    this.sixFoucs = ref;\n                  }}\n                  value={valueF}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"F\")}\n                />\n              </div>\n\n\n\n\n              <div className=\"btn\" style={{ margin: `${px(30)}px 0` }} >\n                <Button\n                  text={'Cancel'}\n                  onClick={() => {\n                    this.setState({\n                      isClicleStudyModal: false,\n                      isClicleStudy: false,\n                      valueA: '',\n                      valueB: '',\n                      valueC: '',\n                      valueD: '',\n                      valueE: '',\n                      valueF: ''\n                    })\n                  }}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n                <Button\n                  text={'OK'}\n                  onClick={() => {\n                    if (valueA && valueB && valueC && valueD && valueE && valueF) {\n                      this.setState({\n                        isClicleStudyModal: false\n                      })\n                      // temporaryStorage.isClicleStudy = true\n\n                      // let storage = window.localStorage;\n                      storage.isClinical = `${true}`\n                      this.props.history.push({ pathname: '/page8', identity: storage.identity });\n                    }\n\n\n                  }}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n              </div>\n            </div>\n          }\n        />\n\n\n      </div>\n    )\n  }\n}\n",["359","360"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/ezyvetApi.js",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/PetsUI.jsx",["361","362","363","364","365","366","367","368"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/ezyVetLogin/index.jsx",["369"],"import React, { Component, } from 'react'\nimport {\n    Button,\n    Input,\n    Form,\n    Select\n} from 'antd';\n\nimport dui from '../../assets/images/dui.png'\n\nimport MaxMin from '../../utils/maxminreturn/MaxMinReturn'\n\nimport './index.less';\nimport { ezyvetauth } from '../../api/melladesk/EzyVet';\n\nlet storage = window.localStorage;\nconst { Option } = Select;\nexport default class EzyNetLogin extends Component {\n\n    state = {\n        isRemember: false,\n        client_id: '',\n        client_secret: '',\n        partner_id: ''\n    }\n\n    componentDidMount() {\n        let ipcRenderer = window.electron.ipcRenderer\n        ipcRenderer.send('middle')\n        storage.ezyVetToken = ''\n    }\n    componentWillMount() {\n        console.log(storage.ezyVetLogin1, storage.ezyVetLogin1 !== '', storage.ezyVetToken1 !== undefined, `${storage.ezyVetToken1}` !== 'undefined');\n        console.log(storage.ezyVetLogin1, storage.ezyVetLogin !== '', storage.ezyVetToken !== undefined, `${storage.ezyVetToken}` !== 'undefined');\n        if (storage.ezyVetLogin !== '' && storage.ezyVetToken !== undefined && `${storage.ezyVetToken}` !== 'undefined') {\n            try {\n                let data = JSON.parse(storage.ezyVetLogin)\n                console.log('--', data);\n                this.setState({\n                    isRemember: data.isRemember,\n                    client_id: data.client_id,\n                    client_secret: data.client_secret,\n                    partner_id: data.partner_id\n                })\n            } catch (error) {\n                console.log(error);\n            }\n\n        }\n    }\n\n\n    render() {\n        const formItemLayout = {\n            labelCol: {\n                xs: { span: 10 },\n                sm: { span: 6 },\n            },\n            wrapperCol: {\n                xs: { span: 24 },\n                sm: { span: 14 },\n            },\n        };\n        const tailFormItemLayout = {\n            wrapperCol: {\n                xs: {\n                    span: 10,\n                    offset: 0,\n                },\n                sm: {\n                    span: 8,\n                    offset: 7,\n                },\n            },\n        };\n\n        const _next = (values) => {\n            console.log('Received values of form: ', values);\n            let parames = {\n                clientId: values.client_id,\n                clientSecret: values.client_secret,\n                partnerId: values.partner_id,\n            }\n            console.log(parames);\n            ezyvetauth(parames)\n                .then((res) => {\n                    console.log(res);\n                    if (res && res.msg === 'success') {\n\n                        storage.ezyVetToken = res.data\n                        if (this.state.isRemember) {\n                            storage.ezyVetLogin = JSON.stringify({\n                                client_id: values.client_id,\n                                client_secret: values.client_secret,\n                                partner_id: values.partner_id,\n                                isRemember: this.state.isRemember\n                            })\n                        } else {\n                            storage.ezyVetLogin = ''\n                        }\n                        storage.selectTime = ''\n                        storage.ezyVetReLogin = JSON.stringify({  //如果令牌过期了，需要重新输入信息重新获取令牌\n                            client_id: values.client_id,\n                            client_secret: values.client_secret,\n                            partner_id: values.partner_id,\n                        })\n\n                        this.props.history.push('EzyVetSelectTime')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n\n        }\n        let { client_id, client_secret, partner_id } = this.state\n\n        return (\n            <div id=\"eszVetLogin\">\n                {/* 关闭缩小 */}\n                <MaxMin\n                    onClick={() => { this.props.history.push('/') }}\n                    onClick1={() => this.props.history.push('/page1')}\n                />\n                <div className=\"text\">\n                    Please enter your user information\n                </div>\n                <div className=\"form\">\n                    <Form\n                        {...formItemLayout}\n                        name=\"register\"\n                        onFinish={_next}\n                        initialValues={{\n                            client_id, client_secret, partner_id\n                        }}\n\n                        scrollToFirstError\n                    >\n                        <Form.Item\n                            name=\"client_id\"\n                            label=\"Client ID\"\n                            rules={[{ required: true, message: 'Please input your Client ID!', whitespace: true }]}\n\n                        >\n                            <Input className='inp' />\n                        </Form.Item>\n                        <Form.Item\n                            name=\"client_secret\"\n                            label=\"Client Secret\"\n                            rules={[{ required: true, message: 'Please input your Client Secret!', whitespace: true }]}\n                            hasFeedback\n                        >\n                            <Input.Password className='inp' />\n                        </Form.Item>\n                        <Form.Item\n                            name=\"partner_id\"\n                            label=\"Partner ID\"\n                            rules={[{ required: true, message: 'Please input your Partner ID!', whitespace: true }]}\n                        >\n                            <Input className='inp' />\n                        </Form.Item>\n\n                        <Form.Item\n                            {...tailFormItemLayout}\n                        >\n                            <div className=\"btn\">\n                                <Button\n                                    type=\"primary\"\n                                    shape=\"round\"\n                                    size='large'\n                                    htmlType=\"submit\"\n                                >\n                                    Next\n                                </Button>\n                            </div>\n                        </Form.Item>\n                    </Form>\n                </div>\n                <div className=\"remember\">\n                    <p>Stay Signed In:</p>\n                    <div className=\"box\" onClick={() => {\n                        let { isRemember } = this.state\n                        this.setState({\n                            isRemember: !isRemember\n                        })\n                        storage.isRemember = !isRemember\n                    }}>\n                        {this.state.isRemember && <img src={dui} alt=\"\" />}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/editPetInfo/index.jsx",["370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386"],"import React, { Component } from 'react'\nimport { Input, Menu, message, Select, Calendar, Col, Row } from 'antd';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nimport dog from '../../assets/images/pinkdog.png'\nimport cat from '../../assets/images/pinkcat.png'\nimport redDog from '../../assets/images/reddog.png'\nimport redCat from '../../assets/images/redcat.png'\nimport redother from '../../assets/images/redother.png'\nimport other from '../../assets/images/other.png'\nimport selectphoto from '../../assets/images/sel.png'\nimport Close from '../../assets/img/close.png'\nimport nextImg from '../../assets/img/nextImg.png'\nimport dui from '../../assets/images/dui.png'\nimport female from '../../assets/images/female.png'\nimport male from '../../assets/images/male.png'\n\nimport { mTop, px, win } from '../../utils/px';\nimport MyModal from '../../utils/myModal/MyModal';\nimport electronStore from '../../utils/electronStore';\nimport PhoneBook from '../../utils/phoneBook/PhoneBook';\nimport Button from '../../utils/button/Button';\nimport Avatar from '../../components/avatar/Avatar';\n\nimport { connect } from 'react-redux';\nimport { petDetailInfoFun } from '../../store/actions';\nimport moment from 'moment';\n\nimport './index.less';\nimport { checkPatientId, getPetInfoByPatientIdAndPetId, selectBreedBySpeciesId, updatePetInfo } from '../../api/mellaserver/pet';\nimport { listDoctorsByAdmin } from '../../api/mellaserver/organization';\n\nconst { SubMenu } = Menu;\nconst { Option } = Select;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\n})\nlet storage = window.localStorage;\nlet errPatientId = ''\nlet url = 'https://www.mellaserver.com/api/mellaserver'\n// let url = 'http://192.168.0.36:8080/mellaserver'\nclass EditPetInfo extends Component {\n  state = {\n    dogImg: dog,\n    catImg: cat,\n    otherImg: other,\n    selectWZ: '',\n    closebgc: '',\n    minbgc: '',\n    closeColor: '',\n    api: '',\n    id: '',\n    seleceID: '',//医生id\n    petSpecies: 0,\n    unit: 1,\n    gender: 0,\n    isMix: false,\n    imageId: -1,\n    imgurl: '',\n    breedArr: [],\n    petSpeciesBreedId: '',\n    dogData: [],\n    birthday: moment(new Date()).format('MMMM D, YYYY'),\n    patientId: '',\n    petName: '',\n\n    petId: '',\n    lastName: '',\n    firstName: '',\n    breedName: '',\n\n    initpetName: '',\n    initpetId: '',\n    initlastName: '',\n    initfirstName: '',\n    initbreedName: '',\n    spin: false,\n    dogBreed: [],\n    catBreed: [],\n\n    oldPatientId: '',\n    searchBreed: '',\n    selectBreedJson: {},\n    confirmSelectBreedJson: {},\n    selectBreed: false,\n\n    doctorArr: [],\n    selectUser: false,\n    selectUserJson: {},\n    selectUserId: '',\n    confirmSelectUserJson: {},\n    petUrl: ''\n\n\n  }\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big', win())\n    // if (this.props.location.participate) {\n    //   let props = this.props.location.participate\n    //   console.log(props);\n    //   this.setState({\n    //     patientId: props.patientId,\n    //     petId: props.petId,\n    //     oldPatientId: props.patientId,\n\n    //   }, () => {\n    //     this._getPetInfo()\n    //   })\n    //   console.log(props);\n    // } else {\n    //   this._getPetInfo()\n    // }\n    let { petDetailInfo } = this.props\n    let { petId, patientId, petName, lastName, firstName, breedName, isWalkIn } = petDetailInfo\n    if (!isWalkIn) {\n      if (!patientId || patientId === 'unknown') {\n        patientId = null\n      }\n      this.setState({\n        patientId,\n        petId,\n        oldPatientId: patientId,\n        breedName: breedName\n\n      }, () => {\n        this._getPetInfo()\n      })\n    }\n\n\n    let dogBreed = electronStore.get('dogBreed') || []\n    let catBreed = electronStore.get('catBreed') || []\n    this.setState({\n      dogBreed,\n      catBreed\n    })\n    this.getBreed('cat')\n    this.getBreed('dog')\n    this.getUser()\n\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big', win())\n    this.setState({\n\n    })\n  }\n  getBreed = (val) => {\n    let data = {}\n    switch (val) {\n      case 'dog':\n        data.speciesId = 2; break;\n\n      case 'cat':\n        data.speciesId = 1; break;\n    }\n\n    selectBreedBySpeciesId(data)\n      .then(res => {\n        // console.log('---', res);\n        if (res.code === 0) {\n          let arr = []\n          res.petlist.map((item, index) => {\n            let data = {\n              petSpeciesBreedId: item.petSpeciesBreedId,\n              breedName: item.breedName\n            }\n            arr.push(data)\n          })\n          if (val === 'dog') {\n            this.setState({\n              dogBreed: arr\n            })\n            electronStore.set('dogBreed', arr)\n          } else if (val === 'cat') {\n            this.setState({\n              catBreed: arr\n            })\n            electronStore.set('catBreed', arr)\n          }\n\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n  getUser = () => {\n    let params = {\n      doctorId: storage.userId,\n    }\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      params.organizationId = storage.lastOrganization\n    }\n\n    console.log('查询宠物的入参', params);\n\n\n    listDoctorsByAdmin(storage.lastOrganization, params)\n      .then(res => {\n        console.log('人员列表', res);\n\n        if (res.flag === true && res.code === 20000) {\n          let data = []\n          for (let i = 0; i < res.data.length; i++) {\n            let { birthday, email, firstName, lastName, isLimit, isDeleted, phone, url, userId, createTime, roleId } = res.data[i]\n\n            let json = {\n              insertedAt: createTime,\n              breedName: `${lastName} ${firstName}`,\n              petSpeciesBreedId: userId,\n              email,\n              birthday,\n              isLimit,\n              isDeleted,\n              phone,\n              url,\n              firstName, lastName, roleId\n            }\n            data.push(json)\n          }\n          data.sort((a, b) => {\n            return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n          })\n          this.setState({\n            doctorArr: data,\n            // parentList: data //这里只是测试，后期删除\n\n          })\n\n        }\n      })\n      .catch(err => {\n        console.log(err);\n\n      })\n  }\n\n  _getPetInfo = () => {\n    let { patientId, petId } = this.state\n    let datas = {\n      doctorId: storage.userId,\n    }\n    if (storage.lastWorkplaceId) {\n      datas.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      datas.org = storage.lastOrganization\n    }\n    if (patientId && patientId !== 'undefined') {\n      datas.patientId = patientId\n    }\n    if (petId) {\n      datas.petId = petId\n    }\n    this.setState({\n      spin: true\n    })\n    console.log('入参：', datas);\n    getPetInfoByPatientIdAndPetId(datas)\n    getPetInfoByPatientIdAndPetId(datas)\n      .then(res => {\n        this.setState({\n          spin: false\n        })\n        console.log('>>>>>>>>>>>>>>', res);\n        if (res.flag === true) {\n          //有宠物，进入1\n          let datas = []\n          for (let i = 0; i < res.data.length; i++) {\n            if (res.data[i].petId === this.state.petId) {\n              datas = res.data[i]\n              break\n            }\n          }\n          console.log('获取到宠物', datas);\n          let { petId, petName, lastName, firstName, breedName, isMix, birthday, weight, url, gender, speciesId, petSpeciesBreedId } = datas\n\n          if (isMix !== true) {\n            isMix = false\n          }\n          // petName = isNull(petName)\n          lastName = isNull(lastName)\n          firstName = isNull(firstName)\n          // breedName = isNull(breedName)\n\n          let confirmSelectBreedJson = {}\n          if (petSpeciesBreedId || petSpeciesBreedId === 0) {\n            confirmSelectBreedJson = {\n              name: breedName,\n              petSpeciesBreedId\n            }\n          }\n\n          url = isNull(url)\n          if (birthday != null) {\n            birthday = moment(birthday).format('MMMM D, YYYY')\n          }\n          else {\n            birthday = ''\n          }\n          if (gender === null || isNaN(gender) || `${gender}` === 'null' || `${gender}` === 'NaN') {\n            gender = 0\n          }\n          if (weight) {\n            weight = (weight * 2.2046).toFixed(1)\n          } else {\n            weight = ''\n          }\n          this.setState({\n            petId,\n            petName,\n            lastName,\n            firstName,\n            breedName,\n            isMix,\n            birthday,\n            weight,\n            imgurl: url,\n            gender,\n            petSpecies: speciesId,\n            initpetName: petName,\n            initlastName: lastName,\n            initfirstName: firstName,\n            confirmSelectBreedJson,\n            petSpeciesBreedId\n          })\n          switch (speciesId) {\n            case 1: this.selectWZ('cat'); break;\n            case 2: this.selectWZ('dog'); break;\n\n            default: this.selectWZ('other'); break;\n          }\n\n        } else {\n          message.destroy()\n          message.error('data load failed')\n        }\n      })\n      .catch(err => {\n        this.setState({\n          spin: false\n        })\n        console.log(err);\n        message.destroy()\n        message.error('data load failed')\n      })\n    const isNull = (value) => {\n      if (value === null || isNaN(value) || `${value}` === 'null' || `${value}` === 'NaN') {\n        return ''\n      } else {\n        return value\n      }\n    }\n\n  }\n\n  /**------------------顶部start------------------------ */\n  _close = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('关闭程序');\n    ipcRenderer.send('window-close')\n  }\n  _min = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('最小化程序');\n    ipcRenderer.send('window-min')\n    this.setState({\n      minbgc: '',\n    })\n  }\n  _minMove = () => {\n\n    this.setState({\n      minbgc: 'rgb(211, 205, 205)'\n    })\n  }\n  _minLeave = () => {\n    this.setState({\n      minbgc: ''\n    })\n  }\n  _closeMove = () => {\n    this.setState({\n      closeColor: 'red',\n      closebgc: '#fff'\n    })\n  }\n  _closeLeave = () => {\n    this.setState({\n      closeColor: '#fff',\n      closebgc: ''\n    })\n  }\n\n  /**------------------顶部end------------------------ */\n  selectWZ = (val) => {\n    let { catBreed, dogBreed } = this.state\n    if (this.state.selectWZ !== val) {\n      switch (val) {\n        case 'dog':\n          this.setState({\n            catImg: cat,\n            dogImg: redDog,\n            otherImg: other,\n            selectWZ: val,\n            breedArr: [].concat(dogBreed),\n            confirmSelectBreedJson: {\n              name: \"defaultdog\",\n              petSpeciesBreedId: 12001\n            }\n          })\n\n          break;\n\n        case 'cat':\n          this.setState({\n            catImg: redCat,\n            dogImg: dog,\n            otherImg: other,\n            selectWZ: val,\n            breedArr: [].concat(catBreed),\n            confirmSelectBreedJson: {\n              name: \"defaultcat\",\n              petSpeciesBreedId: 11001\n            }\n          })\n\n          break;\n\n        case 'other':\n          this.setState({\n            catImg: cat,\n            dogImg: dog,\n            otherImg: redother,\n            selectWZ: val,\n            breedArr: [],\n            confirmSelectBreedJson: {\n              name: \"defaultother\",\n              petSpeciesBreedId: 13001\n            }\n          })\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n  _petSpecies = () => {\n    let { petSpecies, dogImg, catImg, otherImg, imgurl } = this.state\n\n    this.avatar = imgurl ? imgurl : selectphoto\n\n    return (\n      <div className=\"petSpecies\"\n        style={{ marginTop: mTop(30) }}\n      >\n        <div className=\"l\">\n          <p style={{ color: '#A0A0A0', fontSize: '16px' }}>Pet Species</p>\n          <div className=\"selectSpecies\">\n            <ul>\n              <li >\n                <div className='speciesChild' >\n                  <div className='dog'\n\n                    onClick={() => { this.selectWZ('dog') }}>\n                    <img src={dogImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Dog\n                </div>\n              </li>\n              <li>\n                <div className='speciesChild' >\n                  <div className='dog' onClick={() => { this.selectWZ('cat') }} >\n                    <img src={catImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Cat\n                </div>\n              </li>\n              <li >\n                <div className='speciesChild' >\n                  <div className='dog' onClick={() => { this.selectWZ('other') }} >\n                    <img src={otherImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Other\n                </div>\n              </li>\n\n            </ul>\n          </div>\n        </div>\n        <div className=\"r\">\n          <div className=\"img\">\n            <Avatar\n              init={\n                <div className=\"ciral \">\n                  <img src={this.avatar} alt=\"\" id=\"touxiang\" height=\"280px\" />\n                  <p style={{ fontSize: px(14), height: mTop(35) }}>Upload Photo</p>\n                </div>\n              }\n              getinfo={(val) => {\n                if (val) {\n                  this.setState({\n                    imageId: val\n                  })\n                }\n\n              }}\n              getAllInfo={(val) => {\n                if (val.url) {\n                  this.setState({\n                    petUrl: val.url\n                  })\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n  _petName = () => {\n    let birthday = this.state.birthday\n    let birthdayValue = birthday ? moment(birthday) : moment(new Date())\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(30) }}>\n        <div className=\"l\">\n          <p >Pet Name</p>\n          <div className=\"infoInput\">\n            <Input\n              bordered={false}\n              value={this.state.initpetName}\n              onChange={(item) => {\n                this.setState({\n                  petName: item.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\"),\n                  initpetName: item.target.value\n                })\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"r\">\n          <p >Pet Birthday</p>\n          <div className=\"infoInput\" >\n            <p style={{ weight: '60px', height: '27px', padding: 0, margin: 0 }} onClick={() => {\n              document.getElementById('calendar').style.display = 'block'\n            }}>{this.state.birthday}</p>\n            <div className=\"calendar\" id=\"calendar\">\n              <Calendar\n                fullscreen={false}\n                headerRender={({ value, type, onChange, onTypeChange }) => {\n                  const start = 0;\n                  const end = 12;\n                  const monthOptions = [];\n\n                  const current = value.clone();\n                  const localeData = value.localeData();\n                  const months = [];\n                  for (let i = 0; i < 12; i++) {\n                    current.month(i);\n                    months.push(localeData.monthsShort(current));\n                  }\n\n                  for (let index = start; index < end; index++) {\n                    monthOptions.push(\n                      <Select.Option className=\"month-item\" key={`${index}`}>\n                        {months[index]}\n                      </Select.Option>\n                    );\n                  }\n                  const month = value.month();\n\n                  const year = value.year();\n                  const options = [];\n                  for (let i = year - 10; i < year + 10; i += 1) {\n                    options.push(\n                      <Select.Option key={i} value={i} className=\"year-item\">\n                        {i}\n                      </Select.Option>\n                    );\n                  }\n                  return (\n                    <div style={{ padding: 8 }}>\n                      <Row gutter={8}>\n                        <Col>\n                          <Select\n                            size=\"small\"\n                            dropdownMatchSelectWidth={false}\n                            className=\"my-year-select\"\n                            onChange={(newYear) => {\n                              const now = value.clone().year(newYear);\n                              onChange(now);\n                            }}\n                            value={String(year)}\n                          >\n                            {options}\n                          </Select>\n                        </Col>\n                        <Col>\n                          <Select\n                            size=\"small\"\n                            dropdownMatchSelectWidth={false}\n                            value={String(month)}\n                            onChange={(selectedMonth) => {\n                              const newValue = value.clone();\n                              newValue.month(parseInt(selectedMonth, 10));\n                              onChange(newValue);\n                            }}\n                          >\n                            {monthOptions}\n                          </Select>\n                        </Col>\n                        {/* <Col>\n                          <div className=\"btn\" onClick={() => {\n                            document.getElementById('calendar').style.display = 'none'\n                          }}>\n                            Choose this date\n                          </div>\n\n                        </Col> */}\n                      </Row>\n                    </div>\n                  );\n                }}\n                value={birthdayValue}\n                onSelect={(value) => {\n                  console.log(value);\n                  this.setState({\n                    birthday: moment(value).format('MMMM D, YYYY')\n                  })\n                  document.getElementById('calendar').style.display = 'none'\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n  _ownName = () => {\n    let { confirmSelectUserJson } = this.state\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(18), alignItems: 'flex-end' }}\n      >\n        <div className=\"l\">\n          <p ><span style={{ color: 'red' }}>*</span> Patient ID</p>\n          <div className=\"infoInput\">\n            <Input bordered={false}\n              value={this.state.patientId}\n              onChange={(item) => {\n                this.setState({\n                  patientId: item.target.value.replace(/\\s/g, \"\"),\n                  intFlog: true\n                })\n                if (item.target.value !== errPatientId) {\n                  message.destroy()\n                }\n              }}\n              onBlur={() => {\n                if (this.state.patientId === this.state.oldPatientId) {\n                  return\n                }\n                if (this.state.patientId === '') {\n                  message.error('The pet ID cannot be empty');\n                  return\n                }\n                let params = {\n                  patientId: this.state.patientId,\n                  doctorId: storage.userId\n                }\n                if (storage.lastWorkplaceId) {\n                  params.workplaceId = storage.lastWorkplaceId\n                }\n                if (storage.lastOrganization) {\n                  params.organizationId = storage.lastOrganization\n                }\n\n                checkPatientId(params)\n                  .then(res => {\n                    if (res.flag === false) {\n                      errPatientId = params.patientId\n                      message.error('This patient ID is already occupied, please change to a new one');\n                    } else {\n                      errPatientId = '';\n                      message.success('This pet ID will work');\n                    }\n                  })\n                  .catch(err => {\n                    console.log(err);\n\n                  })\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"r\">\n          <div className=\"infoInput flex\"\n            style={{ marginTop: px(8), flexDirection: 'row', justifyContent: 'space-between', cursor: 'pointer', }}\n            onClick={() => {\n\n              this.setState({\n                // selectUser: true\n              })\n            }}\n          >\n            <div className=\"myBreed\" style={{ width: '90%', height: px(25) }}>{confirmSelectUserJson.name ? confirmSelectUserJson.name : 'My Parents'}</div>\n            <div className=\"nextimg\" >\n              <img src={nextImg} style={{ height: px(15) }} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  _select = (value, data) => {\n    console.log(value, data);  //value的值为id\n    this.setState({\n      petSpeciesBreedId: value,\n      breedName: data.children\n    })\n  }\n  _primaryBreed = () => {\n\n    let options = null\n    options = this.state.breedArr.map(d => <Option key={d.petSpeciesBreedId}>{d.breedName}</Option>);\n    let { breedName, confirmSelectBreedJson } = this.state\n    console.log('=============', confirmSelectBreedJson);\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(30), alignItems: 'flex-end', }}>\n        <div className=\"l\">\n          <div className=\"infoInput flex\"\n            style={{ marginTop: px(8), flexDirection: 'row', justifyContent: 'space-between', cursor: 'pointer' }}\n            onClick={() => {\n              this.setState({\n                selectBreed: true\n              })\n            }}\n          >\n            <div className=\"myBreed\" style={{ width: '90%', height: px(25) }}>\n              {\n                confirmSelectBreedJson.name ? confirmSelectBreedJson.name : 'My Breed'\n              }\n            </div>\n            <div className=\"nextimg\" >\n              <img src={nextImg} style={{ height: px(15) }} />\n            </div>\n          </div>\n        </div>\n        <div className=\"r\" >\n          <div className=\"max\">\n            Mix?\n            <div className=\"selected\"\n              onClick={() => this.setState({\n                isMix: !this.state.isMix\n              })}\n            >\n              {(this.state.isMix) ? (<img src={dui} alt=\"\" width='20px' />) : (null)}\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n  _weight = () => {\n    let ibBgcColor = '', ibCor = '', kgBgcColor = '', kgCor = '', femaleBgc = '', maleBgc = '';\n    switch (this.state.unit) {\n      case 1: ibBgcColor = '#E1206D'; ibCor = '#fff'; kgBgcColor = '#fff'; kgCor = '#E1206D'; break;\n      case 2: ibBgcColor = '#fff'; ibCor = '#E1206D'; kgBgcColor = '#E1206D'; kgCor = '#fff'; break;\n    }\n    switch (this.state.gender) {\n      case 1: femaleBgc = '#E1206D'; maleBgc = '#F08FB6'; break;\n      case 0: femaleBgc = '#F08FB6'; maleBgc = '#E1206D'; break;\n    }\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(30) }}>\n        <div className=\"l\">\n          <p >Pet Weight</p>\n          <div className=\"infoInput\">\n            <Input bordered={false}\n              value={this.state.weight}\n              onChange={(item) => {\n\n                this.setState({\n                  weight: item.target.value\n                })\n              }}\n            />\n            <div className=\"ibKg\">\n              <div className=\"ibs\"\n                style={{ backgroundColor: ibBgcColor, color: ibCor }}\n                onClick={() => {\n                  if (this.state.unit === 2) {\n\n                    this.setState({\n                      unit: 1,\n                      weight: (this.state.weight * 2.2046).toFixed(1)\n                    })\n                  }\n                }}\n              >Ibs</div>\n              <div className=\"kgs\"\n                style={{ backgroundColor: kgBgcColor, color: kgCor }}\n                onClick={() => {\n\n                  if (this.state.unit === 1) {\n\n                    this.setState({\n                      unit: 1,\n                      weight: (this.state.weight / 2.2046).toFixed(1)\n                    })\n                  }\n                  this.setState({ unit: 2 })\n                }}\n              >kgs</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"r\">\n          <p style={{ color: '#4a4a4a', fontSize: '17px', marginTop: '20px' }}>Pet Gender</p>\n          <div className=\"gender\">\n            <div className=\"selectGender\">\n              <div className=\"female\" style={{ marginRight: px(8), fontSize: px(18) }}>\n                <div className=\"femaleCiral\"\n                  style={{ backgroundColor: femaleBgc, width: px(40), height: px(40), }}\n                  onClick={() => this.setState({ gender: 1 })}\n                >\n                  <img src={female} alt=\"\" style={{ width: px(15) }} />\n                </div>\n                Female\n              </div>\n              <div className=\"male\" style={{ fontSize: px(18) }}>\n                <div className=\"maleCiral\"\n                  style={{ backgroundColor: maleBgc, width: px(40), height: px(40), }}\n                  onClick={() => this.setState({ gender: 0 })}\n                >\n                  <img src={male} alt=\"\" style={{ width: px(20) }} />\n                </div>\n                Male\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n\n  render() {\n    const { closeColor, closebgc, minbgc } = this.state\n\n\n    return (\n      <div id=\"editPetInfo\">\n        {/* 头部 */}\n        <div className=\"close1\">\n          {/* 菜单 */}\n          <div className=\"menu\">\n            <MyIcon type='icon-fanhui4' className=\"icon\" onClick={() => {\n              // if (storage.goEditPet === \"mesasure\") {\n              //   this.props.history.push({ pathname: 'page8', participate: { patientId: this.state.patientId } })\n              // } else {\n              //   this.props.history.goBack()\n              // }\n              this.props.history.goBack()\n            }} />\n          </div>\n          <div className=\"text\">mella</div>\n          <div className='maxmin'>\n            <div\n              className=\"min iconfont icon-64\"\n              onClick={this._min}\n              onMouseEnter={this._minMove}\n              onMouseLeave={this._minLeave}\n              style={{ backgroundColor: minbgc }}\n            ></div>\n\n            <div\n              className=\"max iconfont icon-guanbi2\"\n              onClick={this._close}\n              onMouseEnter={this._closeMove}\n              onMouseLeave={this._closeLeave}\n              style={{ backgroundColor: closebgc, color: closeColor }}\n            ></div>\n          </div>\n        </div>\n        <div className=\"editPetInfo_top\">\n          <div className=\"title\">{`${this.state.patientId}, ${this.state.petName}`}</div>\n          {this._petSpecies()}\n          {this._petName()}\n          {this._ownName()}\n          {this._primaryBreed()}\n          {this._weight()}\n        </div>\n        <div className=\"editPetInfo_foot\">\n          <div className=\"save\"\n            onClick={() => {\n              let { petName, birthday, firstName, lastName, petSpeciesBreedId, isMix, weight, gender, unit, imageId, breedName, petId, confirmSelectBreedJson, confirmSelectUserJson } = this.state\n              console.log('生日：', birthday);\n              if (unit === 1) {\n                weight = (0.45359 * weight).toFixed(2)\n              }\n              let data = {}\n              if (this.state.patientId === this.state.oldPatientId) {\n                data = {\n                  petName,\n                  weight: parseFloat(weight),\n                  gender,\n                  firstName,\n                  lastName,\n                  // patientId: this.state.patientId,\n                }\n              } else {\n                data = {\n                  petName,\n                  weight: parseFloat(weight),\n                  gender,\n                  firstName,\n                  lastName,\n                  patientId: this.state.patientId,\n                }\n              }\n\n\n              if (birthday) {\n                data.birthday = moment(birthday).format('YYYY-MM-DD')\n              }\n              if (imageId !== -1) {\n                data.imageId = imageId\n              }\n              // if (breedName) {\n              //   data.breedName = breedName\n              // }\n              if (confirmSelectBreedJson.name) {\n                data.breedName = confirmSelectBreedJson.name\n              }\n              if (confirmSelectUserJson.petSpeciesBreedId) {\n                data.userId = confirmSelectUserJson.petSpeciesBreedId\n              }\n              if (storage.lastOrganization) {\n                data.organizationId = storage.lastOrganization\n              }\n              if (this.state.patientId === '') {\n                message.error('The pet ID cannot be empty');\n              } else {\n                this.setState({\n                  spin: true\n                })\n                // console.log('--------入参', data);\n                updatePetInfo(petId, data)\n                  .then(res => {\n                    this.setState({\n                      spin: false\n                    })\n                    console.log(res);\n                    if (res.flag === true) {\n                      try {\n                        if (storage.identity === '3') {\n                          let data = JSON.parse(storage.doctorExam)\n                          data.petName = petName\n                          data.weight = weight\n                          data.gender = gender\n                          data.patientId = this.state.patientId\n                          if (birthday) {\n                            data.age = moment(new Date()).diff(moment(birthday), 'years')\n                          }\n                          if (confirmSelectBreedJson.name) {\n                            data.breed = confirmSelectBreedJson.name\n                          }\n                          if (this.state.petUrl) {\n                            data.url = this.state.petUrl\n                          }\n\n                          storage.doctorExam = JSON.stringify(data)\n                        }\n                      } catch (error) {\n\n                      }\n                      this.props.petDetailInfoFun({ ...this.props.petDetailInfo, petName, birthday, patientId: this.state.patientId })\n                      this.props.history.goBack()\n                    } else {\n                      message.error('This patient ID is already occupied, please change to a new one')\n                    }\n                  })\n                  .catch(err => {\n                    this.setState({\n                      spin: false\n                    })\n                    console.log(err);\n                  })\n              }\n            }}\n\n          >Save Changes</div>\n\n        </div>\n        <MyModal\n          visible={this.state.spin}\n        />\n        <MyModal\n          // visible={true}\n          visible={this.state.selectBreed}\n          element={\n            <div className='myfindOrg' >\n              <div className=\"orgHeard\">\n                <div className=\"titleicon\" style={{ marginTop: px(5) }}>\n                  <div>\n\n                  </div>\n                  <div\n                    onClick={() => {\n                      this.setState({\n                        selectBreed: false,\n                        selectBreedJson: {}\n                      })\n                    }}\n                  >\n                    <img src={Close} alt=\"\" style={{ width: px(25) }} />\n                  </div>\n                </div>\n                <div className=\"text\" >Choose Breed</div>\n\n                <div className=\"searchBox\">\n\n                  <Input\n                    placeholder=\" &#xe61b; Search name\"\n                    bordered={false}\n                    allowClear={true}\n                    value={this.state.searchBreed}\n                    onChange={(item) => {\n\n                      this.setState({\n                        searchBreed: item.target.value\n                      })\n                    }}\n\n                  />\n\n                </div>\n              </div>\n\n\n              <div className=\"list\" >\n                <PhoneBook\n                  listDate={this.state.breedArr}\n                  confirmSelectBreed={this.state.petSpeciesBreedId}\n                  selectFun={(val) => {\n                    // console.log('从子组件传来的数据', val);\n                    this.setState({\n                      selectBreedJson: val,\n                      petSpeciesBreedId: val.petSpeciesBreedId\n                    })\n\n\n                  }}\n                  searchText={this.state.searchBreed}\n                />\n              </div>\n\n              <div className=\"foot\">\n                <Button\n                  text={'Select'}\n                  onClick={() => {\n                    this.setState({\n                      confirmSelectBreedJson: this.state.selectBreedJson,\n                      selectBreed: false\n                    })\n                  }}\n                />\n\n              </div>\n\n            </div>\n          }\n        />\n\n        <MyModal\n          visible={this.state.selectUser}\n          element={\n            <div className='myfindOrg' >\n              <div className=\"orgHeard\">\n                <div className=\"titleicon\" style={{ marginTop: px(5) }}>\n                  <div>\n\n                  </div>\n                  <div\n                    onClick={() => {\n                      this.setState({\n                        selectUser: false,\n                        selectUserJson: {}\n                      })\n                    }}\n                  >\n                    <img src={Close} alt=\"\" style={{ width: px(25) }} />\n                  </div>\n                </div>\n                <div className=\"text\" >Choose Parents</div>\n\n                <div className=\"searchBox\">\n\n                  <Input\n                    placeholder=\" &#xe61b; Search name\"\n                    bordered={false}\n                    allowClear={true}\n                    value={this.state.searchBreed}\n                    onChange={(item) => {\n\n                      this.setState({\n                        searchBreed: item.target.value\n                      })\n                    }}\n\n                  />\n\n                </div>\n              </div>\n\n\n              <div className=\"list\" >\n                <PhoneBook\n                  listDate={this.state.doctorArr}\n                  confirmSelectBreed={this.state.selectUserId}\n                  selectFun={(val) => {\n\n                    this.setState({\n                      selectUserJson: val,\n                      selectUserId: val.petSpeciesBreedId\n                    })\n\n\n                  }}\n                  searchText={this.state.searchBreed}\n                />\n              </div>\n\n              <div className=\"foot\">\n                <Button\n                  text={'Select'}\n                  onClick={() => {\n                    this.setState({\n                      confirmSelectUserJson: this.state.selectUserJson,\n                      selectUser: false\n                    })\n                  }}\n                />\n\n              </div>\n\n            </div>\n          }\n        />\n\n      </div>\n    )\n  }\n}\nexport default connect(\n  state => ({\n    petDetailInfo: state.petReduce.petDetailInfo\n  }),\n  { petDetailInfoFun }\n)(EditPetInfo)\n",["387","388"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/findMyWorkplace/index.jsx",["389","390"],"import React, { Component } from 'react'\nimport {\n  Input,\n  message\n} from 'antd';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nimport MaxMin from '../../utils/maxminreturn/MaxMinReturn'\nimport temporaryStorage from '../../utils/temporaryStorage'\nimport Button from '../../utils/button/Button'\n\nimport './index.less'\nimport { listAllWorkplaceByOrganizationId } from '../../api/mellaserver/workplace';\nimport { mellaLogin, updateUserInfo } from '../../api/mellaserver/user';\n\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\n})\nexport default class JoinworkplaceByName extends Component {\n\n  state = {\n    search: '',\n    listData: [],\n    searchData: [],\n    selectId: {}\n\n  }\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('small')\n\n    listAllWorkplaceByOrganizationId(temporaryStorage.logupSelectOrganization.organizationId)\n      .then((res) => {\n        console.log(res);\n        if (res.msg === 'success') {\n          this.setState({\n            listData: res.data\n          })\n        } else {\n          console.log('请求错误');\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n  _search = (val) => {\n    let search = val.target.value\n    let { listData } = this.state\n    let searchData = []\n    for (let i = 0; i < listData.length; i++) {\n      if (listData[i].name.toLowerCase().indexOf(search.toLowerCase()) !== -1) {\n        searchData.push(listData[i])\n      }\n    }\n    this.setState({\n      search,\n      searchData\n    })\n\n  }\n  _list = () => {\n    const { search, listData, searchData } = this.state\n    let data = (search.length > 0) ? searchData : listData\n    let option = data.map((item, index) => {\n\n      return <li key={item.workplaceId}\n        onClick={() => {\n          this.setState({\n            selectId: item\n          })\n          console.log(item);\n          let params = {\n            userId: temporaryStorage.logupSuccessData.userId,\n            roleId: 2,\n            workplaceId: item.workplaceId,\n            organizationId: item.organizationId\n          }\n          updateUserInfo(params)\n            .then(res => {\n              console.log(res);\n              if (res.flag === true) {\n\n                console.log('成功',);\n                this._logIn()\n              }\n            })\n            .catch(err => {\n              console.log(err);\n              message.error(err.message, 3)\n            })\n        }}\n\n      >\n        {(this.state.selectId === item ? <span className=\"search\">&#xe614;</span> : null)}\n        {item.workplaceName}</li>\n    })\n    return (\n      <ul>\n        {option}\n      </ul>\n    )\n  }\n\n  _logIn = () => {\n\n    let storage = window.localStorage;\n    let { email, hash } = temporaryStorage.logupVetInfo\n    let params = {\n      email: email.replace(/(^\\s*)/g, \"\"),\n      hash,\n      identityTypeId: '1'\n    }\n    mellaLogin(params)\n      .then(res => {\n        console.log(res);\n        if (res.status && res.status === 404) {\n          message.error('system error');\n          return\n        }\n        if (res.code === 10001 && res.msg === '账号错误') {\n          message.error('Account error');\n          return\n        }\n        if (res.code === 10002 && res.msg === '密码错误') {\n          message.error('wrong password')\n          return;\n        }\n        if (res.code === 0 && res.msg === 'success' && res.success.roleId === 1) {\n          message.error('You do not have the authority of a doctor, please contact the administrator or customer service', 10)\n          return\n        }\n\n        if (res.code === 0 && res.msg === 'success') {\n          console.log('账号密码正确，登录进去了');\n          let { userWorkplace, lastOrganization, token } = res.success\n          storage.token = token\n          storage.userId = ''\n\n          storage.userId = res.success.userId\n          storage.roleId = res.success.roleId\n\n          //每次登陆后清空宠物列表缓存的数据\n          storage.doctorList = ''\n          storage.defaultCurrent = ''\n          if (userWorkplace) {\n            storage.userWorkplace = JSON.stringify(userWorkplace)\n            let connectionKey = ''\n            const element = userWorkplace[0];\n            storage.lastOrganization = element.organizationEntity.organizationId\n            storage.lastWorkplaceId = element.workplaceEntity.workplaceId\n            if (element.organizationEntity.connectionKey) {\n              connectionKey = element.organizationEntity.connectionKey\n            }\n            if (element.roleId) {\n              console.log(element.roleId);\n              storage.roleId = element.roleId\n            }\n            if (userWorkplace.length === 1) {\n              this.props.history.push('/uesr/selectExam')\n\n            } else {\n              this.props.history.push('/page12')\n            }\n          } else {\n            storage.userWorkplace = ''\n            storage.connectionKey = ''\n            this.props.history.push('/uesr/selectExam')\n          }\n\n\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n  render() {\n    return (\n      <div id=\"findMyWorkplace\">\n        {/* 关闭缩小 */}\n        <MaxMin\n          onClick={() => { this.props.history.push('/') }}\n          onClick1={() => this.props.history.goBack()}\n        />\n        <div className=\"body\">\n          <div className=\"text\">Find my workplace</div>\n\n          <div className=\"searchBox\">\n            <div><MyIcon type='icon-sousuo' className=\"icon\" /></div>\n\n            <Input\n              placeholder=\"Please input workplace name\"\n              bordered={false}\n              allowClear={true}\n              value={this.state.search}\n              onChange={this._search}\n            />\n\n          </div>\n\n\n          <div className=\"list\">\n            {this._list()}\n          </div>\n          <Button\n            text={'My Workplace Isn`t Listed'}\n            textBoxStyle={{ marginTop: '50px' }}\n            onClick={() => {\n              this.props.history.push('/uesr/logUp/NewWorkplace')\n            }}\n          />\n        </div>\n\n\n\n\n      </div>\n    )\n  }\n}\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/measure/index.jsx",["391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424"],"import React, { Component } from 'react'\nimport {\n  Input,\n  Menu,\n  Modal,\n  Table,\n  Popconfirm,\n  Tooltip,\n  message,\n  Select,\n} from 'antd';\nimport { createFromIconfontCN, SyncOutlined, LoadingOutlined } from '@ant-design/icons';\n\nimport ye from './../../assets/images/ye1.png'\nimport er from './../../assets/images/er3.png'\nimport gang from './../../assets/images/gang3.png'\nimport dog from './../../assets/images/dog.png'\nimport cat from './../../assets/images/cat.png'\nimport other from './../../assets/images/other.png'\nimport edit from './../../assets/images/edit.png'\nimport del from './../../assets/images/del.png'\nimport start from './../../assets/img/start.png'\nimport redjinggao from './../../assets/img/redjinggao.png'\nimport placement_gang from './../../assets/images/placement_gang.png'\nimport placement_er from './../../assets/images/placement_er.png'\nimport palcement_ye from './../../assets/images/palcement_ye.png'\nimport close from './../../assets/img/close.png'\n\nimport MyModal from './../../utils/myModal/MyModal'\nimport electronStore from './../../utils/electronStore'\nimport { mTop, px, MTop, win } from '../../utils/px';\nimport Heard from '../../utils/heard/Heard';\n\nimport Draggable from \"react-draggable\";\nimport moment from 'moment';\nimport ReactECharts from 'echarts-for-react';// 引入 ECharts 主模块\nimport 'echarts/lib/chart/bar';// 引入柱状图\nimport 'echarts/lib/component/tooltip';// 引入提示框和标题组件\nimport 'echarts/lib/component/title';\n\nimport './index.less';\nimport { addAndSavePetExam, addDeskPet, deletePetExamByExamId, getPetExamAndClinicalByPetId, getPetExamByDoctorId, getPetInfoByPatientIdAndPetId, updatePetExam } from '../../api/mellaserver/pet';\nimport { addAllClinical } from '../../api/mellaserver/clinical';\nimport { getClinicalDataByExamId } from '../../api';\n\nconst { SubMenu } = Menu;\nconst { Option } = Select;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\n})\n\nlet storage = window.localStorage;\nlet echartCi = 0\nlet saveHistoryTime = null, getSerialTime = null\nlet ipcRenderer = window.electron.ipcRenderer\nlet detectTimer = null, countdownTimer = null;\n\nlet resyncDeviceIsClick = true //用于控制多次点击重新配对按钮\nlet num = 0, is97Time = null, is193Time = null, initTime = null\n\nlet num07 = 0       //接收到07命令行的次数\nlet indexNum = 0\nlet meetCondition = false //满足第一次测量在76.6与85之间\nlet tempArr = []\nlet dropNum = 0\n\nlet lastMeasureTemp = 0, lastMeasureBig = true\n\nlet firstMeasure = true  //用户反馈刚到这个界面测量就会显示测量温度过高,因此在这里做一个限制,第一次测量不进入温度过高提示\nexport default class Mesasure extends Component {\n  state = {\n    closebgc: '',\n    minbgc: '',\n    closeColor: '',\n    value: '',\n    api: '',\n    id: '',\n    dataArr: [],\n    seleceID: '',//医生id\n    data: { ci: [''], wen: [] },\n    echarsData: {\n      Eci: [],\n      wen0: [],\n      wen1: []\n    },\n    temColor: '',\n    Temp: '',\n    isMeasure: false,     //腋温正在测量中\n\n    mearsurePart: 1,\n    historyData: [],\n    patientId: '',\n    spin: false,        //patientId后面的刷新按钮是否旋转\n    petName: '',\n    notes: '',\n    addpatient_petName: '',\n    addpatient_description: '',\n    addpatient_species: 1,\n    roomTemperature: '',\n    referenceRectalTemperature: '',\n    bodyConditionScore: '',\n    furLength: '',\n    bodyType: '',\n    heartRate: '',\n    bloodPressure: '',\n    respiratoryRate: '',\n    visible: false,       //nodel框是否显示\n    disabled: true,       //model是否可拖拽\n    bounds: { left: 0, top: 0, bottom: 0, right: 0 },\n\n    editVisible: false,\n    err07Visible: false,\n\n    leftStatus: 3,         //1代表着有宠物信息，2代表着添加宠物信息，3代表着初始化，没有填入patientId\n\n    selectPet: {\n      petId: '',\n      petName: '',\n      owner: '',\n      breedName: '',\n      isMix: false,\n      age: '',\n      weight: '',\n      birthday: ''\n    },\n    units: '℉',\n    measuerStatus: 'disconnected',\n    isconnected: false,\n    countdown: 60,\n    isPetCharacteristics: true,\n    isEmergency: false,\n    seleceEmergencies: {},\n    emerPatientID: '',\n    emerData: [],         //临床测试所有数据,用于传到mella后台\n    petVitalTypeId: '01',  //测量部位\n\n\n\n    memo: '',\n    editRectal: '',\n    editRoomTemperature: '',\n    editHeartRate: '',\n    editRespiratoryRate: '',\n    editBloodPressure: '',\n    editBodyConditionScore: '',\n    editFurLength: '',\n\n    noUSB: false,  //是否有usb底座，为true代表没有\n\n\n    tip: '',\n    tipSpin: false,\n    loading: false,\n    showHistoryEchart: false,  //在展示历史曲线的时候为true，当开始测量为false\n    tempHeight: false,           //第一次温度过高,需要冷却一下\n  }\n\n  componentWillMount() {\n    try {\n      console.log('-----------------===============-------------', this.props.location.isconnected);\n      if (this.props.location.isconnected === false || this.props.location.isconnected === true) {\n        if (this.props.location.isconnected === false) {\n\n        } else {\n          this.setState({\n            measuerStatus: 'connented',\n            isconnected: true\n\n          })\n          is97Time = new Date()\n        }\n      }\n    } catch (error) {\n\n    }\n  }\n  componentDidMount() {\n    firstMeasure = true\n\n\n    ipcRenderer.send('Lowbig', win())\n    console.log(this.props);\n    storage.isClinical = 'true'\n\n    //这里是为了从编辑宠物界面回来的时候能够直接展示这个宠物\n    if (this.props.location.participate) {\n      let props = this.props.location.participate\n\n      this.setState({\n        patientId: props.patientId\n      }, () => {\n        this._getPetInfo()\n      })\n    } else {\n      if (storage.measurepatientId) {\n        console.log('有上级传来的数据:', storage.measurepatientId);\n        this.setState({\n          patientId: storage.measurepatientId\n        }, () => {\n          this._getPetInfo()\n        })\n      }\n    }\n\n    //这里是记录从哪里传过来的，是普通医生、ezyVet、vetspire\n    if (this.props.location.identity) {\n      switch (this.props.location.identity) {\n        case '1':\n          console.log('这是从vetspire来的')\n\n          break;\n        case '2':\n          console.log('这是从ezyVet来的')\n          if (this.props.location.patientId) {\n            this.setState({\n              patientId: this.props.location.patientId\n            }, () => {\n              this._getPetInfo()\n            })\n          }\n\n          break;\n        case '3':\n          console.log('这是从普通医生来的来的');\n          // if (this.props.location.patientId) {\n          //   this.setState({\n          //     patientId: this.props.location.patientId\n          //   }, () => {\n          //     this._getPetInfo()\n          //   })\n          // }\n          this._getPetInfoBySave()\n          break;\n        default: console.log('暂未定义');\n          break;\n      }\n    }\n\n    let hardSet = electronStore.get('hardwareConfiguration')\n\n    if (!hardSet) {\n      let settings = {\n        isHua: true,\n        is15: true,\n        self_tarting: false,\n        isBacklight: true,\n        isBeep: true,\n        backlightTimer: { length: 140, number: '45' },\n        autoOff: { length: 0, number: '30' },\n      }\n      electronStore.set('hardwareConfiguration', settings)\n      this.setState({\n        units: '℉'\n      })\n    } else {\n      let units = hardSet.isHua ? '℉' : '℃'\n      this.setState({\n        units\n      })\n    }\n\n\n\n    ipcRenderer.on('sned', this._send)\n    ipcRenderer.on('usbDetect', this.usbDetect)\n    ipcRenderer.on('noUSB', this._noUSB)\n    //分辨率改变后窗口自动改变\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n    //检测有没有充电桩、温度计\n\n\n    this._whether_to_connect_to_mella()\n    countdownTimer && clearInterval(countdownTimer)\n\n  }\n\n  componentWillUnmount() {\n    ipcRenderer.removeListener('sned', this._send)\n    ipcRenderer.removeListener('usbDetect', this.usbDetect)\n    ipcRenderer.removeListener('noUSB', this._noUSB)\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n    detectTimer && clearInterval(detectTimer)\n    this.timer && clearTimeout(this.timer)\n    countdownTimer && clearInterval(countdownTimer)\n    getSerialTime && clearTimeout(getSerialTime)\n    this.detectTimer && clearInterval(this.detectTimer)\n    message.destroy()\n    firstMeasure = true\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('Lowbig', win())\n    this.setState({\n\n    })\n  }\n  usbDetect = (event, data) => {\n    if (data === true) {\n      this._whether_to_connect_to_mella()\n    } else {\n      this.detectTimer && clearInterval(this.detectTimer)\n      num07 = 0\n    }\n  }\n\n  _send = (event, data) => {\n    //data就是测量的数据，是十进制的数字\n\n    this.command(data)()\n  }\n  _noUSB = (e, data) => {\n    console.log('没有USB设备：', data);\n    if (data === false) {\n      message.destroy()\n      this.setState({\n        noUSB: false\n      })\n    } else {\n      if (!this.state.noUSB) {\n        message.error('The base is not detected. Please insert the base', 0)\n        this.setState({\n          noUSB: true,\n          measuerStatus: 'disconnected',\n          countdown: 60,\n          isMeasure: false,\n          isconnected: false,\n          echarsData: {\n            Eci: [],\n            wen0: [],\n            wen1: []\n          },\n          Temp: '',\n          emerData: []\n        })\n        echartCi = 0\n        meetCondition = false\n      }\n\n    }\n  }\n  _whether_to_connect_to_mella = () => {\n    this.detectTimer && clearInterval(this.detectTimer)\n    message.destroy()\n    this.detectTimer = setInterval(() => {\n      if (this.state.isMeasure) {\n        return\n      }\n      // console.log(initTime);\n      if (!initTime) {\n        console.log('断开连接');\n        this.setState({\n          measuerStatus: 'disconnected',\n          countdown: 0,\n          isMeasure: false,\n          isconnected: false,\n          isEarMeasure: false\n        })\n        initTime = new Date()\n        meetCondition = false\n      } else {\n        // if (this.state.measuerStatus === 'disconnected') {\n        //   ipcRenderer.send('usbdata', { command: '07', arr: [] })\n        // }\n        ipcRenderer.send('usbdata', { command: '07', arr: [] })\n\n        if (new Date() - initTime < 5000) {\n          console.log('连接成功', indexNum);\n          if (indexNum++ % 5 === 1) {\n            console.log('去询问探头');\n            ipcRenderer.send('usbdata', { command: '31', arr: [] })\n          }\n\n\n\n        } else {\n\n          console.log('2断开连接');\n          this.setState({\n            measuerStatus: 'disconnected',\n            countdown: 0,\n            isMeasure: false,\n            isconnected: false,\n            isEarMeasure: false\n          })\n          meetCondition = false\n        }\n      }\n    }, 2000);\n\n\n\n  }\n\n\n\n  /**------------------顶部start------------------------ */\n  _close = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('关闭程序');\n    ipcRenderer.send('window-close')\n  }\n\n  _min = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('最小化程序');\n    ipcRenderer.send('window-min')\n    this.setState({\n      minbgc: '',\n    })\n  }\n\n  _minMove = () => {\n\n    this.setState({\n      minbgc: 'rgb(211, 205, 205)'\n    })\n  }\n\n  _minLeave = () => {\n    this.setState({\n      minbgc: ''\n    })\n  }\n\n  _closeMove = () => {\n    this.setState({\n      closeColor: 'red',\n      closebgc: '#fff'\n    })\n  }\n\n  _closeLeave = () => {\n    this.setState({\n      closeColor: '#fff',\n      closebgc: ''\n    })\n  }\n\n  getOption = () => {\n    let { units } = this.state\n    let min, max;\n    if (units === '℃') {\n      min = 25\n      max = 45\n    } else {\n      min = 75\n      max = 115\n    }\n    let { echarsData } = this.state\n    let { Eci, wen0, wen1 } = echarsData\n    let that = this\n    let option = {\n      color: ['#81b22f'],\n      tooltip: {\n        /*返回需要的信息*/\n        trigger: 'axis',\n        triggerOn: 'mousemove',\n        enterable: true,\n        formatter: function (param) {\n          var value = param[0].value;\n          // console.log('----para', param);\n          return `<div style=\"border-bottom: 1px solid rgba(255,255,255,.3); font-size: 16px;padding-bottom: 7px;margin-bottom: 7px;\">Temp:${value.toFixed(1)}${that.state.units}</div>`\n        }\n      },\n      xAxis: {\n        name: 'SPL',\n        nameLocation: 'end',\n        nameTextStyle: {\n          align: 'left',\n        },\n        type: 'category',\n        // data: [\"\", 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,],\n        data: Eci,\n        // data:['','15miao','30miao'],\n        axisLine: {\n          lineStyle: {\n            // 设置x轴颜色\n            color: '#A0A0A0',\n            show: true\n          }\n        },\n        // 设置X轴数据旋转倾斜\n        axisLabel: {\n          rotate: 0, // 旋转角度\n          interval: 29  //设置X轴数据间隔几个显示一个，为0表示都显示\n\n        },\n\n      },\n      yAxis: {\n        name: 'temperature',\n        type: 'value',\n        min, // 设置y轴刻度的最小值\n        max,  // 设置y轴刻度的最大值\n        splitNumber: 0,  // 设置y轴刻度间隔个数\n        nameTextStyle: {\n          padding: [0, 0, 0, 8],\n          // backgroundColor: 'pink',\n          width: '1200px',\n          // fontSize: 20,\n          align: 'left',\n        },\n\n        axisLine: {\n          lineStyle: {\n            // 设置x轴颜色\n            color: '#A0A0A0',\n            show: true\n          }\n        },\n        splitLine: {\n          show: false\n        },\n      },\n      series: [{\n        name: '模拟数据',\n        type: 'line',\n        showSymbol: false,\n        hoverAnimation: false,\n        // data: [44, 40, 34, 29, 31, 33, 39, 39, 33, 25, 26, 32, 38, 39, 25, 30, 37],\n        data: wen0,\n        smooth: 0.5,\n        symbol: 'none',\n        itemStyle: {\n          normal: {\n            lineStyle: {        // 系列级个性化折线样式\n              width: 2,\n              type: 'solid',\n              color: {\n                type: 'linear',\n                x: 0,\n                y: 1,\n                x2: 0,\n                y2: 0,\n                colorStops: [{\n                  offset: 0.5, color: '#47C2ED' // 0% 处的颜色  蓝\n                }, {\n                  offset: 1, color: '#78D35D' // 50% 处的颜色  绿\n                },\n                  // {\n                  //   offset: 1, color: 'red' // 100% 处的颜色   红\n                  // }\n                ],\n                globalCoord: false // 缺省为 false\n              }\n            },\n          }\n        }\n      }]\n    }\n    return option;\n  }\n\n  handleClick = e => {\n    console.log('---------------身份', storage.identity);\n\n    switch (e.key) {\n      case '1':\n        //  storage.measurepatientId = this.state.patientId; console.log('返回前的问题查看：', this.props.history); this.props.history.goBack()\n        switch (storage.identity) {   //1是vetspire   2是ezyvet   3是医生\n          case '1': this.props.history.push('/VetSpireSelectExam')\n\n            break;\n          case '2': this.props.history.push({ pathname: '/EzyVetSelectExam', listDate: storage.ezyVetList, defaultCurrent: storage.defaultCurrent })\n\n            break;\n\n          case '3': this.props.history.push({ pathname: '/uesr/selectExam', listDate: storage.doctorList, defaultCurrent: storage.defaultCurrent })\n\n            break;\n\n\n\n          default:\n            break;\n        }\n        break;\n      case '2': storage.measurepatientId = ''; this.props.history.push('/')\n        break;\n      case '3': storage.measurepatientId = this.state.patientId; this.props.history.push('/page12');\n        break;\n      case '4': storage.measurepatientId = this.state.patientId; this.props.history.push({ pathname: '/page10', isconnected: this.state.isconnected })\n        break;\n      case '5': this.props.history.push('/menuOptions/settings'); break;\n      default: console.log('这个选项还没有做呢');\n\n\n    }\n\n  };\n\n  command = (newArr) => {\n    const instruction = [209, 193, 192, 129, 135, 238, 98, 97, 130, 208, 177, 7, 99]\n    let dataArr1 = newArr.map(item => {\n      if (item.toString(16).length < 2) {\n        return '0' + item.toString(16)\n      } else {\n        return item.toString(16)\n      }\n    })\n    if (newArr[2] !== 7) {\n      initTime = new Date()\n      num07 = 0\n    } else {\n      num07++\n    }\n\n\n    const commandArr = {\n      209: () => {  //腋温\n\n        let temp1 = parseFloat(`${dataArr1[3]}.${(dataArr1[4])}`)\n        let temp0 = parseFloat(`${dataArr1[5]}.${(dataArr1[6])}`)\n        let temp2 = parseFloat(`${dataArr1[7]}.${(dataArr1[8])}`)\n        let pdt0 = parseFloat(`${dataArr1[9]}.${(dataArr1[10])}`)\n        let pdt1 = parseFloat(`${dataArr1[11]}.${(dataArr1[12])}`)\n        let alpha0 = parseFloat(`${dataArr1[13]}.${(dataArr1[14])}`)\n        let alpha1 = parseFloat(`${dataArr1[15]}.${(dataArr1[16])}`)\n        let Temp = temp0\n\n        if (Temp === 0 || Temp === null || Temp === undefined) {\n          return\n        }\n\n        if (this.state.isMeasure === false) {\n          ipcRenderer.send('usbdata', { command: '31', arr: [] })\n          this.setState({\n            echarsData: {\n              Eci: [],\n              wen0: [],\n              wen1: []\n            },\n            countdown: 60\n\n          })\n          echartCi = 0\n\n        }\n\n\n\n        //需要做第一次温度,判断,如果温度低于76.6(24.8)则界面显示low,并且不记录上传到后台的临床测试数据emerData\n        //需要第一次做温度判断,如果温度高于85(29.4)℉,则跳出高温弹窗,不记录上传到后台的临床测试数据emerDate,并且第一次测量也为true\n\n        if (!meetCondition) {\n          dropNum = 0\n          tempArr = []\n          if (Temp >= 24.8 && Temp <= 29.4) {\n            meetCondition = true\n\n            if (countdownTimer) {\n              console.log('有定时器了，清理掉');\n              clearInterval(countdownTimer)\n              this.setState((prestate, props) => ({\n                countdown: 60\n              }));\n            }\n            countdownTimer = setInterval(() => {\n              console.log('进入定时器');\n              let { countdown, isconnected } = this.state\n              if (countdown <= 0) {\n                countdown = 60\n              }\n              this.setState({\n                countdown: countdown - 1\n\n              })\n              if (countdown <= 1) {\n                clearInterval(countdownTimer)\n                console.log('我要去发送了');\n                ipcRenderer.send('usbdata', { command: '41', arr: [] })\n              }\n              if (isconnected === false) {\n                clearInterval(countdownTimer)\n              }\n            }, 1000);\n\n\n\n            let emerData = this.state.emerData\n            let str = {\n              data0: temp0,\n              data1: temp1,\n              data2: temp2,\n              pdt0,\n              pdt1,\n              Alpha0: alpha0,\n              Alpha1: alpha1,\n            }\n            emerData.push(str)\n\n            let { echarsData } = this.state\n            let { wen0, wen1, Eci } = echarsData\n            Eci.push((echartCi++))\n            if (this.state.units === '℃') {\n              wen0.push(temp0)\n              wen1.push(temp1)\n            } else {\n              wen0.push(temp0 * 1.8 + 32)\n              wen1.push(temp1 * 1.8 + 32)\n            }\n\n            this.setState({\n              Temp,\n              echarsData,\n              isMeasure: true,\n              measuerStatus: 'connented',\n              isconnected: true,\n              showHistoryEchart: false,\n              emerData,\n              tempHeight: false\n            }, () => {\n              const option = this.getOption();\n              this.echartsElement.getEchartsInstance().setOption(option)  // 实时改变\n            })\n\n          } else {\n\n            meetCondition = false\n            lastMeasureBig = true\n            lastMeasureTemp = temp0\n            if (Temp < 24.8) {\n              let { echarsData } = this.state\n              let { wen0, wen1, Eci } = echarsData\n              Eci.push((echartCi++))\n              if (this.state.units === '℃') {\n                wen0.push(temp0)\n                wen1.push(temp1)\n              } else {\n                wen0.push(temp0 * 1.8 + 32)\n                wen1.push(temp1 * 1.8 + 32)\n              }\n\n              this.setState({\n                Temp,\n                echarsData,\n                isMeasure: true,\n                measuerStatus: 'connented',\n                isconnected: true,\n                showHistoryEchart: false,\n                countdown: 60,\n                tempHeight: false,\n              }, () => {\n                const option = this.getOption();\n                this.echartsElement.getEchartsInstance().setOption(option)  // 实时改变\n              })\n            } else {\n              if (!firstMeasure) {\n                if (!this.state.tempHeight) {\n                  this.setState({\n                    tempHeight: true\n                  })\n                }\n              } else {\n                meetCondition = true\n                firstMeasure = false\n\n                if (countdownTimer) {\n                  console.log('有定时器了，清理掉');\n                  clearInterval(countdownTimer)\n                  this.setState((prestate, props) => ({\n                    countdown: 60\n                  }));\n                }\n                countdownTimer = setInterval(() => {\n                  console.log('进入定时器');\n                  let { countdown, isconnected } = this.state\n                  if (countdown <= 0) {\n                    countdown = 60\n                  }\n                  this.setState({\n                    countdown: countdown - 1\n\n                  })\n                  if (countdown <= 1) {\n                    clearInterval(countdownTimer)\n                    console.log('我要去发送了');\n                    ipcRenderer.send('usbdata', { command: '41', arr: [] })\n                  }\n                  if (isconnected === false) {\n                    clearInterval(countdownTimer)\n                  }\n                }, 1000);\n\n\n\n                let emerData = this.state.emerData\n                let str = {\n                  data0: temp0,\n                  data1: temp1,\n                  data2: temp2,\n                  pdt0,\n                  pdt1,\n                  Alpha0: alpha0,\n                  Alpha1: alpha1,\n                }\n                emerData.push(str)\n\n                let { echarsData } = this.state\n                let { wen0, wen1, Eci } = echarsData\n                Eci.push((echartCi++))\n                if (this.state.units === '℃') {\n                  wen0.push(temp0)\n                  wen1.push(temp1)\n                } else {\n                  wen0.push(temp0 * 1.8 + 32)\n                  wen1.push(temp1 * 1.8 + 32)\n                }\n\n                this.setState({\n                  Temp,\n                  echarsData,\n                  isMeasure: true,\n                  measuerStatus: 'connented',\n                  isconnected: true,\n                  showHistoryEchart: false,\n                  emerData,\n                  tempHeight: false\n                }, () => {\n                  const option = this.getOption();\n                  this.echartsElement.getEchartsInstance().setOption(option)  // 实时改变\n                })\n              }\n\n            }\n\n            console.log('不满足');\n          }\n        } else {\n          console.log('差值', temp0, lastMeasureTemp, temp0 - lastMeasureTemp);\n          if (temp0 - lastMeasureTemp <= -0.03) {\n            console.log('本次测量要小于上次测量,不计入里面');\n            countdownTimer && clearInterval(countdownTimer)\n            lastMeasureBig = false\n            return\n          }\n          if (!lastMeasureBig) {\n            countdownTimer = setInterval(() => {\n              console.log('进入定时器');\n              let { countdown, isconnected } = this.state\n              if (countdown <= 0) {\n                countdown = 60\n              }\n              this.setState({\n                countdown: countdown - 1\n\n              })\n              if (countdown <= 1) {\n                clearInterval(countdownTimer)\n                console.log('我要去发送了');\n                ipcRenderer.send('usbdata', { command: '41', arr: [] })\n              }\n              if (isconnected === false) {\n                clearInterval(countdownTimer)\n              }\n            }, 1000);\n          }\n\n\n\n\n\n\n          lastMeasureBig = true\n          lastMeasureTemp = temp0\n          let emerData = this.state.emerData\n          let str = {\n            data0: temp0,\n            data1: temp1,\n            data2: temp2,\n            pdt0,\n            pdt1,\n            Alpha0: alpha0,\n            Alpha1: alpha1,\n          }\n          emerData.push(str)\n\n          let { echarsData } = this.state\n          let { wen0, wen1, Eci } = echarsData\n          Eci.push((echartCi++))\n          if (this.state.units === '℃') {\n            wen0.push(temp0)\n            wen1.push(temp1)\n          } else {\n            wen0.push(temp0 * 1.8 + 32)\n            wen1.push(temp1 * 1.8 + 32)\n          }\n\n          tempArr.push(temp0)\n          if (tempArr.length > 10) {\n            let k = (tempArr[tempArr.length - 1] - tempArr[tempArr.length - 11]) / 10\n            console.log('斜率', k);\n            if (k < -0.035) {\n              console.log('下降的有点狠了');\n              dropNum++\n            } else {\n              dropNum = 0\n            }\n            if (dropNum > 10) {\n              message.destroy()\n              message.error('Measurement failed')\n              dropNum = 0\n            }\n          }\n\n\n          this.setState({\n            Temp,\n            echarsData,\n            isMeasure: true,\n            measuerStatus: 'connented',\n            isconnected: true,\n            showHistoryEchart: false,\n            emerData,\n            tempHeight: false\n          }, () => {\n            const option = this.getOption();\n            this.echartsElement.getEchartsInstance().setOption(option)  // 实时改变\n          })\n        }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n      },\n      208: () => {  //耳温\n\n\n\n        //现在探头0可能不存在，所以把探头0改为探头1\n\n        let temp0 = parseFloat(`${dataArr1[7]}.${(dataArr1[8])}`)\n\n\n        let Temp = Math.floor(temp0 * 10) / 10\n        console.log('------------gangwen--------------', Temp);\n\n        let emerData = this.state.emerData\n\n        let str = {\n          data0: temp0,\n\n        }\n        emerData.push(str)\n        this.setState({\n          emerData,\n          Temp,\n          isMeasure: false,\n          mearsurePart: 3,\n          measuerStatus: 'measuring',\n          isconnected: true\n        })\n        meetCondition = false\n\n      },\n      193: () => {  //硬件发送结束命令\n        let time = new Date() - is193Time\n        lastMeasureTemp = 0\n        lastMeasureBig = true\n        console.log(time);\n        if (time < 1000) {\n          is193Time = new Date()\n          console.log('我直接抛出');\n          return;\n        } else {\n          console.log('---------------------------', time);\n          is193Time = new Date()\n\n          countdownTimer && clearInterval(countdownTimer)\n\n\n          saveHistoryTime && clearTimeout(saveHistoryTime)\n\n          saveHistoryTime = setTimeout(() => { //防止连续向后台发送数据\n            countdownTimer && clearInterval(countdownTimer)\n\n            meetCondition = false\n\n\n\n            let { roomTemperature, referenceRectalTemperature, bodyConditionScore,\n              furLength, heartRate, bloodPressure, respiratoryRate, Temp, emerData } = this.state\n            if (emerData.length < 10) {\n              console.log('临床数据太少,不做保存');\n              return\n            }\n\n            if (bodyConditionScore === '') {\n              bodyConditionScore = null\n            } else {\n              bodyConditionScore = parseFloat(bodyConditionScore)\n            }\n\n            if (heartRate === '') {\n              heartRate = null\n            } else {\n              heartRate = parseFloat(heartRate)\n            }\n\n            if (respiratoryRate === '') {\n              respiratoryRate = null\n            } else {\n              respiratoryRate = parseFloat(respiratoryRate)\n            }\n\n            if (roomTemperature === '') {\n              roomTemperature = null\n            } else {\n              roomTemperature = ((parseFloat(roomTemperature) - 32) / 1.8).toFixed(2)\n            }\n\n            if (referenceRectalTemperature === '') {\n              referenceRectalTemperature = null\n            } else {\n              referenceRectalTemperature = ((parseFloat(referenceRectalTemperature) - 32) / 1.8).toFixed(2)\n            }\n\n            if (furLength === '') {\n              furLength = null\n            } else {\n              furLength = parseFloat(furLength)\n            }\n            let petVitalId = null\n            switch (this.state.petVitalTypeId) {\n              case '01': petVitalId = 1; break;\n              case '02': petVitalId = 3; break;\n              case '03': petVitalId = 4; break;\n              default: petVitalId = 1; break;\n            }\n            let datas = {\n\n              temperature: parseFloat(Temp),  //测量温度\n              roomTemperature,//室温\n              bodyConditionScore,\n              heartRate,\n              respiratoryRate,\n              referenceRectalTemperature,\n              furLength,\n              bloodPressure,\n              memo: this.state.notes,\n              petVitalTypeId: petVitalId,\n              clinicalDataEntityList: emerData\n            }\n            if (storage.roleId === `1`) {\n              datas.userId = storage.userId\n            } else {\n              datas.doctorId = storage.userId\n              datas.userId = storage.userId\n            }\n\n            if (this.state.selectPet.petId !== '' && this.state.isEmergency === false) {\n\n              datas.petId = this.state.selectPet.petId\n\n\n              console.log('临床测试入参：', datas);\n              //把数据保存进入云端\n              addAllClinical(datas)\n                .then(res => {\n                  console.log(res);\n                  meetCondition = false\n                  if (res.flag === true) {\n                    console.log('上传成功');\n                    // message.success('Uploaded successfully')\n                    this.setState({\n                      emerData: [],\n                      isMeasure: false\n                    })\n\n                    message.success('Uploaded successfully')\n                    this._getHistory11(this.state.selectPet.petId)\n                  } else {\n                    console.log('上传失败');\n                    this.setState({\n                      emerData: [],\n                      isMeasure: false\n                    })\n                    message.error('upload failed')\n                  }\n                })\n                .catch(err => {\n                  console.log(err);\n                  // message.error(err)\n                  this.setState({\n                    emerData: [],\n                    isMeasure: false\n                  })\n                  meetCondition = false\n                })\n            } else if (this.state.isEmergency === true) {\n\n              console.log('温度数据保存入参：', datas);\n\n              addAllClinical(datas)\n                .then(res => {\n                  console.log(res);\n                  meetCondition = false\n                  if (res.flag === true) {\n                    console.log('上传成功');\n                    message.success('Uploaded successfully')\n                    this.setState({\n                      emerData: [],\n                      isMeasure: false\n                    })\n                    // this._getHistory11(this.state.selectPet.petId)\n                    this._getEmergencyHistory()\n                  } else {\n                    console.log('上传失败');\n                    message.error('upload failed')\n                    this.setState({\n                      emerData: [],\n                      isMeasure: false\n                    })\n                  }\n                })\n                .catch(err => {\n                  console.log(err);\n                  message.error(err)\n                  this.setState({\n                    emerData: [],\n                    isMeasure: false\n                  })\n                  meetCondition = false\n                })\n            }\n\n            clearTimeout(saveHistoryTime)\n          }, 500);\n\n\n\n\n\n        }\n\n\n      },\n\n      192: () => {   //开始测量返回结果\n        switch (newArr[3]) {\n          case 90: console.log('有探头，开始测量的返回指令·'); break;\n          case 11: console.log('没有探头，开始测量的返回值'); break;\n\n        }\n      },\n      129: () => {      //返回硬件版本号\n        console.log(`返回的版本号为${newArr[3]}`);\n        this.setState({\n          measuerStatus: 'connented',\n          isconnected: true\n\n        })\n      },\n      135: () => {          //硬件的一些配置信息\n        /**\n         * ______________新版、旧版没法控制温度计__________________\n         * newArr[3]、newArr[4]、newArr[5]、newArr[6]是蓝牙温度计的修正系数\n         * newArr[7] 无操作关机时间        bcd码\n         * newArr[8] 背光时间              bcd码\n         * newArr[9] 是否提示音    ：00代表无提示音，11代表有提示音\n         * newArr[10] 测量单位    01代表℃，00代表℉\n         */\n        countdownTimer && clearInterval(countdownTimer)\n        this.setState({\n          measuerStatus: 'connented',\n          isconnected: true\n\n        })\n        let hardSet = electronStore.get('hardwareConfiguration')\n        let beep = hardSet.isBeep ? '11' : '00'\n        let unit = hardSet.isHua ? '00' : '01'\n\n        if (dataArr1[7] === hardSet.autoOff.number && dataArr1[8] === hardSet.backlightTimer.number &&\n          dataArr1[9] === beep && dataArr1[10] === unit) {\n        } else {\n          console.log('不相同，去发送命令');\n          let setArr = ['03', 'ed', '07', 'dd', hardSet.autoOff.number, hardSet.isBacklight ? hardSet.backlightTimer.number : '00', hardSet.isBeep ? '11' : '00', hardSet.isHua ? '00' : '01']\n          ipcRenderer.send('usbdata', { command: '21', arr: setArr })\n        }\n        // if (newArr[10] === 0) {\n        //   this.setState({\n        //     units: '℉'\n        //   })\n        // } else {\n        //   this.setState({\n        //     units: '℃'\n        //   })\n        // }\n\n\n      },\n      238: () => {     //探头松动\n        console.log('探头松动');\n        this.setState({\n          isMeasure: false\n        })\n        meetCondition = false\n        message.error('The probe is loose, please re-install and measure again', 5)\n        clearInterval(countdownTimer)\n      },\n      98: () => { //蓝牙连接断开\n        console.log('断开连接---断开连接---断开连接---断开连接---断开连接---断开连接');\n\n        console.log(new Date() - is97Time);\n        if (new Date() - is97Time < 800) {\n          return\n        }\n        this.setState({\n          measuerStatus: 'disconnected',\n          countdown: 60,\n          isMeasure: false,\n          isconnected: false,\n          echarsData: {\n            Eci: [],\n            wen0: [],\n            wen1: []\n          },\n          Temp: '',\n          emerData: []\n        })\n        echartCi = 0\n        meetCondition = false\n\n      },\n      97: () => {       //蓝牙连接\n        console.log('连接成功---连接成功---连接成功---连接成功---连接成功---连接成功');\n        this.setState({\n          measuerStatus: 'connented',\n          isconnected: true\n\n        })\n        is97Time = new Date()\n      },\n      130: () => {   //获取到mac地址\n        let dataArr = newArr.map(item => {\n          if (item.toString(16).length < 2) {\n            return '0' + item.toString(16)\n          } else {\n            return item.toString(16)\n          }\n        })\n        let str = ''\n        for (let i = 3; i < dataArr.length - 2; i++) {\n\n          str += dataArr[i]\n\n        }\n        // console.log(str);\n        this.setState({\n          notes: `${str}\n          `\n        })\n      },\n      177: () => {         //探头id\n        let dataArr1 = newArr.map(item => {\n          if (item.toString(16).length < 2) {\n            return '0' + item.toString(16)\n          } else {\n            return item.toString(16)\n          }\n        })\n        let id = ''\n        for (let i = 3; i < dataArr1.length - 2; i++) {\n          id += dataArr1[i]\n\n        }\n        console.log(id, dataArr1[7]);\n\n        this.setState({\n          probeID: id,\n          petVitalTypeId: dataArr1[7]\n        })\n        if (dataArr1[7] === '01') {\n          this.setState({\n            mearsurePart: 1\n          })\n        } else if (dataArr1[7] === '02') {\n          this.setState({\n            mearsurePart: 2\n          })\n        } else if (dataArr1[7] === '03') {\n          this.setState({\n            mearsurePart: 3\n          })\n        }\n\n\n\n      },\n      7: () => {  //发什么收什么，需要去重新插拔底座\n        console.log('重新插拔底座');\n        if (num07 === 3 && this.state.err07Visible === false) {\n          this.setState({\n            err07Visible: true\n          })\n        }\n      },\n\n\n    }\n    if (instruction.indexOf(newArr[2]) !== -1) {\n      return commandArr[newArr[2]]\n    } else {\n      return () => {\n        console.log('没有控制命令', commandArr);\n      }\n    }\n\n  }\n\n  _mearsurePort = () => {\n    switch (this.state.mearsurePart) {\n      case 1: return (\n        <div >\n          <div className='part'>\n            Axillary\n            <img src={ye} alt=\"\" width={px(50)} />\n\n          </div>\n        </div>\n      );\n      case 2: return (\n        <div >\n          <div className='part'>\n            Rectal\n            <img src={gang} alt=\"\" width={px(50)} />\n\n          </div>\n        </div>\n      );\n      default: return (\n        <div >\n          <div className='part'>\n            Ear\n            <img src={er} alt=\"\" width={px(50)} />\n\n          </div>\n        </div>\n      );\n    }\n  }\n\n  _getEmergencyHistory = () => {\n\n    //封装的日期排序方法\n    function ForwardRankingDate(data, p) {\n      for (let i = 0; i < data.length - 1; i++) {\n        for (let j = 0; j < data.length - 1 - i; j++) {\n          if (Date.parse(data[j][p]) < Date.parse(data[j + 1][p])) {\n            var temp = data[j];\n            data[j] = data[j + 1];\n            data[j + 1] = temp;\n          }\n        }\n      }\n      return data;\n    }\n    let historys = []\n    this.setState({\n      loading: true\n    })\n\n    getPetExamByDoctorId(storage.userId)\n      .then(res => {\n        // console.log('获取的宠物记录列表1', res);\n        this.setState({\n          loading: false\n        })\n        if (res.flag === true) {\n          let datas = res.data\n          for (let i = datas.length - 1; i >= 0; i--) {\n            if (datas[i].petId === null) {\n              let { petId, examId, userId, petVitalTypeId, temperature, roomTemperature, bloodPressure, memo, clinicalDatagroupId,\n                bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, createTime, clinicalDataEntity } = datas[i]\n              let Tem = temperature\n              try {\n                Tem = temperature || clinicalDataEntity.data0\n              } catch (error) {\n                console.log('抛出的异常', error);\n              }\n\n\n              let str = {\n                clinicalDatagroupId,\n                createTime,\n                date: moment(createTime).format('MMM DD'),\n                time: moment(createTime).format('hh:mm A'),\n                temp: parseInt(Tem * 10) / 10,\n                placement: petVitalTypeId,\n                note: memo,\n                historyId: examId,\n                bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, roomTemperature, bloodPressure, petId, userId\n              }\n\n              historys.push(str)\n            }\n          }\n\n          //把所有数据拿完后做个排序\n\n          let historyData = ForwardRankingDate(historys, \"createTime\");\n          console.log('historyData:', historyData);\n          this.setState({\n            historyData\n          })\n        }\n      })\n      .catch(err => {\n        this.setState({\n          loading: false\n        })\n        console.log(err);\n      })\n\n  }\n\n  _getHistory11 = (petId) => {\n    let historys = []\n    this.setState({\n      loading: true\n    })\n\n    getPetExamAndClinicalByPetId(petId)\n      .then(res => {\n        console.log('获取历史记录', res);\n        this.setState({\n          loading: false\n        })\n        if (res.flag === true) {\n          let datas = res.data\n          console.log('-------', datas);\n          for (let i = datas.length - 1; i >= 0; i--) {\n\n            let data = datas[i]\n\n            let { petId, examId, clinicalDatagroupId, userId, petVitalTypeId, temperature, roomTemperature, bloodPressure, memo,\n              bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, createTime, clinicalDataEntity, modifiedTime } = data\n\n            if (!clinicalDatagroupId) {\n              continue\n            }\n            let Tem = temperature\n            if (clinicalDataEntity) {\n              Tem = Tem || clinicalDataEntity.data0\n            }\n            // console.log('==============', Tem);\n            Tem = Tem ? Tem : 0\n\n\n            let time = null\n            if (modifiedTime && `${modifiedTime}` !== '' && `${modifiedTime}` !== `undefined`) {\n              time = modifiedTime\n            } else {\n              time = createTime\n            }\n            let json = {\n              time,\n              Temp: Tem,\n              placement: petVitalTypeId,\n              note: memo,\n              historyId: examId,\n              bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, roomTemperature, bloodPressure, petId, userId\n            }\n            historys.push(json)\n\n\n          }\n          console.log('---', historys);\n          let historyData = []\n          for (let i = 0; i < historys.length; i++) {\n            let history = historys[i]\n            let { bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, roomTemperature, bloodPressure, petId, userId, examId } = history\n            // console.log('--------', history.placement);\n            let placement = history.placement\n            if (placement === null || placement === '') {\n              placement = 1\n            }\n            let str = {\n              date: moment(history.time).format('MMM DD'),\n              time: moment(history.time).format('hh:mm A'),\n              temp: history.Temp,\n              placement,\n              note: history.note,\n              historyId: history.historyId,\n              bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, roomTemperature, bloodPressure, petId, userId,\n              key: examId\n            }\n            historyData.push(str)\n          }\n          this.setState({\n            historyData\n          })\n        }\n      })\n      .catch(err => {\n        this.setState({\n          loading: false\n        })\n        console.log(err);\n      })\n\n  }\n\n  _refresh = () => {\n    console.log('点击了');\n    // ipcRenderer.send('usbdata', { command: '07', arr: [] })\n    this.setState({\n      spin: true,  //\n      addpatient_description: '',\n      addpatient_petName: '',\n      addpatient_species: 1\n    })\n    if (this.state.patientId === '') {\n      this.setState({\n        spin: false\n      })\n    } else {\n      this._getPetInfo()\n    }\n\n\n  }\n\n\n  _getPetInfoBySave = () => {\n    let data = JSON.parse(storage.doctorExam)\n    console.log('从列表里面传过来的数据', data);\n    if (!data) {\n      console.log('从walk-in来的');\n    } else {\n      let { petId, petName, owner, breed, isMix, age, weight, url, patientId } = data\n      if (weight === 'unknown') {\n        weight = null\n      }\n      let selectPet = {\n        petId,\n        petName,\n        owner,\n        breedName: breed,\n        isMix,\n        age,\n        weight,\n        // birthday,\n        url,\n\n\n      }\n      this.setState({\n        selectPet,\n        leftStatus: 1,\n        patientId\n      })\n      this._getHistory11(petId)\n    }\n  }\n\n\n  _getPetInfo = () => {\n\n    switch (storage.identity) {\n      // case '1':\n      //   console.log('我是vetspire查找');\n\n\n\n      case '2':\n        console.log('我是ezyVet查找');\n        let params = {\n          animalId: this.state.patientId,\n          organizationId: 4\n        }\n        let paramsArray = [];\n        Object.keys(params).forEach(key =>\n          paramsArray.push(key + \"=\" + params[key])\n        );\n        let url = 'http://ec2-3-214-224-72.compute-1.amazonaws.com:8080/mellaserver/petall/getPetInfoByAnimalId'\n        // 判断是否地址拼接的有没有 ？,当没有的时候，使用 ？拼接第一个参数，如果有参数拼接，则用&符号拼接后边的参数\n        if (url.search(/\\?/) === -1) {\n          url = url + \"?\" + paramsArray.join(\"&\");\n        } else {\n          url = url + \"&\" + paramsArray.join(\"&\");\n        }\n        console.log('ezyVet集成查找宠物入参-请求地址', params, url);\n        fetch(url, {\n          method: \"GET\",\n          headers: {\n            'authorization': `Bearer ${storage.ezyVetToken}`,\n          }\n        }).then((response) => response.json())\n          .then((res) => {\n            console.log('res', res);\n            this.setState({\n              spin: false\n            })\n            if (res.flag === true) {\n              //有宠物，进入1\n              let petArr = res.data\n              if (petArr.length > 1) {\n                petArr.sort(function (a, b) {\n                  return a.createTime > b.createTime ? 1 : -1;\n                })\n              }\n\n\n              console.log(petArr);\n\n              let { petId, petName, lastName, firstName, breedName, isMix, birthday, weight, url } = petArr\n              if (isMix !== true) {\n                isMix = false\n              }\n              let age = moment(new Date()).diff(birthday, 'year')\n              let selectPet = {\n                petId,\n                petName,\n                owner: `${lastName}  ${firstName}`,\n                breedName,\n                isMix,\n                age,\n                weight,\n                birthday,\n                url\n\n              }\n              this.setState({\n                selectPet,\n                leftStatus: 1,\n              })\n              this._getHistory11(petId)\n\n            } else {\n              //没有宠物，进入2\n              this.setState({\n                leftStatus: 2\n              })\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n\n        break;\n\n      case '3':\n        console.log('我是一般医生查找');\n        let datas = {\n          patientId: this.state.patientId,\n          doctorId: storage.userId,\n        }\n        if (storage.lastWorkplaceId) {\n          datas.workplaceId = storage.lastWorkplaceId\n        }\n        if (storage.lastOrganization) {\n          datas.org = storage.lastOrganization\n        }\n        console.log('入参：', datas);\n\n        getPetInfoByPatientIdAndPetId(datas)\n          .then(res => {\n            console.log(res);\n            this.setState({\n              spin: false\n            })\n            if (res.flag === true) {\n              //有宠物，进入1\n              let petArr = res.data\n              if (petArr.length > 1) {\n                petArr.sort(function (a, b) {\n                  return a.createTime > b.createTime ? 1 : -1;\n                })\n              }\n\n              console.log(petArr);\n\n              let { petId, petName, lastName, firstName, breedName, isMix, birthday, weight, url } = petArr[0]\n              if (isMix !== true) {\n                isMix = false\n              }\n              let age = moment(new Date()).diff(birthday, 'year')\n              let selectPet = {\n                petId,\n                petName,\n                owner: `${lastName}  ${firstName}`,\n                breedName,\n                isMix,\n                age,\n                weight,\n                birthday,\n                url\n\n              }\n              this.setState({\n                selectPet,\n                leftStatus: 1,\n              })\n              this._getHistory11(petId)\n\n            } else {\n              //没有宠物，进入2\n              this.setState({\n                leftStatus: 2\n              })\n            }\n          })\n          .catch(err => {\n            this.setState({\n              spin: false\n            })\n            console.log(err);\n          })\n        break;\n\n      default:\n        break;\n    }\n\n\n  }\n\n  draggleRef = React.createRef();\n\n  showModal = () => {\n    this.setState({\n      visible: true\n    });\n  };\n\n  handleOk = (e) => {\n    console.log(e);\n    this.setState({\n      visible: false,\n      emerPatientID: ''\n    });\n  };\n\n  handleCancel = (e) => {\n    console.log(e);\n    this.setState({\n      visible: false,\n      emerPatientID: ''\n    });\n  };\n\n  onStart = (event, uiData) => {\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\n    const targetRect = this.draggleRef?.current?.getBoundingClientRect();\n    this.setState({\n      bounds: {\n        left: -targetRect?.left + uiData?.x,\n        right: clientWidth - (targetRect?.right - uiData?.x),\n        top: -targetRect?.top + uiData?.y,\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y)\n      }\n    });\n  };\n\n  _addPatient = () => {\n    console.log(222);\n    let { addpatient_description, addpatient_petName, addpatient_species, patientId } = this.state\n    let speciesId = 3, petSpeciesBreedId = 13001\n\n    // speciesId   狗：2   猫：1    其他：3\n    switch (addpatient_species) {\n      case 1: speciesId = 2; petSpeciesBreedId = 12001; break;\n      case 2: speciesId = 1; petSpeciesBreedId = 11001; break;\n      default: speciesId = 3; petSpeciesBreedId = 13001;\n    }\n    // 11001 是cat 12001是dog 13001是other\n    //\n    let datas = {\n\n      petName: addpatient_petName,\n      description: addpatient_description,\n      speciesId,\n      doctorId: storage.userId,\n      petSpeciesBreedId\n\n\n    }\n    if (storage.lastWorkplaceId) {\n      datas.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      datas.organizationId = storage.lastOrganization\n    }\n\n    console.log(datas);\n    addDeskPet(patientId, datas)\n      .then((res) => {\n        console.log(res);\n        if (res.flag === true) {\n          message.success('Patient id created successfully')\n          this._refresh()\n        } else {\n          console.log('创建Patient id 失败');\n          message.error('Patient id creation failed')\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        message.error('Patient id creation failed')\n      })\n  }\n\n  _topLeft = () => {\n    let { historyData, spin, selectPet, patientId } = this.state\n    let { petName, owner, breedName, isMix, age, weight, url, speciesId } = selectPet\n    if (!breedName) {\n      breedName = ''\n    }\n    switch (breedName) {\n      case 'defaultdog':\n        breedName = 'Dog'\n\n        break;\n      case 'defaultother':\n        breedName = 'Other'\n\n        break;\n      case 'defaultcat':\n        breedName = 'Cat'\n        break;\n\n    }\n\n    let image = `url(${other})`\n\n    if (url) {\n      image = `url(${url}?download=0&width=80)`\n    } else {\n      switch (speciesId) {\n        case 1: image = `url(${cat})`; break;\n        case 2: image = `url(${dog})`; break;\n\n        default:\n          break;\n      }\n    }\n\n\n    let mix = ''\n    if (isMix === true) {\n      mix = 'Mix'\n    }\n    if (weight === null) {\n      weight = ''\n    } else {\n      weight = (2.2046 * parseFloat(weight)).toFixed(1) + 'lbs'\n    }\n\n    if (`${age}` === `NaN` || `${age}` === `null`) {\n      age = ''\n    } else {\n      age = `${age} yrs`\n    }\n    let datas = []\n    for (let i = 0; i < historyData.length; i++) {\n      if (i < 3) {\n        datas.push(historyData[i])\n      } else {\n        break;\n      }\n    }\n    let dogbgc = '', catbgc = '', otherbgc = '';\n\n    switch (this.state.addpatient_species) {\n      case 1: dogbgc = '#E1206D'; catbgc = '#F08FB6'; otherbgc = '#F08FB6'; break;\n      case 2: dogbgc = '#F08FB6'; catbgc = '#E1206D'; otherbgc = '#F08FB6'; break;\n      case 3: dogbgc = '#F08FB6'; catbgc = '#F08FB6'; otherbgc = '#E1206D'; break;\n      default: break;\n    }\n\n    if (owner === `null  null`) {\n      // owner = 'unknown'\n      owner = ''\n    }\n    if (breedName === '' || breedName === null || breedName === undefined) {\n      // breedName = 'unknown'\n      breedName = ''\n    }\n    let title = ''\n    if (patientId) {\n      title += `ID: ${patientId}`\n    }\n    if (patientId && petName) {\n      title += ` , `\n    }\n    if (petName) {\n      title += `${petName}`\n    }\n    switch (this.state.leftStatus) {\n      case 1: return (\n        <div className=\"l\">\n          <div className=\"petinfo\">\n            <div className=\"heard\"\n              style={{ height: px(50), marginTop: mTop(10), fontSize: px(24) }}\n            >\n              <Tooltip placement='bottom' title='Switch pet'>\n                <MyIcon\n                  type='icon-qiehuanchengshi'\n                  className=\"icon\"\n                  style={{ marginRight: px(10), textAlign: 'center', }}\n                  onClick={() => {\n                    this.setState({\n                      leftStatus: 3,\n                      isMeasure: false,\n                      selectPet: {\n                        petId: '',\n                        petName: '',\n                        owner: '',\n                        breedName: '',\n                        isMix: false,\n                        age: '',\n                        weight: '',\n                        birthday: '',\n                      },\n                      patientId: '',\n                      historyData: [],\n                    })\n                    meetCondition = false\n                  }} />\n              </Tooltip>\n\n              <div className='avatar'\n                style={{\n                  width: px(50),\n                  height: px(50),\n                  marginRight: px(10),\n                  backgroundImage: image,\n                }}\n\n              >\n\n                {/* <img src={image} width={px(80)} alt=\"\" /> */}\n\n                {(storage.identity === '3') &&\n                  <img className='edit' src={edit} alt=\"\" width='18px'\n                    onClick={() => {\n                      storage.goEditPet = 'mesasure'\n                      this.props.history.push({ pathname: '/page9', participate: { patientId, petName, petId: this.state.selectPet.petId } })\n                    }}\n\n                  />}\n\n\n              </div>\n              <div className=\"ltitle\">\n                <p > {title}</p>\n              </div>\n            </div>\n\n            <div className=\"info\"\n              style={{ marginTop: mTop(10), marginBottom: mTop(20), paddingLeft: px(80) }}\n            >\n              Owner: {`${owner}`} <br />\n              {`Breed:  ${breedName}  ${mix}`}<br />\n              Age: {`${age}`}<br />\n              Weight: {`${weight}`}<br />\n            </div>\n          </div>\n          <div className=\"history\">\n            <div className=\"heard1\"\n              style={{ height: mTop(40), marginTop: mTop(10) }}\n              onClick={() => { this.setState({ visible: true }) }}>\n              <span>Device Info</span>\n            </div>\n            <div className=\"historyBody\">\n              {/* <div className=\"devices\">\n                <p>Device:</p>\n                <Select defaultValue=\"Mella-684h2\" style={{ width: 120 }} size={'small'}\n                // onChange={handleChange}\n                >\n                  <Option value=\"device1\">Mella-684h2</Option>\n                  <Option value=\"device2\">Mella-587j0</Option>\n                  <Option value=\"device3\">Mella-742k3</Option>\n                </Select>\n              </div> */}\n              {this._mearsurePort()}\n            </div>\n\n          </div>\n        </div>\n      )\n\n      case 2: return (\n        <div className=\"l\">\n          <div className=\"petinfo\">\n            <div className=\"heard\"\n              style={{ height: px(50), marginTop: mTop(10), fontSize: px(24) }}\n\n            >\n              {`Clinical Study Mode`}\n            </div>\n            <div className=\"patirntID\"\n              style={{ marginTop: px(18) }}\n            >\n              <p style={{ width: '80px' }}>Patient ID:</p>\n              <Input\n                // style={{ border: 'none', outline: 'medium' }}\n                style={{ width: px(150), height: mTop(33), marginLeft: px(25), fontSize: px(18), marginRight: px(6) }}\n\n                value={this.state.patientId}\n                bordered={false}\n                onChange={(item) => {\n                  this.setState({\n                    patientId: item.target.value.replace(/\\s/g, \"\")\n                  })\n                }}\n                onKeyDown={(e) => {\n                  // console.log('------', e);\n                  if (e.keyCode === 13) {\n                    this._refresh()\n                  }\n                }}\n              />\n              <SyncOutlined className='refresh'\n                style={{ fontSize: px(25) }}\n                onClick={this._refresh} spin={spin} />\n            </div>\n\n            <div className='newPet'>\n              <p style={{ color: '#E1206D', fontSize: px(18), fontWeight: 'bold', marginTop: mTop(10), paddingLeft: px(30) }}>Yay! You got a new patient!</p>\n              <div className=\"patirntID\"\n                style={{ marginTop: px(18) }}\n              >\n                <p style={{ width: '80px' }}>Pet Name:</p>\n                <Input\n                  // style={{ border: 'none', outline: 'medium' }}\n                  style={{ width: px(150), height: mTop(33), marginLeft: px(25), fontSize: px(18), marginRight: px(6) }}\n\n                  value={this.state.addpatient_petName}\n                  bordered={false}\n                  onChange={(item) => {\n                    // console.log(item);\n                    this.setState({\n                      addpatient_petName: item.target.value\n                    })\n                  }}\n                />\n              </div>\n              <div className=\"patirntID\"\n                style={{ marginTop: px(18) }}\n              >\n                <p style={{ width: '80px' }}>Description:</p>\n                <Input\n                  // style={{ border: 'none', outline: 'medium' }}\n                  style={{ width: px(150), height: mTop(33), marginLeft: px(25), fontSize: px(18), marginRight: px(6) }}\n\n                  value={this.state.addpatient_description}\n                  bordered={false}\n                  onChange={(item) => {\n                    // console.log(item);\n                    this.setState({\n                      addpatient_description: item.target.value\n                    })\n                  }}\n                />\n              </div>\n              <div className=\"species\">\n\n                <ul>\n                  <li >\n                    <div className='speciesChild'\n                      style={{ width: px(50), }}\n                    >\n                      <div className='dog'\n                        style={{ width: px(50), height: px(50), backgroundColor: dogbgc }}\n                        onClick={() => { this.setState({ addpatient_species: 1 }) }} >\n                        <img src={dog} alt=\"\" style={{ width: px(38) }} />\n                      </div>\n                      Dog\n                    </div>\n                  </li>\n                  <li >\n                    <div className='speciesChild'\n                      style={{ width: px(50) }}\n                    >\n                      <div className='dog'\n                        style={{ width: px(50), height: px(50), backgroundColor: catbgc }}\n                        onClick={() => { this.setState({ addpatient_species: 2 }) }}  >\n                        <img src={cat} alt=\"\" style={{ width: px(38) }} />\n                      </div>\n                      Cat\n                    </div>\n                  </li>\n                  <li >\n                    <div className='speciesChild'\n                      style={{ width: px(50) }}\n                    >\n                      <div className='dog'\n                        style={{ width: px(50), height: px(50), backgroundColor: otherbgc }}\n\n                        onClick={() => { this.setState({ addpatient_species: 3 }) }}>\n                        <img src={other} alt=\"\" style={{ width: px(38), color: '#FFF' }} />\n                      </div>\n                      Other\n                    </div>\n                  </li>\n                </ul>\n              </div>\n              <div className=\"savebtn\"\n                style={{ marginTop: mTop(20) }}\n              >\n                <p\n                  style={{ width: px(180), height: px(40), marginLeft: px(70), fontSize: px(16) }}\n                  onClick={() => { this._addPatient() }}>Add New Patient</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n      case 3: return (\n        <div className=\"l\">\n          <div className=\"petinfo\">\n            <div className=\"heard\"\n              style={{ height: px(50), marginTop: mTop(10), fontSize: px(24) }}\n\n            >\n              {`Clinical Study Mode`}\n            </div>\n            <div className=\"patirntID\">\n              <p style={{ width: '80px' }}>Patient ID:</p>\n              <Input\n                // style={{ border: 'none', outline: 'medium' }}\n                style={{ width: px(150), height: mTop(33), marginLeft: px(25), fontSize: px(18), marginRight: px(6) }}\n\n                value={this.state.patientId}\n                bordered={false}\n                onChange={(item) => {\n                  // console.log(item);\n                  this.setState({\n                    patientId: item.target.value.replace(/\\s/g, \"\")\n                  })\n                }}\n                onKeyDown={(e) => {\n                  // console.log('------', e);\n                  if (e.keyCode === 13) {\n                    this._refresh()\n                  }\n                }}\n              />\n              <SyncOutlined className='refresh' onClick={this._refresh} spin={spin} />\n            </div>\n            <div className=\"emergency\"\n              style={{ marginTop: mTop(10) }}\n              onClick={() => {\n                this.setState({ leftStatus: 4, isEmergency: true })\n                this._getEmergencyHistory()\n              }}>\n              <div className=\"btn\"\n                style={{ width: px(180), height: px(40) }}\n              >\n                Emergency\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n      case 4: return (\n        <div className=\"l\">\n          <div className=\"petinfo\">\n            <div className=\"heard\"\n              style={{ height: px(50), marginTop: mTop(10), fontSize: px(24) }}\n\n            >\n              {`Clinical Study Mode`}\n            </div>\n            <div className=\"emergencyText\">\n              <p style={{ fontSize: px(20), marginTop: mTop(10), margin: 0, padding: 0 }}>\n                You are in an emergency now,\n                you can click History in this mode to assign history records</p>\n\n            </div>\n            <div className=\"emergency\" onClick={() => {\n              this.setState({ leftStatus: 3, isEmergency: false, historyData: [] })\n\n            }}>\n              <div className=\"btn\"\n                style={{ width: px(180), height: px(40), fontSize: px(25) }}\n              >\n                Exit\n              </div>\n            </div>\n\n            <div className=\"history\">\n              <div className=\"heard1\"\n                style={{ height: mTop(40), marginTop: mTop(10) }}\n                onClick={() => { this.setState({ visible: true }) }}>\n                <span>Device Info</span>\n              </div>\n              <div className=\"historyBody\">\n                <div className=\"devices\">\n                  <p>Device:</p>\n                  <Select defaultValue=\"Mella-684h2\" style={{ width: 120 }} size={'small'}\n                  // onChange={handleChange}\n                  >\n                    <Option value=\"device1\">Mella-684h2</Option>\n                    <Option value=\"device2\">Mella-587j0</Option>\n                    <Option value=\"device3\">Mella-742k3</Option>\n                  </Select>\n                </div>\n                {this._mearsurePort()}\n              </div>\n\n            </div>\n          </div>\n        </div>\n      )\n      default: return null;\n\n    }\n\n\n  }\n\n  handleChange = index => {\n    console.log('---------', index);\n    this.setState({\n      furLength: index\n    })\n  };\n\n  handleChange1 = index => {\n    console.log('---------', index);\n    let bodyType = document.querySelectorAll('#_bodyType .ant-select-selector')\n    switch (`${index}`) {\n      case '1': bodyType[0].style.width = \"105px\"\n\n        break;\n      case '2': bodyType[0].style.width = \"130px\"\n\n        break;\n      case '3': bodyType[0].style.width = \"120px\"\n\n        break;\n\n      default: bodyType[0].style.width = \"105px\"\n        break;\n    }\n\n    // bodyType[0].style.width = \"120px\"\n    console.dir(bodyType)\n    this.setState({\n      bodyType: index\n    })\n  };\n\n  _foot = () => {\n    let lbgc = '', rbgc = ''\n    if (this.state.isPetCharacteristics) {\n      lbgc = 'rgba(25,173,228,0.5)'; rbgc = 'rgba(105,201,237,1)'\n    } else {\n      lbgc = 'rgba(105,201,237,1)'; rbgc = 'rgba(25,173,228,0.5)'\n    }\n    return (\n      <div className=\"clinical_foot\" >\n        <div className=\"top\"\n          style={{ height: '10%', }}\n        >\n\n          <div className=\"foot_l\" style={{ backgroundColor: lbgc }} onClick={() => this.setState({ isPetCharacteristics: true })}>\n            Pet Characteristics\n          </div>\n          <div className=\"foot_l\" style={{ backgroundColor: rbgc }} onClick={() => this.setState({ isPetCharacteristics: false })}>\n            History\n          </div>\n        </div>\n        {this.state.isPetCharacteristics ?\n          this._petCharacteristics() :\n          this._history()\n        }\n      </div >\n    )\n  }\n  _petCharacteristics = () => {\n\n    let { furLength, bodyType } = this.state\n    let placeholder = '', placeholder1 = ''\n    switch (`${furLength}`) {\n      case '1': placeholder = 'smooth'; break;\n      case '2': placeholder = 'short'; break;\n      case '3': placeholder = 'medium'; break;\n      case '4': placeholder = 'long'; break;\n      default: break;\n    }\n\n    switch (`${bodyType}`) {\n      case '1': placeholder1 = 'small'; break;\n      case '2': placeholder1 = 'barrel chested'; break;\n      case '3': placeholder1 = 'keel chested'; break;\n      default: break;\n    }\n    return (\n      <div className=\"petChaeacteristics\"\n        style={{ paddingLeft: px(10), paddingRight: px(10), height: '90%' }}\n      >\n        <div className=\"child\" style={{ marginTop: mTop(30), }}>\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'relative' }}>\n            <p style={{ width: '150px' }}>Room Temperature: </p>\n            <Input className='inp'\n              // style={{ border: 'none', outline: 'medium' }}\n              // style={{ width: px(105), height: mTop(33), fontSize: px(18), marginRight: px(6) }}\n\n              value={`${this.state.roomTemperature}`}\n              bordered={false}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d^\\.]+/g, '').replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3')\n                this.setState({\n                  roomTemperature: str\n                })\n              }}\n            />\n            <span style={{ position: 'absolute', top: \"5%\", right: '5%', display: 'table-cell', whiteSpace: 'nowrap', paddingTop: '5px', paddingRight: '5px' }}>℉</span>\n          </div>\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'relative' }}>\n            <p style={{ width: '150px' }}>Reference Rectal Temperature: </p>\n            <Input className='inp'\n              // style={{ border: 'none', outline: 'medium' }}\n\n              value={`${this.state.referenceRectalTemperature}`}\n              bordered={false}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d^\\.]+/g, '').replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3')\n                this.setState({\n                  referenceRectalTemperature: str\n                })\n              }}\n            />\n            <span style={{ position: 'absolute', top: \"10%\", right: '5%', display: 'table-cell', whiteSpace: 'nowrap', paddingTop: '5px', paddingRight: '5px' }}>℉</span>\n          </div>\n\n        </div>\n        <div className=\"child\">\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n            <p style={{ width: '150px' }}>Body Condition Score:  </p>\n            <Input className='inp'\n              style={{ border: 'none', outline: 'medium' }}\n\n              value={this.state.bodyConditionScore}\n              bordered={false}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d^\\.]+/g, '').replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3')\n                this.setState({\n                  bodyConditionScore: str\n                })\n              }}\n            />\n          </div>\n          <div className='furLength' >\n            <p style={{ width: '150px' }}>Fur Length: </p>\n            <Select\n              // showSearch\n              placeholder\n              onChange={this.handleChange}\n              style={{ width: '105px', borderRadius: '40px', height: '33px', outline: 'none', borderWidth: 0 }}\n              value={placeholder}\n            >\n              <Option value=\"1\">smooth</Option>\n              <Option value=\"2\">short</Option>\n              <Option value=\"3\">medium</Option>\n              <Option value=\"4\">long</Option>\n            </Select>\n          </div>\n\n\n        </div>\n        <div className=\"child\">\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'relative', }}>\n            <p style={{ width: '150px' }}>Heart Rate:  </p>\n            <Input className='inp'\n              style={{ border: 'none', outline: 'medium' }}\n              value={`${this.state.heartRate}`}\n              bordered={false}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d^\\.]+/g, '').replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3')\n                this.setState({\n                  heartRate: str\n                })\n              }}\n\n            />\n            <span style={{ position: 'absolute', top: \"2%\", right: '5%', display: 'table-cell', whiteSpace: 'nowrap', paddingTop: '5px', paddingRight: '1px' }}>bpm</span>\n          </div>\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'relative' }}>\n            <p style={{ width: '150px' }}>Blood Pressure:  </p>\n            <Input className='inp'\n              style={{ border: 'none', outline: 'medium' }}\n              value={this.state.bloodPressure}\n              bordered={false}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d^\\.]+/g, '').replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3')\n                this.setState({\n                  bloodPressure: str\n                })\n              }}\n            />\n            <span style={{ position: 'absolute', top: \"2%\", right: '5%', display: 'table-cell', whiteSpace: 'nowrap', paddingTop: '5px', paddingRight: '5px' }}>mm</span>\n          </div>\n\n        </div>\n        <div className=\"child\" style={{ marginBottom: px(40) }}>\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'relative', }}>\n            <p style={{ width: '150px' }}>Respiratory Rate:  </p>\n            <Input className='inp'\n              style={{ border: 'none', outline: 'medium' }}\n              value={`${this.state.respiratoryRate}`}\n              bordered={false}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d^\\.]+/g, '').replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3')\n                this.setState({\n                  respiratoryRate: str\n                })\n              }}\n\n            />\n            <span style={{ position: 'absolute', top: \"2%\", right: '5%', display: 'table-cell', whiteSpace: 'nowrap', paddingTop: '5px', paddingRight: '1px' }}>bpm</span>\n          </div>\n          <div className='furLength' id='_bodyType'  >\n            {/* <p style={{ width: '150px' }}>Body Type: </p>\n            <Select\n              // showSearch\n              placeholder\n              onChange={this.handleChange1}\n              style={{ borderRadius: '40px', height: '33px', outline: 'none', borderWidth: 0 }}\n              value={placeholder1}\n              dropdownMatchSelectWidth={120}\n\n            >\n              <Option value=\"1\">small</Option>\n              <Option value=\"2\">barrel chested</Option>\n              <Option value=\"3\">keel chested</Option>\n            </Select> */}\n          </div>\n        </div>\n        {/* <div className=\"note\">\n          <p>Notes:</p>\n          <textarea\n            rows=\"2\"\n            cols=\"30\"\n            value={this.state.notes}\n            onChange={(val) => {\n              console.log(val);\n              this.setState({\n                notes: val.target.value\n              })\n            }}\n\n          >\n          </textarea>\n        </div> */}\n\n      </div>\n    )\n  }\n  _history = () => {\n\n    const _del = (key, record) => {\n      console.log('删除', key, record);\n\n\n      /**------------这里还要删除后台的数据------------ */\n      deletePetExamByExamId(key)\n        .then(res => {\n          if (res.flag === true) {\n            console.log('删除成功');\n            const historyData = [...this.state.historyData];\n            console.log(historyData);\n            this.setState({\n              historyData: historyData.filter((item) => item.historyId !== key)\n            });\n          } else {\n            console.log('删除失败');\n          }\n        })\n    }\n    const _edit = (key, record) => {\n      console.log('编辑', key, record);\n      let { heartRate, bloodPressure, respiratoryRate, referenceRectalTemperature, roomTemperature, bodyConditionScore, furLength, } = record\n      console.log('转换前：', heartRate, bloodPressure, respiratoryRate, referenceRectalTemperature, roomTemperature);\n      let editHeartRate = (heartRate !== null && heartRate !== undefined) ? heartRate : ''\n      let editBloodPressure = (bloodPressure !== null && bloodPressure !== undefined) ? bloodPressure : ''\n      let editRespiratoryRate = (respiratoryRate !== null && respiratoryRate !== undefined) ? respiratoryRate : ''\n      let editRectal = (referenceRectalTemperature !== null && referenceRectalTemperature !== undefined) ? (referenceRectalTemperature * 1.8 + 32).toFixed(1) : ''\n      let editRoomTemperature = (roomTemperature !== null && roomTemperature !== undefined) ? (roomTemperature * 1.8 + 32).toFixed(1) : ''\n      let editBodyConditionScore = (bodyConditionScore !== null && bodyConditionScore !== undefined) ? bodyConditionScore : ''\n      let editFurLength = furLength\n\n      console.log(editRectal,\n        editRoomTemperature,\n        editHeartRate,\n        editBloodPressure,\n        editRespiratoryRate);\n      this.setState({\n        editRectal,\n        editRoomTemperature,\n        editHeartRate,\n        editBloodPressure,\n        editRespiratoryRate,\n        editVisible: true,\n        editId: key,\n        memo: record.note,\n        editBodyConditionScore,\n        editFurLength\n      })\n\n\n\n\n\n\n    }\n    const see = (id, record) => {\n      console.log(id, record);\n      this.setState({\n        tip: 'data is loading',\n        tipSpin: true\n      })\n\n      getClinicalDataByExamId(id)\n        .then(res => {\n          console.log('此条记录的全部数据：', res);\n          this.setState({\n            tip: '',\n            tipSpin: false\n          })\n          if (res.flag) {\n            let datas = res.data.clinicalDataEntityList\n\n\n            if (datas) {\n\n              let echarsData = {\n                Eci: [],\n                wen0: [],\n                wen1: []\n              }\n              // let { echarsData } = this.state\n              let { wen0, wen1, Eci } = echarsData\n              for (let i = 0; i < datas.length; i++) {\n                let { data0, data1 } = datas[i]\n\n\n                Eci.push(i)\n                if (this.state.units === '℃') {\n                  wen0.push(data0)\n                  wen1.push(data1)\n\n                } else {\n                  wen0.push(data0 * 1.8 + 32)\n                  wen1.push(data1 * 1.8 + 32)\n                }\n\n              }\n              let Temp = datas[datas.length - 1].data0 || ''\n              console.log('----------------', Temp);\n              this.setState({\n                echarsData,\n                Temp,\n                showHistoryEchart: true\n              }, () => {\n                const option = this.getOption();\n                this.echartsElement.getEchartsInstance().setOption(option)  // 实时改变\n              })\n            }\n\n          }\n        })\n        .catch(err => {\n          this.setState({\n            tip: '',\n            tipSpin: false\n          })\n          console.log(err);\n        })\n    }\n    const isflog = window.screen.height < 1000 ? true : false\n\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'operation',\n        key: 'operation',\n        width: '16%',\n        className: `${isflog ? 'operation' : ''}`,\n        render: (text, record, index) => {\n          // console.log('狩猎:', text, record, index);\n          //record:\n          return (\n            <div style={{ display: 'flex', justifyContent: 'space-around', alignItems: 'center', padding: `${px(18)}px 0` }} >\n              <Popconfirm title=\"Sure to delete?\" onConfirm={() => _del(record.historyId, record)}>\n                <img src={del} alt=\"\" style={{ width: px(25) }} />\n              </Popconfirm>\n              {\n                (this.state.isEmergency) ? (\n                  <div className=\"assign\"\n                    style={{ width: mTop(60), height: mTop(28), fontSize: px(14) }}\n\n                    onClick={() => {\n                      console.log(text, record, index);\n                      this.setState({\n                        visible: true,\n                        seleceEmergencies: record\n                      })\n                    }}>Assign</div>\n                ) : (\n                  <>\n                    <img src={edit} alt=\"\" style={{ width: px(25) }}\n                      onClick={() => _edit(record.historyId, record)}\n                    />\n\n                    <img src={start} alt=\"\" style={{ width: px(25) }}\n                      onClick={() => see(record.historyId, record)}\n                    />\n\n                    {/* <div\n                      onClick={() => see(record.historyId, record)}\n                      className='see'\n                      style={{ width: px(25), height: px(25) }}\n                    >\n                      <MyIcon type={'icon-mimaxiaoyanjing-copy'} className=\"icon \" style={{ color: '#fff', fontSize: px(13) }} />\n                    </div> */}\n                  </>\n                )\n              }\n\n\n            </div>\n          )\n\n        }\n      },\n      {\n        title: 'Date',\n        dataIndex: 'date',\n        key: 'date',\n        width: '14%',\n        className: `${isflog ? 'operation' : ''}`,\n        render: (text, record, index) => {\n\n          return (\n            <p style={{ textAlign: 'center' }}>{text}</p>\n          )\n\n        }\n      },\n      {\n        title: 'Time',\n        dataIndex: 'time',\n        key: 'time',\n        width: '14%',\n        className: `${isflog ? 'operation' : ''}`,\n        render: (text, record, index) => {\n\n          return (\n            <p style={{ textAlign: 'center' }}>{text}</p>\n          )\n\n        }\n      },\n      {\n        title: `Temp(${this.state.units})`,\n        // title: `Temp(℉)`,\n        key: 'temp',\n        dataIndex: 'temp',\n        className: `${isflog ? 'operation' : ''}`,\n        width: '14%',\n        render: (text, record, index) => {\n          // console.log(text, record);\n\n          /**\n          * bag：温度数值前的圆圈的背景颜色\n          * tem：展示的温度\n          * endvalue:将从后台得到的数据全部转化成华氏度\n          * min：猫的正常体温的左区间,单位℉，后期要做的猫狗都行，这需要告诉我此宠物是猫还是狗\n          * max：猫的正常体温的右区间,单位℉，后期要做的猫狗都行，这需要告诉我此宠物是猫还是狗\n          *\n          */\n\n\n          let bag = '', tem = ''\n\n          let endValue = text > 55 ? text : parseInt((text * 1.8 + 32) * 10) / 10\n          let min = 100.4, max = 102.56\n\n\n\n\n\n\n          if (endValue > max) {\n            bag = '#E1206D'\n          } else if (endValue < min) {\n            bag = '#98DA86'\n          } else {\n            bag = '#58BDE6'\n          }\n\n          if (this.state.units === '℃') {\n            if (text) {\n              tem = `${text}${this.state.units}`\n              if (text > 55) {\n\n                tem = `${((text - 32) / 1.8).toFixed(1)}${this.state.units}`\n              }\n            }\n          } else {\n            if (text) {\n              if (text > 55) {\n                tem = `${text}${this.state.units}`\n              } else {\n                tem = `${parseInt((text * 1.8 + 32) * 10) / 10}${this.state.units}`\n              }\n\n            }\n          }\n          return (\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n              {tem ? <div style={{ width: '8px', height: '8px', borderRadius: '8px', backgroundColor: bag, marginRight: '3px' }} /> : null}\n              <p style={{ margin: 0, padding: 0 }}>{tem}</p>\n            </div>\n          )\n\n        }\n      },\n      {\n        title: `Rectal Temperature`,\n        key: 'referenceRectalTemperature',\n        dataIndex: 'referenceRectalTemperature',\n        width: '15%',\n        className: `${isflog ? 'operation' : ''}`,\n        render: (text, record, index) => {\n          // console.log('肛温的值：', text);\n          let num = text\n          if (text !== null) {\n            num = (text * 1.8 + 32).toFixed(1)\n          }\n\n          return (\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n              {text !== null && <p style={{ margin: 0, padding: 0 }}>{num} <span>{'℉'}</span></p>}\n\n            </div>\n          )\n\n        }\n      },\n      {\n        title: 'Placement',\n        dataIndex: 'placement',\n        key: 'placement',\n        align: 'center',\n        width: '15%',\n        className: `${isflog ? 'operation' : ''}`,\n        render: (text, record, index) => {\n          switch (record.placement) {\n            case 1: return (    //腋温\n              <div>\n                <img src={palcement_ye} alt=\"\" />\n              </div>\n            )\n            case 3: return (     //肛温\n              <div>\n                <img src={placement_gang} alt=\"\" />\n              </div>\n            )\n            case 2: return (     //肛温\n              <div>\n                <img src={placement_gang} alt=\"\" />\n              </div>\n            )\n            case 4: return (    //耳温\n              <div>\n                <img src={placement_er} alt=\"\" />\n              </div>\n            )\n            default: return null;\n          }\n\n        }\n      },\n      {\n        title: 'Note',\n        dataIndex: 'note',\n        key: 'note',\n        width: '12%',\n        className: `${isflog ? 'operation' : ''}`,\n        render: (text, record, index) => {\n\n          return (\n            <p style={{ width: '70px' }}>{text}</p>\n          )\n\n        }\n      },\n    ];\n\n\n\n    let hisHe = mTop(200)\n    try {\n      let historyElement = document.querySelectorAll('#clinicalMeasure11 .historyTable')\n      hisHe = historyElement[0].clientHeight - mTop(100)\n    } catch (error) {\n\n    }\n\n\n\n    return (\n      <div className='historyTable' style={{ height: '90%' }}>\n        <Table\n          columns={columns}\n          loading={this.state.loading}\n          dataSource={this.state.historyData}\n          rowKey={columns => columns.historyId}\n          // pagination={{ pageSize: 3, showSizeChanger: false, showQuickJumper: true }}\n          pagination={false}\n          scroll={{\n            y: hisHe\n          }}\n        />\n      </div>\n\n    )\n  }\n\n\n  _status = () => {\n    let { closeColor, closebgc, minbgc, units, isMeasure, Temp, measuerStatus, isconnected, showHistoryEchart } = this.state\n    let text = '', unit = '', temColor = ''\n\n    Temp = parseFloat(Temp)\n\n    if (isconnected === false) {\n      if (!showHistoryEchart) {\n        Temp = ''\n        text = 'disconnected'\n        temColor = '#3B3A3A'\n      } else {\n        text = 'disconnected'\n        temColor = '#3B3A3A'\n      }\n\n    } else {\n      text = 'connected'\n      temColor = '#3B3A3A'\n      if (Temp > 15) {\n        unit = units\n        if (Temp > 39) {\n          text = 'High'\n          temColor = '#E1206D'\n        } else if (Temp < 31) {\n          text = 'Low'\n          temColor = '#47C2ED'\n        } else {\n          text = 'Normal'\n          temColor = '#78D35D'\n        }\n      }\n    }\n\n\n\n    let temp = ''\n\n    if (`${Temp}` !== 'NaN' && Temp !== '') {\n      temp = units === '℉' ? parseInt((Temp * 1.8 + 32) * 10) / 10 : Temp.toFixed(1)\n    }\n    let lowFlog = false\n    if (unit === '℃') {\n      if (temp < 24.8) {\n        lowFlog = true\n      }\n    } else {\n      if (temp < 76.6) {\n        lowFlog = true\n      }\n    }\n\n\n\n\n\n    return (\n      <div className='Tem' style={{ color: temColor, right: px(30), bottom: mTop(120) }}>\n\n        {(!isMeasure) ? (\n          showHistoryEchart ? <>\n            <span style={{ fontSize: px(36) }}>{temp} <sup style={{ fontSize: px(18) }}>{units}</sup></span><br />\n            {/* <span style={{ fontSize: px(22) }}>{text}</span> */}\n\n            <span style={{ fontSize: px(22), color: '#8a8a8a' }}>{`History`}</span>\n          </> :\n\n            <>\n              <span style={{ fontSize: px(36) }}>{temp} <sup style={{ fontSize: px(18) }}>{unit}</sup></span><br />\n              <span style={{ fontSize: px(22) }}>{text}</span>\n            </>\n        ) : (\n          lowFlog ? (\n            <>\n              <span style={{ fontSize: px(36) }}>{'Low'}</span><br />\n\n            </>\n          ) : (\n            <>\n              <span style={{ fontSize: px(36) }}>{temp} <sup style={{ fontSize: px(18) }}>{unit}</sup></span><br />\n\n            </>\n          )\n\n        )}\n\n\n      </div>\n\n    )\n  }\n\n  _modal = () => {\n    let that = this\n\n    function save() {\n\n\n      switch (storage.identity) {\n        case '1':\n          console.log('我是vetspire查找');\n\n          break;\n\n        case '2':\n          console.log('我是ezyVet查找');\n          let params = {\n            animalId: that.state.emerPatientID,\n            organizationId: 4\n          }\n          let paramsArray = [];\n          Object.keys(params).forEach(key =>\n            paramsArray.push(key + \"=\" + params[key])\n          );\n          let url = 'http://ec2-3-214-224-72.compute-1.amazonaws.com:8080/mellaserver/petall/getPetInfoByAnimalId'\n          // 判断是否地址拼接的有没有 ？,当没有的时候，使用 ？拼接第一个参数，如果有参数拼接，则用&符号拼接后边的参数\n          if (url.search(/\\?/) === -1) {\n            url = url + \"?\" + paramsArray.join(\"&\");\n          } else {\n            url = url + \"&\" + paramsArray.join(\"&\");\n          }\n          console.log('ezyVet集成查找宠物入参-请求地址', params, url);\n          fetch(url, {\n            method: \"GET\",\n            headers: {\n              'authorization': `Bearer ${storage.ezyVetToken}`,\n            }\n          }).then((response) => response.json())\n            .then((res) => {\n              console.log('res', res);\n              this.setState({\n                spin: false\n              })\n              if (res.flag === true) {\n                //有宠物，进入1\n                let petArr = res.data\n                if (petArr.length > 1) {\n                  petArr.sort(function (a, b) {\n                    return a.createTime > b.createTime ? 1 : -1;\n                  })\n                }\n\n\n                console.log(petArr);\n\n                let { petId, petName, lastName, firstName, breedName, isMix, birthday, weight, url } = petArr\n                assign(petId)\n\n              } else {\n                //没有宠物\n                message.error('There are no pets under this patientID')\n              }\n            })\n            .catch((err) => {\n              console.log(err);\n              message.error('There are no pets under this patientID')\n            });\n\n          break;\n\n        case '3':\n          console.log('我是一般医生查找');\n          let datas = {\n            patientId: that.state.emerPatientID,\n            doctorId: storage.userId,\n          }\n          if (storage.lastWorkplaceId) {\n            datas.workplaceId = storage.lastWorkplaceId\n          }\n          console.log('入参：', datas);\n\n          getPetInfoByPatientIdAndPetId(datas)\n            .then(res => {\n\n              if (res.flag === true) {\n                //有宠物，进入1\n                let petArr = res.data\n                if (petArr.length > 1) {\n                  petArr.sort(function (a, b) {\n                    return a.createTime > b.createTime ? 1 : -1;\n                  })\n                }\n\n                console.log(petArr);\n\n                let { petId, } = petArr[0]\n                assign(petId)\n              } else {\n\n                message.error('There are no pets under this patientID')\n              }\n            })\n            .catch(err => {\n              message.error('There are no pets under this patientID')\n              console.log(err);\n            })\n          break;\n\n        default:\n          break;\n      }\n\n      const assign = (petId) => {\n        let parmes = {\n          petId,\n          clinicalDatagroupId: that.state.seleceEmergencies.clinicalDatagroupId\n        }\n\n        addAndSavePetExam(that.state.seleceEmergencies.historyId, parmes)\n          .then(res => {\n            console.log('----------', res);\n            if (res.flag === true) {\n              console.log('分配成功');\n              message.success('Assigned successfully')\n              that._getEmergencyHistory()\n              that.setState({\n                visible: false,\n                emerPatientID: ''\n              })\n            } else {\n              message.success('Assignment failed')\n            }\n\n          })\n          .catch(err => {\n            console.log(err);\n            message.success('Assignment failed')\n          })\n      }\n\n\n\n\n    }\n\n\n    let { disabled, bounds, visible } = this.state\n    return (\n      <Modal\n        title={\n          <div\n            style={{\n              width: '100%',\n              cursor: 'move',\n              height: '20px',\n              textAlign: 'center'\n            }}\n            onMouseOver={() => {\n              if (disabled) {\n                this.setState({\n                  disabled: false,\n                });\n              }\n            }}\n            onMouseOut={() => {\n              this.setState({\n                disabled: true,\n              });\n            }}\n\n            onFocus={() => { }}\n            onBlur={() => { }}\n          // end\n          >\n            Distribute the history of emergencies\n          </div>\n        }\n        visible={visible}\n        // visible={true}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n\n        modalRender={(modal) => (\n          <Draggable\n            disabled={disabled}\n            bounds={bounds}\n            onStart={(event, uiData) => this.onStart(event, uiData)}\n          >\n            <div ref={this.draggleRef}>{modal}</div>\n          </Draggable>\n        )}\n        footer={\n          [] // 设置footer为空，去掉 取消 确定默认按钮\n        }\n        destroyOnClose={true}\n      >\n        <div id=\"selectEmergenciesModal\">\n          <div className=\"selectEmergenciesModal\">\n            <p style={{ width: '80px' }}>Patient ID</p>\n            <Input\n              style={{ border: 'none', outline: 'medium' }}\n              value={this.state.emerPatientID}\n              bordered={false}\n              onChange={(item) => {\n                this.setState({\n                  emerPatientID: item.target.value.replace(/\\s/g, \"\")\n                })\n              }}\n              onKeyDown={(e) => {\n                // console.log('------', e);\n                if (e.keyCode === 13) {\n                  save()\n                }\n              }}\n            />\n          </div>\n          <div className=\"btn\" onClick={save}>Save</div>\n        </div>\n\n      </Modal>\n\n    )\n\n  }\n\n  _editModal = () => {\n    let that = this\n\n    function save() {\n      let { editBodyConditionScore, editFurLength, editHeartRate, editBloodPressure, editRespiratoryRate } = that.state\n      let datas = {\n        memo: that.state.memo,\n        bodyConditionScore: parseInt(editBodyConditionScore),\n        furLength: parseInt(editFurLength),\n        heartRate: editHeartRate,\n        bloodPressure: editBloodPressure,\n        respiratoryRate: editRespiratoryRate\n        // roomTemperature: that.state.editRoomTemperature,\n        // referenceRectalTemperature: that.state.editRectal\n      }\n      if (that.state.editRoomTemperature) {\n        datas.roomTemperature = ((parseFloat(that.state.editRoomTemperature) - 32) / 1.8).toFixed(2)\n      }\n      if (that.state.editRectal) {\n        datas.referenceRectalTemperature = ((parseFloat(that.state.editRectal) - 32) / 1.8).toFixed(2)\n      }\n\n      console.log('入参：', datas, that.state.editId);\n      that.setState({\n        editVisible: false,\n        tip: 'Data is being modified',\n        tipSpin: true,\n\n      })\n      updatePetExam(that.state.editId, datas)\n        .then(res => {\n          console.log(res);\n          that.setState({\n\n            tip: '',\n            tipSpin: false\n          })\n          message.success('Data modified successfully')\n\n          that._getHistory11(that.state.selectPet.petId)\n        })\n        .catch(err => {\n          that.setState({\n            spin: false,\n            tip: '',\n            tipSpin: false\n          })\n          message.success(' Data modification failed')\n\n          console.log(err);\n        })\n\n    }\n\n\n    let { disabled, bounds, editVisible, editFurLength } = this.state\n    let furLength = ''\n    if (editFurLength !== null && editFurLength !== undefined) {\n      switch (`${editFurLength}`) {\n        case '1': furLength = 'smooth'; break;\n        case '2': furLength = 'short'; break;\n        case '3': furLength = 'medium'; break;\n        case '4': furLength = 'long'; break;\n\n        default:\n          break;\n      }\n    }\n\n    return (\n      <Modal\n        title={\n          <div\n            style={{\n              width: '100%',\n              cursor: 'move',\n              height: '20px',\n              textAlign: 'center'\n            }}\n            onMouseOver={() => {\n              if (disabled) {\n                this.setState({\n                  disabled: false,\n                });\n              }\n            }}\n            onMouseOut={() => {\n              this.setState({\n                disabled: true,\n              });\n            }}\n\n            onFocus={() => { }}\n            onBlur={() => { }}\n          // end\n          >\n            Modification history information\n          </div>\n        }\n        visible={editVisible}\n        // visible={true}\n        onCancel={() => { that.setState({ editVisible: false, }); }}\n        modalRender={(modal) => (\n          <Draggable\n            disabled={disabled}\n            bounds={bounds}\n            onStart={(event, uiData) => this.onStart(event, uiData)}\n          >\n            <div ref={this.draggleRef}>{modal}</div>\n          </Draggable>\n        )}\n        footer={\n          [] // 设置footer为空，去掉 取消 确定默认按钮\n        }\n        destroyOnClose={true}\n      >\n        <div id=\"selectEmergenciesModal\">\n\n          <div className=\"selectEmergenciesModal\">\n            <p style={{ width: '140px' }}>Room Temperature </p>\n            <Input\n              style={{ border: 'none', outline: 'medium' }}\n              bordered={false}\n              value={this.state.editRoomTemperature}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d^\\.]+/g, '').replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3')\n                this.setState({\n                  editRoomTemperature: str\n                })\n              }}\n\n            />\n            <span>℉</span>\n          </div>\n\n          <div className=\"selectEmergenciesModal\">\n            <p style={{ width: '140px' }}>Rectal Temperature</p>\n            <Input\n              style={{ border: 'none', outline: 'medium' }}\n              bordered={false}\n              value={this.state.editRectal}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d^\\.]+/g, '').replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3')\n                this.setState({\n                  editRectal: str\n                })\n              }}\n\n            />\n            <span>℉</span>\n          </div>\n\n          <div className=\"selectEmergenciesModal\">\n            <p style={{ width: '140px' }}>Body Condition Score</p>\n            <Input\n              style={{ border: 'none', outline: 'medium' }}\n              bordered={false}\n              value={this.state.editBodyConditionScore}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d]/g, '')\n                this.setState({\n                  editBodyConditionScore: str\n                })\n              }}\n\n            />\n          </div>\n\n          <div className='bodyType11' >\n            <p style={{ width: '140px' }}>Fur Length: </p>\n            <Select\n              placeholder\n              onChange={(index) => {\n                console.log(index);\n                this.setState({\n                  editFurLength: index\n                })\n              }}\n              style={{ borderRadius: '40px', height: '33px', outline: 'none', borderWidth: 0 }}\n              value={furLength}\n            >\n              <Option value=\"1\">smooth</Option>\n              <Option value=\"2\">short</Option>\n              <Option value=\"3\">medium</Option>\n              <Option value=\"4\">long</Option>\n            </Select>\n          </div>\n\n\n\n          <div className=\"selectEmergenciesModal\">\n            <p style={{ width: '140px' }}>Heart Rate: </p>\n            <Input\n              style={{ border: 'none', outline: 'medium' }}\n              bordered={false}\n              value={this.state.editHeartRate}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d]/g, '')\n\n                this.setState({\n                  editHeartRate: str\n                })\n              }}\n\n            />\n            <span>bpm</span>\n          </div>\n\n\n          <div className=\"selectEmergenciesModal\">\n            <p style={{ width: '140px' }}>Blood Pressure </p>\n            <Input\n              style={{ border: 'none', outline: 'medium' }}\n              bordered={false}\n              value={this.state.editBloodPressure}\n              onChange={(item) => {\n                this.setState({\n                  editBloodPressure: item.target.value\n                })\n              }}\n\n            />\n            <span>mm</span>\n          </div>\n\n\n\n\n\n          <div className=\"selectEmergenciesModal\">\n            <p style={{ width: '140px' }}>Respiratory Rate: </p>\n            <Input\n              style={{ border: 'none', outline: 'medium' }}\n              bordered={false}\n              value={this.state.editRespiratoryRate}\n              onChange={(item) => {\n                let str = item.target.value.replace(/[^\\d]/g, '')\n\n                this.setState({\n                  editRespiratoryRate: str\n                })\n              }}\n\n            />\n            <span>bpm</span>\n          </div>\n\n\n\n\n\n\n\n          {/* <div className='bodyType11' >\n            <p style={{ width: '140px' }}>Body Type: </p>\n            <Select\n              // showSearch\n              placeholder\n              onChange={this.handleChange1}\n              style={{ borderRadius: '40px', height: '33px', outline: 'none', borderWidth: 0 }}\n              // value={placeholder1}\n              dropdownMatchSelectWidth={120}\n\n            >\n              <Option value=\"1\">small</Option>\n              <Option value=\"2\">barrel chested</Option>\n              <Option value=\"3\">keel chested</Option>\n            </Select>\n          </div> */}\n\n\n\n\n\n\n\n\n\n\n\n\n          <div className=\"selectEmergenciesModal\">\n            <p style={{ width: '80px' }}>Notes</p>\n            <textarea\n              rows=\"2\"\n              cols=\"40\"\n              style={{ textIndent: '10px' }}\n              value={that.state.memo}\n              onChange={(val) => {\n                that.setState({\n                  memo: val.target.value\n                })\n              }}\n\n            >\n            </textarea>\n          </div>\n\n          <div className=\"btn\" onClick={save}>Save</div>\n        </div>\n\n      </Modal>\n\n\n\n    )\n\n  }\n\n  render() {\n    console.log('-----', this.state.Temp);\n    return (\n      <div id=\"clinicalMeasure11\">\n        <div style={{ height: '60%' }}>\n\n          <div className=\"heard\">\n            <Heard\n              onSearch={(data) => {\n                console.log(data);\n                this.setState({\n                  patientId: data.patientId\n                }, () => {\n                  this._getPetInfo()\n                })\n              }}\n              menu9Click={() => {\n                storage.measurepatientId = this.state.patientId;\n              }}\n              menu8Click={() => {\n                switch (storage.identity) {   //1是vetspire   2是ezyvet   3是医生\n                  case '1': this.props.history.push('/VetSpireSelectExam')\n\n                    break;\n                  case '2': this.props.history.push({ pathname: '/EzyVetSelectExam', listDate: storage.ezyVetList, defaultCurrent: storage.defaultCurrent })\n\n                    break;\n\n                  case '3': this.props.history.push({ pathname: '/uesr/selectExam', listDate: storage.doctorList, defaultCurrent: storage.defaultCurrent })\n\n                    break;\n                  default:\n                    break;\n                }\n              }}\n\n              onReturn={() => {\n                this.props.history.goBack()\n              }}\n\n\n            />\n          </div>\n\n\n          {/* 宠物信息与折线图部分 */}\n          <div className='clinical_top'\n          // style={{ height: mTop(480) }}\n          >\n            {this._topLeft()}\n            <div className=\"r\" >\n              {!this.state.isconnected && <div className=\"bb1\"\n                style={{ left: px(150) }}\n              >\n                <div className=\"btn78\"\n                  style={{ width: px(220), height: mTop(30), fontSize: px(16) }}\n                  onClick={() => {\n                    console.log('点击了切换按钮');\n\n                    if (resyncDeviceIsClick === true) {\n                      resyncDeviceIsClick = false\n                      console.log('发送给主进程切换按钮');\n                      ipcRenderer.send('qiehuan')\n                      // ipcRenderer.send('getSerialPort')\n                      const time = setTimeout(() => {\n                        resyncDeviceIsClick = true\n                        clearTimeout(time)\n                      }, 2500)\n                    }\n\n\n\n                  }}\n                >Re-sync Base</div>\n              </div>}\n\n\n              <div id='myCharts'\n                style={{ marginTop: mTop(50) }}\n\n              >\n                <ReactECharts\n\n                  option={this.getOption()} theme=\"Imooc\" style={{ height: mTop(430), }}\n                  notMerge={true}\n                  lazyUpdate={true}\n                  // theme={\"theme_name\"}\n                  ref={(e) => { this.echartsElement = e }}\n                />\n              </div>\n\n              {this._status()}\n              {/* {this._mearsurePort()} */}\n              <div className=\"time\"\n                style={{ bottom: mTop(20), left: px(70) }}\n              >\n                {(this.state.isconnected) ? (<p style={{ fontSize: px(25) }}>{`Measurement Timer  ${this.state.countdown} s`}</p>) : null}\n              </div>\n\n            </div>\n          </div>\n        </div>\n\n\n\n        {/* 底部宠物信息 */}\n        {this._foot()}\n        {this._modal()}\n        {this._editModal()}\n\n\n        <Modal\n\n          visible={this.state.err07Visible}\n          // visible={true}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          width={330}\n          closable={false}\n          footer={[\n\n          ]}\n          destroyOnClose={true}\n          wrapClassName=\"vetPrifileModal\"\n        >\n          <div id='vetPrifileModal'>\n            <div className=\"title\">prompt\n            </div>\n\n            <div className='text'>Please re-plug the base device</div>\n\n\n            <div className=\"btn\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '5px' }}>\n\n              <button\n                onClick={() => {\n                  this.setState({\n                    err07Visible: false,\n                  })\n                  num07 = 0\n\n                }}\n              >OK</button>\n\n\n            </div>\n          </div>\n\n\n        </Modal>\n\n        {\n          this.state.tipSpin &&\n          // true &&\n          <div className=\"modal\">\n            <div className=\"loadIcon\" style={{ marginBottom: MTop(5) }}>\n              <LoadingOutlined style={{ fontSize: 30, color: '#fff', marginTop: mTop(-30), }} />\n\n\n            </div>\n            <p>\n              data is loading...\n            </p>\n          </div>\n        }\n        <MyModal\n          visible={this.state.tempHeight}\n          element={\n            <div className=\"tempHeight\">\n              <div className=\"tempHeightImg\">\n                <img src={redjinggao} alt=\"\" style={{ width: px(60), }} />\n              </div>\n              <div className=\"tempText\" style={{ fontSize: px(24), marginBottom: px(60) }}>If the initial temperature reading is too high, the measurement may be inaccurate. Consider letting the thermometer cool down to 85°F and try again</div>\n\n              <div className=\"tempBtn flex\" style={{ height: px(45), fontSize: px(24), marginBottom: px(20) }}\n                onClick={() => { this.setState({ tempHeight: false }) }}\n              >\n                OK\n              </div>\n\n              <div className=\"close\" style={{ top: px(20), right: px(20) }}\n                onClick={() => { this.setState({ tempHeight: false }) }}\n              >\n                <img src={close} alt=\"\" style={{ width: px(30) }} />\n              </div>\n\n\n            </div>\n          }\n        />\n\n\n\n      </div>\n    )\n  }\n\n\n}\n",["425","426"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/selectLocation/index.jsx",["427","428","429","430","431","432"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/signIn/index.jsx",["433","434","435","436","437","438"],"import React, { Component } from \"react\";\nimport { Input, message, Spin } from \"antd\";\nimport {\n  createFromIconfontCN,\n  LoadingOutlined,\n} from \"@ant-design/icons\";\n\nimport mellaLogo from \"./../../assets/images/mellaLogo.png\";\nimport dui from \"./../../assets/images/dui.png\";\nimport back_white from \"./../../assets/img/back-white.png\";\nimport back_hui from \"./../../assets/img/back-hui.png\";\n\nimport { getLoginQRcode, loginWithQRcode, mellaLogin } from \"./../../api\"\n\nimport temporaryStorage from \"../../utils/temporaryStorage\";\nimport { px, win } from \"../../utils/px\";\nimport MinClose from \"./../../utils/minClose/MinClose\";\nimport MouseDiv from \"./../../utils/mouseDiv/MouseDiv\";\nimport { addLogin } from \"../../utils/axios\";\n\nimport \"./index.less\";\n\nlet storage = window.localStorage;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: \"//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js\",\n});\nlet num = 0;\n//有可能出现,登录成功跳转后获取到了二维码,这样就会导致出现一直轮询,未解决这个问题设置变量isSign\nlet isSign = true;\n\nexport default class SignIn extends Component {\n  state = {\n    isRemember: false,\n    email: \"\",\n    hash: \"\",\n    isCode: false,\n    baseUrl: \"\",\n    QRToken: \"\",\n    isExpired: false, //二维码是否过期\n    spin: false,\n    isLoadQrCode: false, //是否正在加载二维码\n  };\n  componentDidMount() {\n    isSign = true;\n    storage.lastOrganization = \"\";\n    //通知main.js渲染一个small窗口\n    let ipcRenderer = window.electron.ipcRenderer;\n    ipcRenderer.send(\"small\", win());\n    //如果有保存的账号密码则展示出来\n    if (storage.signIn !== undefined && storage.signIn !== \"\") {\n      let data = storage.signIn;\n      data = JSON.parse(data);\n      this.setState({\n        email: data.email,\n        hash: data.hash,\n        QRToken: \"\",\n      });\n    }\n    //是否勾选了保持登录\n    if (storage.isRemember !== undefined) {\n      let isRemember = storage.isRemember === \"true\" ? true : false;\n      this.setState({\n        isRemember,\n      });\n    }\n    // 监听分辨率是否改变\n    ipcRenderer.on(\"changeFenBianLv\", this.changeFenBianLv);\n    //清空本地的注册界面的信息\n    temporaryStorage.logupVetInfo = {};\n    this._getQRCode();\n  }\n  componentWillUnmount() {\n    isSign = false;\n    this.timer && clearInterval(this.timer);\n    let ipcRenderer = window.electron.ipcRenderer;\n    ipcRenderer.removeListener(\"changeFenBianLv\", this.changeFenBianLv);\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer;\n    // ipcRenderer.send('small')\n    ipcRenderer.send(\"small\", win());\n    this.setState({});\n  };\n  _getQRCode = () => {\n    this.setState({\n      isLoadQrCode: true,\n    });\n    num = 0;\n\n    getLoginQRcode()\n      // addQRCode()\n      .then((res) => {\n        message.destroy();\n\n        console.log(\"---获取二维码\", res);\n        if (res.flag === true) {\n          this.setState({\n            baseUrl: res.data.QRcode,\n            QRToken: res.data.QRToken,\n            isLoadQrCode: false,\n          });\n          this.timer = setInterval(() => {\n            if (!isSign) {\n              this.timer && clearInterval(this.timer);\n            }\n            num++;\n            console.log(\"lunxin\");\n            this._polling();\n\n            if (num > 280) {\n              //超过280秒则去显示二维码过期，要重新获取\n              this.setState({\n                isExpired: true,\n              });\n              num = 0;\n              this.timer && clearInterval(this.timer);\n            }\n          }, 1000);\n        } else {\n          message.error(\"Failed to obtain QR code\", 10);\n          this.setState({\n            isLoadQrCode: false,\n          });\n        }\n      })\n      .catch((err) => {\n        message.error(\"Failed to obtain QR code\", 10);\n        this.setState({\n          isLoadQrCode: false,\n        });\n        console.log(err);\n      });\n  };\n  //轮询\n  _polling = () => {\n\n    loginWithQRcode(this.state.QRToken)\n      .then((res) => {\n        console.log(\"轮询结果：\", res);\n        if (res.flag === true) {\n          switch (res.code) {\n            case 10001:\n              console.log(\"未扫码\");\n\n              break;\n\n            case 11033:\n              console.log(\"扫码未点击登录\");\n              this.timer && clearInterval(this.timer);\n              temporaryStorage.QRToken = this.state.QRToken;\n              let { name, url } = res.data;\n              this.props.history.replace({\n                pathname: \"/user/login/scanCodeLogin\",\n                params: { name, url },\n              });\n\n              break;\n\n            case 11023:\n              console.log(\"过期\");\n              this.setState({\n                isExpired: true,\n              });\n              num = 0;\n              this.timer && clearInterval(this.timer);\n\n              break;\n\n            default:\n              break;\n          }\n        }\n        console.log(\"code\", res.code);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //登录接口\n  _continue = () => {\n    const { email, hash, isRemember } = this.state;\n\n    message.destroy();\n    let params = {\n      email: email.replace(/(^\\s*)/g, \"\"),\n      hash,\n      identityTypeId: \"1\",\n    };\n    if (email === \"\") {\n      message.error(\"please input your email\");\n      return;\n    }\n    if (hash === \"\") {\n      message.error(\"please input your password\");\n      return;\n    }\n    console.log(params);\n    this.setState({\n      spin: true,\n    });\n    mellaLogin(params)\n      .then((res) => {\n        console.log(res);\n        this.setState({\n          spin: false,\n        });\n        if (res.status && res.status === 404) {\n          message.error(\"system error\");\n          return;\n        }\n        if (res.status === 500) {\n          message.error(\"system error\");\n\n          return;\n        }\n        if (res.code === 10001 && res.msg === \"账号错误\") {\n          message.error(\"Account error\");\n          return;\n        }\n        if (res.code === 10002 && res.msg === \"密码错误\") {\n          message.error(\"wrong password\");\n          return;\n        }\n        if (\n          res.code === 0 &&\n          res.msg === \"success\" &&\n          res.success.roleId === 1\n        ) {\n          message.error(\n            \"You do not have the authority of a doctor, please contact the administrator or customer service\",\n            10\n          );\n          return;\n        }\n        if (res.code === 10004 && res.msg === \"账号被限制\") {\n          message.error(\n            \"The account is restricted, please contact the management\",\n            10\n          );\n          return;\n        }\n        if (res.code === 10003) {\n          message.error(\"The password or email is incorrect, please re-enter\");\n          return;\n        }\n\n        if (res.code === 0 && res.msg === \"success\") {\n          this.timer && clearInterval(this.timer);\n          console.log(\"账号密码正确，登录进去了\");\n          let { userWorkplace, lastOrganization, token } = res.success;\n          storage.token = token;\n          storage.userId = \"\";\n          let data = {\n            email: email.replace(/(^\\s*)/g, \"\"),\n            hash,\n          };\n          data = JSON.stringify(data);\n          if (isRemember === true) {\n            storage.signIn = data;\n          } else {\n            storage.signIn = \"\";\n          }\n          storage.saveSign = data;\n\n          storage.userId = res.success.userId;\n          storage.roleId = res.success.roleId;\n\n          //每次登陆后清空宠物列表缓存的数据\n          storage.doctorList = \"\";\n          storage.defaultCurrent = \"\";\n\n          //由于后台接口原因，导致这里的最后工作场所可能不是自己的，因此下面全注释掉。改成如果有多个工作场所则跳转到选择工作场所界面，不是多个则跳转到选择宠物界面\n          if (res.success.lastWorkplaceId) {\n            storage.lastWorkplaceId = res.success.lastWorkplaceId;\n          } else {\n            storage.lastWorkplaceId = \"\";\n          }\n\n          if (res.success.lastOrganization) {\n            storage.lastOrganization = res.success.lastOrganization;\n          } else {\n            storage.lastOrganization = \"\";\n          }\n\n          // console.log(\"----------\", userWorkplace, userWorkplace.length);\n\n          if (userWorkplace) {\n            storage.userWorkplace = JSON.stringify(userWorkplace);\n            let connectionKey = \"\";\n            for (let i = 0; i < userWorkplace.length; i++) {\n              const element = userWorkplace[i];\n              if (element.organizationEntity) {\n                if (\n                  element.organizationEntity.organizationId === lastOrganization\n                ) {\n                  if (element.organizationEntity.connectionKey) {\n                    connectionKey = element.organizationEntity.connectionKey;\n                  }\n                  if (element.roleId) {\n                    console.log(element.roleId);\n                    storage.roleId = element.roleId;\n                  }\n\n                  break;\n                }\n              }\n            }\n            console.log(\"----------key值为：\", connectionKey);\n            storage.connectionKey = connectionKey;\n          } else {\n            storage.userWorkplace = \"\";\n            storage.connectionKey = \"\";\n          }\n\n          this.props.history.push(\"/MainBody\");\n        }\n      })\n      .catch((err) => {\n        this.setState({\n          spin: false,\n        });\n        console.log(err);\n      });\n  };\n\n  _signUp = (e) => {\n    e.preventDefault();\n    this.props.history.push(\"/uesr/logUp/VetPrifile\");\n  };\n  _change = () => {\n    let { isCode } = this.state;\n    message.destroy();\n    if (isCode === false) {\n      this._getQRCode();\n    } else {\n      this.timer && clearInterval(this.timer);\n      num = 0;\n      this.setState({\n        isExpired: false,\n      });\n    }\n    this.setState({ isCode: !this.state.isCode });\n  };\n  //二维码界面\n  _qrCode = () => {\n    let { isCode, baseUrl, isExpired, isLoadQrCode } = this.state;\n    let imgOpacity = isLoadQrCode ? (baseUrl ? 0.1 : 0.5) : 1;\n\n    if (!isExpired) {\n      const antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n      return (\n        <div className=\"qrcode\">\n          <img\n            src={`data:image/jpeg;base64,${baseUrl}`}\n            alt=\"\"\n            style={{\n              width: px(120),\n              height: px(120),\n              opacity: imgOpacity,\n            }}\n          />\n          {isLoadQrCode && (\n            // true &&\n\n            <div className=\"err\">\n              <Spin\n                indicator={antIcon}\n                tip=\"Loading...\"\n                style={{ fontSize: 16, color: \"#e1206d\" }}\n              />\n            </div>\n          )}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"qrcode\">\n          <img\n            src={`data:image/jpeg;base64,${baseUrl}`}\n            alt=\"\"\n            style={{ opacity: \"0.1\", width: px(120), height: px(120) }}\n          />\n\n          <div className=\"err\">\n            <div className=\"errText\">QR code has expired</div>\n            <div\n              className=\"btn\"\n              style={{ width: px(145), height: px(35), marginTop: px(10) }}\n              onClick={this.refresh}\n            >\n              Refresh\n            </div>\n          </div>\n        </div>\n      );\n    }\n  };\n  //点击refresh按钮\n  refresh = () => {\n    this.setState({\n      isExpired: false,\n    });\n    num = 0;\n    this._getQRCode();\n  };\n  beforeDiv = () => {\n    return <img src={back_hui} alt=\"\" style={{ width: px(15) }} />;\n  };\n  afterDiv = () => {\n    return <img src={back_white} alt=\"\" style={{ width: px(15) }} />;\n  };\n\n  render() {\n    let { isCode, baseUrl } = this.state;\n    let code = isCode ? \"icon-diannao-copy\" : \"icon-erweima-copy\";\n    return (\n      <div id=\"signIn\">\n        <div\n          className=\"heaed\"\n          style={{ paddingTop: px(10), paddingRight: px(20) }}\n        >\n          <div className=\"l\">\n            <MouseDiv\n              className=\"mouseDiv\"\n              beforeDiv={this.beforeDiv}\n              afterDiv={this.afterDiv}\n              divClick={() => {\n                this.props.history.push(\"/\");\n              }}\n            />\n          </div>\n          <div className=\"r\">\n            <MinClose />\n          </div>\n        </div>\n\n        <div className=\"body\">\n          <div className=\"logo\">\n            <img src={mellaLogo} alt=\"\" />\n          </div>\n          <div className=\"body\" style={{ position: \"relative\" }}>\n            <div\n              className=\"text\"\n            // style={{\n            //   fontSize: px(28),\n            //   marginBottom: px(20),\n            //   marginTop: px(30),\n            // }}\n            >\n              Please enter email <br />\n              and password\n            </div>\n\n            <div className=\"inpF\">\n              <Input\n                className=\"inp\"\n                // style={{\n                //   width: px(310),\n                //   height: px(45),\n                //   fontSize: px(18),\n                // }}\n                value={this.state.email}\n                placeholder=\"rachel@friends.com\"\n                bordered={false}\n                onChange={(item) => {\n                  let str = item.target.value;\n                  this.setState({\n                    email: str,\n                  });\n                }}\n              />\n              <Input.Password\n                className=\"inp\"\n                // style={{\n                //   width: px(310),\n                //   height: px(45),\n                //   marginLeft: px(6),\n                //   marginBottom: px(18),\n                //   fontSize: px(18),\n                // }}\n                visibilityToggle={false}\n                value={this.state.hash}\n                placeholder=\"********\"\n                bordered={false}\n                onChange={(item) => {\n                  let str = item.target.value;\n                  this.setState({\n                    hash: str,\n                  });\n                }}\n                onKeyDown={(e) => {\n                  if (e.keyCode === 13) {\n                    this._continue();\n                  }\n                }}\n              />\n\n              <div\n                className=\"text\"\n              // style={{\n              //   fontSize: px(28),\n              //   lineHeight: px(1),\n              //   marginTop: px(10),\n              //   marginBottom: px(20),\n              // }}\n              >\n                {\"Or scan QR Code\"}\n              </div>\n            </div>\n\n            {this._qrCode()}\n            <div\n              className=\"littleText flex\"\n              style={{\n                fontSize: px(12),\n                marginTop: px(10),\n                marginBottom: px(10),\n              }}\n            >\n              Go to your Mella mobile app to access\n              <br />\n              the QR scanner\n            </div>\n            <div className=\"stay\">\n              <div className=\"remember\">\n                <p style={{ fontSize: px(16) }}>Stay Signed In</p>\n                <div\n                  className=\"box\"\n                  style={{ width: px(20), height: px(20), marginLeft: px(12) }}\n                  onClick={() => {\n                    let { isRemember } = this.state;\n                    this.setState({\n                      isRemember: !isRemember,\n                    });\n                    storage.isRemember = !isRemember;\n                  }}\n                >\n                  {this.state.isRemember && <img src={dui} alt=\"\" />}\n                </div>\n              </div>\n              <div\n                className=\"forgot\"\n                style={{ fontSize: px(16) }}\n                onMouseDown={() => {\n                  let forget = document.querySelectorAll(\"#signIn .forgot\");\n                  forget[0].style.opacity = 0.5;\n                }}\n                onMouseUp={() => {\n                  document.querySelectorAll(\n                    \"#signIn .forgot\"\n                  )[0].style.opacity = 1;\n                  if (this.state.email) {\n                    temporaryStorage.forgotPassword_email = this.state.email;\n                  }\n\n                  this.props.history.push(\"/user/login/forgotPassword\");\n                }}\n              >\n                Forgot?\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className=\"button11\"\n          style={{ backgroundColor: \"#E7E7E7\" }}\n        >\n          <div\n            className=\"btn1 flex\"\n            onClick={this._continue}\n          // style={{ height: px(40) }}\n          >\n            <p>{`CONTINUE`}</p>\n          </div>\n\n          <div className=\"text2\" style={{ marginTop: px(12) }}>\n            <p style={{ fontSize: px(17) }}>\n              Do not have an account?{\" \"}\n              <a href=\"#\" onClick={this._signUp}>\n                Sign Up\n              </a>\n            </p>\n          </div>\n        </div>\n\n        {this.state.spin && (\n          <div className=\"modal\">\n            <div className=\"loadIcon\" style={{ marginBottom: px(5) }}>\n              <LoadingOutlined\n                style={{ fontSize: 30, color: \"#fff\", marginTop: px(-30) }}\n              />\n            </div>\n            <p>loading...</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n",["439","440"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/editParent/index.jsx",["441","442","443","444","445","446","447","448","449"],"import React, { Component } from 'react'\nimport { Menu, message, Select } from 'antd';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nimport dog from '../../assets/images/reddog.png'\nimport cat from '../../assets/images/redcat.png'\nimport other from '../../assets/images/redother.png'\nimport selectphoto from '../../assets/images/sel.png'\n\n\nimport { mTop, px } from '../../utils/px';\nimport MyModal from '../../utils/myModal/MyModal';\nimport Heard from '../../utils/heard/Heard';\nimport Avatar from '../../components/avatar/Avatar'\n\nimport moment from 'moment';\n\nimport './index.less';\nimport { getUserInfoByUserId, updateUserInfo } from '../../api/mellaserver/user';\n\nconst { SubMenu } = Menu;\nconst { Option } = Select;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\n})\nlet storage = window.localStorage;\nlet errPatientId = ''\nlet url = 'https://www.mellaserver.com/api/mellaserver'\n// let url = 'http://192.168.0.36:8080/mellaserver'\nexport default class EditParent extends Component {\n  state = {\n    lastName: '',       //宠物主人性\n    firstName: '',      //宠物主人名\n    email: '',          //邮箱号\n    phone: '',          //电话号码\n    spin: false,        //加载中\n    imageId: null,      //图片的ID值\n    petList: [],         //当前这个宠物主人下的所有宠物\n    userId: '',          //当前这个宠物主人的userId\n    userImageUrl: '',\n  }\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('Lowbig')\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n    console.log(this.props.history.location.parent);\n\n    if (this.props.history.location.parent) { //接受入参\n      let { parent, pets } = this.props.history.location.parent\n      let { firstName, lastName, userId } = parent\n      this._getParent(userId)\n\n      this.setState({\n        firstName,\n        lastName,\n        userId,\n        petList: pets\n\n\n      })\n\n    }\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('Lowbig')\n    this.setState({\n\n    })\n  }\n  _getParent = (data) => {\n    this.setState({\n      spin: true\n    })\n    getUserInfoByUserId(data)\n      .then(res => {\n        console.log('获取到了用户信息', res);\n        if (res.msg === 'success') {\n          let { firstName, phone, lastName, email, imageId, url, userImage } = res.data\n          let userImageUrl = res.data.userImage ? res.data.userImage.url : null\n          firstName = firstName ? firstName : ''\n          phone = phone ? phone : ''\n          email = email ? email : ''\n          lastName = lastName ? lastName : ''\n\n\n          this.setState({\n            userImageUrl,\n            firstName,\n            lastName,\n            phone,\n            email,\n            imageId,\n            spin: false\n\n          })\n        } else {\n          this.setState({\n            spin: false\n          })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          spin: false\n        })\n      })\n  }\n\n  _petSpecies = () => {\n    let { userImageUrl } = this.state\n    this.avatar = userImageUrl ? userImageUrl : selectphoto\n    let { firstName, lastName } = this.state\n    return (\n      <div className=\"petSpecies\">\n        <div className=\"l\">\n          <div className=\"firstName\" style={{ marginBottom: px(30) }}>\n            <p>First Name</p>\n            <input\n              type=\"text\"\n              value={firstName}\n              onChange={(item) => {\n\n                this.setState({\n                  firstName: item.target.value\n                })\n              }}\n\n            />\n          </div>\n\n          <div className=\"firstName\" style={{ marginBottom: px(30) }}>\n            <p>Last Name</p>\n            <input\n              type=\"text\"\n              value={lastName}\n              onChange={(item) => {\n\n                this.setState({\n                  lastName: item.target.value\n                })\n              }}\n            />\n          </div>\n\n\n        </div>\n        <div className=\"r\">\n\n          <div className=\"img\">\n            <Avatar\n              init={\n                <div className=\"ciral \">\n                  <img src={this.avatar} alt=\"\" id=\"touxiang\" height=\"280px\" />\n                  <p style={{ fontSize: px(14), height: mTop(35) }}>Upload Photo</p>\n                </div>\n              }\n              getinfo={(val) => {\n                console.log('我是父组件，从子组件获取到的数据位：', val);\n                if (val) {\n                  this.setState({\n                    imageId: val\n                  })\n                }\n\n              }}\n            />\n          </div>\n\n        </div>\n\n      </div>\n\n    )\n  }\n  _petName = () => {\n    let { email, phone } = this.state\n\n    return (\n      <div className=\"petSpecies\">\n        <div className=\"l\">\n          <div className=\"firstName\" style={{ marginBottom: px(30) }}>\n            <p>Email</p>\n            <input\n              type=\"text\"\n              value={email}\n              disabled={true}\n              onChange={(item) => {\n\n                this.setState({\n                  email: item.target.value\n                })\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"l\">\n          <div className=\"firstName\" style={{ marginBottom: px(30) }}>\n            <p>Phone</p>\n            <input\n              type=\"text\"\n              value={phone}\n              onChange={(item) => {\n\n                this.setState({\n                  phone: item.target.value\n                })\n              }}\n            />\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n  petList = () => {\n\n    let { petList } = this.state\n    console.log(petList);\n    let options = petList.map((item, index) => {\n      let { speciesId, url, breedName, petBirthday, gender, name, } = item\n      let images = `url(${url}?download=0&width=150)`\n\n      let petAge = moment(new Date()).diff(moment(petBirthday), 'years')\n\n      if (!url) {\n\n        switch (speciesId) {\n          case 1: images = `url(${cat})`\n\n            break;\n          case 2: images = `url(${dog})`\n            break\n          default: images = `url(${other})`\n            break;\n\n        }\n\n      }\n\n\n      return (\n        <li\n          key={`${index}`}\n          style={{ margin: `  0 0 ${px(15)}px 0`, }}\n          onClick={() => {\n\n          }}\n        >\n          <div className='item' style={{ padding: `${px(15)}px 0 ${px(15)}px  ${px(20)}px`, }}>\n            <div className=\"itemL\">\n              <div\n                className='img'\n                style={{\n                  width: px(50),\n                  height: px(50),\n                  marginRight: px(20),\n                  borderRadius: px(60),\n                  backgroundImage: images,\n                }}>\n              </div>\n              <a\n                href=\"#\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  console.log(item);\n                }}\n              >{name}</a>\n            </div>\n            <div className=\"itemC\">\n              <p>{`${petAge} years old, ${gender === 0 ? 'Male' : 'Female'}`}</p>\n            </div>\n            <div className=\"itemR\">\n              <p>{`${breedName}`}</p>\n            </div>\n\n\n            {/* <div className='petInfo' >\n              <p style={{ color: '#141414', fontWeight: 600, fontSize: px(20) }}>{item.name}</p>\n            </div> */}\n          </div>\n        </li >\n      )\n\n    })\n\n\n\n    let liStyle = { backgroundColor: '#fff', marginTop: px(15) }\n    if (petList.length > 3) {\n      liStyle = { height: px(305), overflowY: 'auto', marginTop: px(15) }\n    }\n\n    return (\n      <ul style={liStyle}>\n        {options}\n      </ul>\n    )\n  }\n\n\n  render() {\n\n    return (\n      <div id=\"editParent\">\n\n        <div className=\"heard\">\n          <Heard\n            onReturn={() => {\n              this.props.history.goBack()\n            }}\n          />\n        </div>\n        <div className=\"editPetInfo_top\" >\n          <div className=\"parentInfo\">\n            <div className=\"title\" >{`Parent Information`}</div>\n            <div className=\"info\">\n              {this._petSpecies()}\n              {this._petName()}\n            </div>\n\n          </div>\n          <div className=\"pets\">\n            <div className=\"petsTitle\">\n              <h2 style={{ fontSize: px(24), marginRight: px(40) }}>Pets</h2>\n              <div className=\"btn\" style={{ fontSize: px(22) }}>+ Add New Pet</div>\n            </div>\n            <div className=\"petList\">\n              {this.petList()}\n            </div>\n\n          </div>\n        </div>\n        <div className=\"editPetInfo_foot\"  >\n          <div className=\"save\"\n            onClick={() => {\n              message.destroy()\n              let { firstName, lastName, email, phone, imageId, userId } = this.state\n              console.log({ firstName, lastName, email, phone, imageId });\n              let parames = {\n                userId,\n                email,\n                phone,\n                firstName,\n                lastName,\n                imageId\n              }\n              this.setState({\n                spin: true\n              })\n              message.destroy()\n              console.log('修改的宠物信息:', parames);\n              updateUserInfo(parames)\n                .then(res => {\n                  console.log('保存所有信息', res);\n                  this.setState({\n                    spin: false\n                  })\n                  if (res.flag === true) {\n                    this.props.history.goBack()\n                  } else {\n                    message.error('fail to edit')\n                  }\n                })\n                .catch(err => {\n                  this.setState({\n                    spin: false\n                  })\n                  message.error('fail to edit')\n                  console.log(err);\n                })\n\n            }}\n\n          >Edit Profile</div>\n          <div className=\"save\"\n            onClick={() => {\n              message.destroy()\n              this.props.history.goBack()\n            }}\n\n          >OK</div>\n\n        </div>\n        <MyModal\n          visible={this.state.spin}\n        />\n      </div >\n    )\n  }\n}\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/index.js",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/organization.js",["450"],"/**\n * @file organization.js\n * @authoe 胡邵杰 \n * @dec https://www.mellaserver.com/api/mellaserver/organization 下的所有接口都在这个<br />\n *      封装,封装函数名称和接口地址保持一致\n * @createDate 20220824\n * \n */\nimport { get, postJson, del } from '../api'\nimport { mellaserverBaseUrl } from '../../config/config'\nconst baseURL = `${mellaserverBaseUrl}/organization`\n\n\n\n/**\n * @dec  管理员获取组织下的所有医生\n * @param {string} lastOrganization 组织id\n * @param {*} params \n * @returns \n */\n\nexport const listDoctorsByAdmin = (lastOrganization, params) => {\n    return get(`${baseURL}/listDoctorsByAdmin${lastOrganization}`, params)\n}\n\n/**\n * @dec 获取所有组织\n * @returns \n * \n */\nexport const listAll = () => {\n    return get(`${baseURL}/listAll`, '')\n}\n\n\n\n/**\n * @dec 创建一个组织\n * @param {str} userId 用户id\n * @param {*} params \n * @returns \n */\nexport const addOrganization = (userId, params) => {\n    return postJson(`${baseURL}/listAll/${userId}`, params)\n}\n",["451","452"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/temperaturePage/components/measuredData.jsx",["453","454","455","456","457","458","459","460","461","462","463","464","465"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/ezyVetSelectExam/index.jsx",["466","467","468","469","470","471","472","473","474","475","476","477","478","479"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/ishavePMS/index.jsx",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/team/index.jsx",["480","481","482"],"import React, { Component, } from 'react'\nimport {\n  Tag,\n  Input,\n  Tooltip,\n  message,\n} from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\n\nimport MaxMin from '../../utils/maxminreturn/MaxMinReturn'\nimport temporaryStorage from '../../utils/temporaryStorage'\nimport { px } from '../../utils/px';\nimport Button from '../../utils/button/Button';\nimport MyModal from '../../utils/myModal/MyModal';\n\nimport './index.less';\nimport { checkUser, inviteUserByEmail, mellaLogin } from '../../api';\n\nexport default class Team extends Component {\n\n  state = {\n\n    tags: [],\n    inputVisible: false,\n    inputValue: '',\n    editInputIndex: -1,\n    editInputValue: '',\n    visible: false\n  }\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big')\n\n    //监听屏幕分辩率是否变化，变化就去更改界面内容距离大小\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big')\n    this.setState({\n\n    })\n  }\n\n\n  handleClose = removedTag => {\n    const tags = this.state.tags.filter(tag => tag !== removedTag);\n    console.log(tags);\n    this.setState({ tags });\n  };\n\n  showInput = () => {\n    this.setState({ inputVisible: true }, () => this.input.focus());\n  };\n\n  handleInputChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleInputConfirm = () => {\n    const { inputValue } = this.state;\n    let { tags } = this.state;\n    if (inputValue && tags.indexOf(inputValue) === -1) {\n      console.log('输入的内容为：', inputValue);\n      message.destroy()\n      checkUser(inputValue)\n        .then(res => {\n\n\n          console.log('检测邮箱存不存在', res);\n\n          if (res.code) {\n            switch (res.code) {\n\n              case 11011:\n                console.log('邮箱存在，发送邮件');\n                tags = [...tags, inputValue];\n                console.log(tags);\n\n                this.setState({\n                  tags,\n                  inputVisible: false,\n                  inputValue: '',\n                });\n                break;\n              // case 11012:\n              //     console.log('账号被限制、注册未激活状态');\n\n\n\n              // case 11013:\n              //     console.log('邮箱未被注册，跳出弹框询问是否前往注册');\n              case 11014:\n                console.log('邮箱被注销或者封停，跳出弹框询问是否前往注册');\n                message.error('This mailbox was not found!', 3)\n                this.setState({\n                  inputVisible: false,\n                  inputValue: '',\n                });\n                break;\n\n            }\n          } else {\n            console.log('系统错误', res);\n            message.error('system error')\n            this.setState({\n              spin: false\n            })\n          }\n\n\n        })\n        .catch(err => {\n          message.error(`Error:${err.message}`)\n          console.log('检测邮箱号的接口出错了', err);\n        })\n\n\n    }\n\n  };\n\n\n  saveInputRef = input => {\n    this.input = input;\n  };\n\n  saveEditInputRef = input => {\n    this.editInput = input;\n  };\n\n  _next = () => {\n    message.destroy()\n    let { tags } = this.state\n    let { userId } = temporaryStorage.logupSuccessData\n    let { organizationId } = temporaryStorage.logupOrganization\n    console.log({ tags, userId, organizationId });\n    if (tags.length === 0) {\n      this._logIn()\n    }\n    this.setState({\n      visible: true\n    })\n    console.log('入参:', tags);\n    inviteUserByEmail(userId, organizationId, tags)\n      .then(res => {\n        console.log(res);\n        if (res.flag === true) {\n          console.log('成功，跳转');\n          message.success('Invitation successful', 3)\n          this._logIn()\n        } else {\n          this.setState({\n            visible: false\n          })\n        }\n\n      })\n      .catch(err => {\n        this.setState({\n          visible: false\n        })\n        console.log(err);\n        message.error(err.message, 3)\n      })\n  }\n  _logIn = () => {\n\n    let storage = window.localStorage;\n    let sign = storage.saveSign\n    try {\n      sign = JSON.parse(sign)\n    } catch (error) {\n\n    }\n\n    let { email, hash } = sign\n    let params = {\n      email: email.replace(/(^\\s*)/g, \"\"),\n      hash,\n      identityTypeId: '1'\n    }\n    console.log('登录入参:', params);\n    mellaLogin(params)\n      .then(res => {\n        console.log(res);\n        this.setState({\n          visible: false\n        })\n        if (res.status && res.status === 404) {\n          message.error('system error');\n          return\n        }\n        if (res.code === 10001 && res.msg === '账号错误') {\n          message.error('Account error');\n          return\n        }\n        if (res.code === 10002 && res.msg === '密码错误') {\n          message.error('wrong password')\n          return;\n        }\n        if (res.code === 0 && res.msg === 'success' && res.success.roleId === 1) {\n          message.error('You do not have the authority of a doctor, please contact the administrator or customer service', 10)\n          return\n        }\n\n        if (res.code === 0 && res.msg === 'success') {\n          console.log('账号密码正确，登录进去了');\n          let { userWorkplace, lastOrganization, token } = res.success\n          storage.token = token\n          storage.userId = ''\n\n          storage.userId = res.success.userId\n          storage.roleId = res.success.roleId\n\n          //每次登陆后清空宠物列表缓存的数据\n          storage.doctorList = ''\n          storage.defaultCurrent = ''\n\n\n\n\n          if (userWorkplace) {\n            storage.userWorkplace = JSON.stringify(userWorkplace)\n            let connectionKey = ''\n            for (let i = 0; i < userWorkplace.length; i++) {\n              const element = userWorkplace[i];\n              if (element.organizationEntity) {\n                if (element.organizationEntity.organizationId === lastOrganization) {\n\n                  if (element.organizationEntity.connectionKey) {\n                    connectionKey = element.organizationEntity.connectionKey\n                  }\n                  if (element.roleId) {\n                    console.log(element.roleId);\n                    storage.roleId = element.roleId\n                  }\n\n                  break\n                }\n              }\n\n            }\n            console.log('----------key值为：', connectionKey);\n            storage.connectionKey = connectionKey\n\n          } else {\n            storage.userWorkplace = ''\n            storage.connectionKey = ''\n\n          }\n\n\n\n\n\n\n\n          this.props.history.push('/menuOptions/ConnectWorkplace')\n\n\n        }\n      })\n      .catch(err => {\n        this.setState({\n          visible: false\n        })\n        console.log(err);\n      })\n  }\n\n\n\n\n\n\n  render() {\n    const { tags, inputVisible, inputValue, editInputIndex, editInputValue } = this.state;\n    // console.log('---', editInputIndex);\n    return (\n      <div id=\"inviteTeam\" >\n        {/* 关闭缩小 */}\n        <div className=\"heard\">\n          <MaxMin\n            onClick={() => { this.props.history.push('/') }}\n            onClick1={() => this.props.history.goBack()}\n          />\n          <div className=\"text\">Invite your Team</div>\n\n          <div className=\"addF\">\n            <p>To:</p>\n            <div className=\"add\">\n\n              <>\n                {tags.map((tag, index) => {\n                  const isLongTag = tag.length > 25;  //标签里面的字符串的长度\n\n                  const tagElem = (\n                    <Tag\n                      className=\"edit-tag\"\n                      key={tag}\n                      closable={true}\n                      onClose={() => this.handleClose(tag)}\n                    >\n                      <span>\n                        {isLongTag ? `${tag.slice(0, 25)}...` : tag}\n                      </span>\n                    </Tag>\n                  );\n                  return isLongTag ? (\n                    <Tooltip title={tag} key={tag}>\n                      {tagElem}\n                    </Tooltip>\n                  ) : (\n                    tagElem\n                  );\n                })}\n                {inputVisible && (\n                  <Input\n                    ref={this.saveInputRef}\n                    type=\"text\"\n                    size=\"small\"\n                    className=\"tag-input\"\n                    value={inputValue}\n                    onChange={this.handleInputChange}\n                    onBlur={this.handleInputConfirm}\n                    onPressEnter={this.handleInputConfirm}\n                  />\n                )}\n                {!inputVisible && (\n                  <Tag className=\"site-tag-plus\" onClick={this.showInput}>\n                    <PlusOutlined />Press Enter to add mailbox\n                  </Tag>\n                )}\n              </>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"btn\"\n          style={{ padding: `${px(40)}px 0` }}\n        >\n          <Button\n            type=\"primary\"\n            shape=\"round\"\n            size='large'\n            htmlType=\"submit\"\n            onClick={this._logIn}\n            text={'Skip'}\n          >\n            Skip\n          </Button>\n          <Button\n            type=\"primary\"\n            shape=\"round\"\n            size='large'\n            htmlType=\"submit\"\n            onClick={this._next}\n            text={'Send'}\n          >\n\n          </Button>\n        </div>\n        <MyModal visible={this.state.visible} />\n\n      </div>\n\n\n    )\n  }\n}\n",["483","484"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/index.js",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/VetSpire.js",["485","486","487"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/HardListModal.jsx",["488"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/newWorkplace/index.jsx",["489","490","491"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/index.jsx",["492","493","494","495","496","497","498","499"],"import React, { Component } from \"react\";\nimport { Modal, message } from \"antd\";\n\nimport Heard from \"../../utils/heard/Heard\";\nimport { px, win, timerFun } from \"../../utils/px\";\nimport electronStore from \"../../utils/electronStore\";\nimport { compareObject } from \"../../utils/current\";\nimport { compareArray } from \"../../utils/current\";\n\nimport HardAndPetsUI from \"./HardAndPetsUI\";\nimport HardWareTypeUI from \"./hardWareTypeUI\";\nimport AddDevice from \"./AddDevice\";\n\nimport BiggiePage from \"../../pages/biggiePage\";\nimport ScanPage from \"../../pages/scanPage\";\nimport AllPets from \"../../pages/allPetsPage\";\nimport ScheduledPetPage from \"../../pages/scheduledPetsPage\";\nimport AddScheduledPet from \"../../pages/addScheduledPet\";\nimport ClininalStudy from \"../../pages/clinicalStudyPage\";\nimport CombineScales from \"../../pages/combineScales\";\nimport OtterEQPage from '../../pages/otterEQ';\nimport MyAccount from \"../../pages/myAccount\";\nimport TemperaturePage from \"../../pages/temperaturePage\";\n\n\nimport { connect } from \"react-redux\";\nimport {\n  setHardwareList,\n  selectHardwareModalShowFun,\n  setIsHaveUsbDeviceFun,\n  setMellaConnectStatusFun,\n  setMellaMeasureValueFun,\n  setMellaPredictValueFun,\n  setMellaMeasurePartFun,\n  setMellaDeviceIdFun,\n  setMellaMeasureNumFun,\n  setBiggieConnectStatusFun,\n  setBiggieBodyFatFun,\n  setBiggieBodyWeightFun,\n  setBiggieUnitFun,\n  setBiggieSameWeightCountFun,\n  setRulerConnectStatusFun,\n  setRulerMeasureValueFun,\n  setRulerUnitFun,\n  setRulerConfirmCountFun,\n  setReceiveBroadcastHardwareInfoFun,\n} from \"../../store/actions\";\n\nimport \"./mainbody.less\";\n\n\nlet ipcRenderer = window.require(\"electron\").ipcRenderer;\nlet isMeasure = false; //是否正在测量,用于判断是否需要发送指定指令给USB,查看硬件是否连接\nlet initTime = 0; //初始化时间,用来计算底座没有回应温度计的时间差,如果时间差大于6秒代表断开连接\nlet num07 = 0; //接收到07命令行的次数,次数大于3跳出弹框\nlet firstEar = true; //为true代表一组数据测量完成,下组测量数据\nlet is97Time = null; //为了防抖，因为有时候断开连接和连接成功总是连续的跳出来，展示就会一直闪烁，因此引入时间差大于800ms才展示\nlet exchangeNum = 0; //奇数发送查询探头id指令，偶数发送询问配置\nlet time194 = 0\n\n//用于预测的东西\nlet clinicalYuce = [],\n  clinicalIndex = 0;\n\nlet storage = window.localStorage;\n\nclass App extends Component {\n  state = {\n    //body部分窗口高度\n    bodyHeight: 0,\n    //本地保存的硬件类型数组,不包括Add这个类型\n    devicesTypeList: [],\n    //展示硬件类型的数组\n    showHardWareTypeList: [],\n    //是否有USB设备\n    isHaveUsbDevice: true,\n    //mella温度计测量状态\n    mellaMeasureStatus: \"disconnected\", //connected,disconnected,isMeasuring,complete\n\n    //点击菜单的序号\n    clickMenuIndex: \"1\",\n    err07Visible: false,\n    units: '℉'\n  };\n  componentDidMount() {\n    ipcRenderer.send(\"big\", win());\n    timerFun();\n    ipcRenderer.on(\"changeFenBianLv\", this.changeFenBianLv);\n    //获取窗口高度\n    this.resize();\n    //react监听屏幕窗口改变\n    window.addEventListener(\"resize\", this.resize);\n\n    //获取设备类型\n    this.getDevicesType();\n\n    //检测USB设备发来的信息\n    ipcRenderer.on(\"sned\", this._send);\n    //检测是否有USB设备\n    ipcRenderer.on(\"noUSB\", this._noUSB);\n    //定时查看mella温度计是否与底座连接或断开\n    this._whether_to_connect_to_mella();\n\n    //获取本地设置\n    this.getLocalSetting();\n    //获取单位\n    let hardSet = electronStore.get(`${storage.userId}-hardwareConfiguration`) || {}\n    console.log('----', hardSet);\n    let { isHua, } = hardSet\n    if (isHua === false) {\n      this.setState({\n        units: '℃'\n      })\n    } else {\n      this.setState({\n        units: '℉'\n      })\n    }\n\n\n  }\n  componentWillUnmount() {\n    //组件销毁，取消监听\n    window.removeEventListener(\"resize\", this.resize);\n    ipcRenderer.removeListener(\"changeFenBianLv\", this.changeFenBianLv);\n    ipcRenderer.removeListener(\"sned\", this._send);\n    ipcRenderer.removeListener(\"noUSB\", this._noUSB);\n    this.detectTimer && clearInterval(this.detectTimer);\n    this.rulerTimer && clearTimeout(this.rulerTimer);\n    message.destroy();\n  }\n  //检测到props里的hardwareList更新\n  UNSAFE_componentWillReceiveProps(prevProps) {\n    //对比props里的hardwareList和state里的hardwareList是否相同\n\n    if (!compareArray(prevProps.hardwareList, this.state.devicesTypeList)) {\n      let showHardWareTypeList = [].concat(prevProps.hardwareList);\n      showHardWareTypeList.push({\n        type: \"add\",\n        devices: [],\n      });\n      this.setState({\n        devicesTypeList: prevProps.hardwareList,\n        showHardWareTypeList,\n      });\n    }\n    if (!compareObject(prevProps.menuNum, this.state.clickMenuIndex)) {\n      this.setState({\n        clickMenuIndex: prevProps.menuNum,\n      });\n    }\n  }\n\n  changeFenBianLv = (e) => {\n    let ipcRenderer = window.electron.ipcRenderer;\n    // ipcRenderer.send('small')\n    ipcRenderer.send(\"big\", win());\n    // this.setState({}, () => {\n    //   if (this.props.test) {\n    //     if (this.props.test.current) {\n    //       this.props.test.current.getEchartsInstance().dispose();\n    //       this.props.test.current.getEchartsInstance().clear();\n    //       setTimeout(() => {\n    //         this.props.test.current.getEchartsInstance().resize();\n    //       }, 500);\n    //     }\n    //   }\n    // });\n\n  };\n  //获取本地设置\n  getLocalSetting = () => {\n    let hardSet = electronStore.get(`${storage.userId}-hardwareConfiguration`);\n    if (!hardSet) {\n      let settings = {\n        isHua: true,\n        is15: true,\n        self_tarting: false, //自启动\n        isBacklight: true,\n        isBeep: true,\n        backlightTimer: { length: 140, number: \"45\" },\n        autoOff: { length: 0, number: \"30\" },\n      };\n      electronStore.set(`${storage.userId}-hardwareConfiguration`, settings);\n    }\n  };\n  //检测USB设备发来的信息\n  _send = (e, data) => {\n    // console.log('检测USB设备发来的信息', data)\n    //data就是测量的数据，是十进制的数字\n    this.command(data)();\n  };\n  //监听是否有USB设备,true代表没有USB设备，false代表有USB设备\n  _noUSB = (e, data) => {\n    if (data === false) {\n      message.destroy();\n    } else {\n      if (this.state.isHaveUsbDevice) {\n        message.destroy();\n        message.error(\"The base is not detected. Please insert the base\", 0);\n      }\n    }\n    if (data === this.props.isHaveUsbDevice) {\n      this.props.setIsHaveUsbDeviceFun(!data);\n    }\n    if (data === this.state.isHaveUsbDevice) {\n      this.setState({\n        isHaveUsbDevice: !data,\n      });\n    }\n  };\n  //监听mella温度计是否与底座连接或断开\n  _whether_to_connect_to_mella = () => {\n    console.log(\"监听mella温度计是否与底座连接或断开\");\n    message.destroy();\n    this.detectTimer && clearInterval(this.detectTimer);\n    //2秒检测一次\n    this.detectTimer = setInterval(() => {\n      exchangeNum++;\n      //如果正在测量或者没有USB设备，不检测\n      if (isMeasure || !this.state.isHaveUsbDevice) {\n        return;\n      }\n      if (exchangeNum % 2 === 0) {\n        //让底座发送查询温度计信息指令\n        ipcRenderer.send(\"usbdata\", { command: \"07\", arr: [\"5A\"] });\n      } else {\n        ipcRenderer.send(\"usbdata\", { command: \"31\", arr: [\"5A\"] });\n      }\n\n      //如果底座没有回应，则计算时间差,时间差大于5秒，则没与温度计连接\n      if (new Date() - initTime > 6000) {\n        this._disconnect_to_mella();\n      } else {\n      }\n    }, 2000);\n  };\n  //底座与温度计断开连接\n  _disconnect_to_mella = () => {\n    let { setMellaConnectStatusFun, mellaConnectStatus, setMellaDeviceIdFun } =\n      this.props;\n    if (mellaConnectStatus !== \"disconnected\") {\n      setMellaConnectStatusFun(\"disconnected\");\n    }\n    setMellaDeviceIdFun(\"\");\n  };\n  //底座与温度计连接\n  _connect_to_mella = () => {\n    let { setMellaConnectStatusFun, mellaConnectStatus } = this.props;\n    if (mellaConnectStatus !== \"connected\") {\n      setMellaConnectStatusFun(\"connected\");\n    }\n  };\n\n  // newArr 指的是十进制数字数组，   dataArr1:指的是16进制字符串数组\n  command = (newArr) => {\n    let dataArr1 = newArr.map((item) => {\n      if (item.toString(16).length < 2) {\n        return \"0\" + item.toString(16);\n      } else {\n        return item.toString(16);\n      }\n    });\n    //除了255,其他都是温度计的数据\n    let {\n      setMellaConnectStatusFun,\n      setMellaMeasureValueFun,\n      setMellaPredictValueFun,\n      setMellaMeasurePartFun,\n      mellaMeasurePart,\n      mellaConnectStatus,\n      setBiggieBodyFatFun,\n      setBiggieBodyWeightFun,\n      setBiggieConnectStatusFun,\n      setBiggieUnitFun,\n      setBiggieSameWeightCountFun,\n    } = this.props;\n    let {\n      biggieConnectStatus,\n      biggieBodyFat,\n      biggieBodyWeight,\n      biggieUnit,\n      biggieSameWeightCount,\n    } = this.props.hardwareReduce;\n\n    const instruction = [\n      209, 193, 192, 129, 135, 238, 98, 97, 130, 208, 177, 194, 7, 99, 255, 182,\n    ];\n\n    if (newArr[2] !== 7 && newArr[2] !== 255 && newArr[2] !== 182) {\n      initTime = new Date();\n      num07 = 0;\n      if (mellaConnectStatus === \"disconnected\") {\n        this._connect_to_mella();\n      }\n    } else {\n      num07++;\n    }\n\n    const commandArr = {\n      209: () => {\n        //腋温\n        //第一次测量去获取探头ID\n        if (firstEar) {\n          firstEar = false;\n          console.log(\"去获取探头id\");\n          ipcRenderer.send(\"usbdata\", { command: \"31\", arr: [] });\n          //重新测量,清空预测值\n          clinicalYuce = [];\n          clinicalIndex = 0;\n        }\n        let temp1 = parseFloat(`${dataArr1[3]}.${dataArr1[4]}`);\n        let temp0 = parseFloat(`${dataArr1[5]}.${dataArr1[6]}`);\n        let Temp = temp0;\n        if (\n          Temp === 24.7 ||\n          Temp === 0 ||\n          Temp === null ||\n          Temp === undefined\n        ) {\n          return;\n        }\n\n        let dataS = {\n          sample: clinicalIndex++,\n          data0: temp0,\n          data1: temp1,\n        };\n        clinicalYuce.push(dataS);\n        if (clinicalYuce.length >= 30) {\n          setMellaPredictValueFun(clinicalYuce);\n        }\n        setMellaMeasureValueFun(Temp);\n        if (mellaConnectStatus !== \"isMeasuring\") {\n          setMellaConnectStatusFun(\"isMeasuring\");\n        }\n\n        if (mellaMeasurePart !== \"腋温\" || mellaMeasurePart !== \"肛温\") {\n          setMellaMeasurePartFun(\"腋温\");\n        }\n        this.props.setMellaMeasureNumFun(this.props.mellaMeasureNum + 1);\n      },\n      208: () => {\n        //耳温\n\n        if (firstEar) {\n          firstEar = false;\n          ipcRenderer.send(\"usbdata\", { command: \"31\", arr: [] });\n          //重新测量,清空预测值\n          clinicalYuce = [];\n          clinicalIndex = 0;\n        }\n        //现在探头0可能不存在，所以把探头0改为探头1\n        let temp0 = parseFloat(`${dataArr1[7]}.${dataArr1[8]}`);\n        let Temp = temp0;\n        setMellaMeasureValueFun(Temp);\n        if (mellaConnectStatus !== \"isMeasuring\") {\n          setMellaConnectStatusFun(\"isMeasuring\");\n        }\n\n        if (mellaMeasurePart !== \"耳温\") {\n          setMellaMeasurePartFun(\"耳温\");\n        }\n      },\n      193: () => {\n        //指令结束\\自动结束后\\温度计收到预测数据后温度计返回值,结束后可能还会粘一组测量中的数据\n        //为了清除黏贴的数据，使用定时器\n        this.time193 && clearTimeout(this.time193);\n        this.time193 = setTimeout(() => {\n          if (new Date() - time194 < 1000) {\n            this.time193 && clearTimeout(this.time193);\n            return;\n          }\n          firstEar = true;\n          if (mellaConnectStatus !== \"complete\") {\n            setMellaConnectStatusFun(\"complete\");\n          }\n\n          let { units } = this.state;\n          let Temp = this.props.mellaMeasureValue;\n          let temp =\n            units === \"℉\"\n              ? (Temp * 1.8 + 32).toFixed(1)\n              : Temp.toFixed(1);\n          if (this.props.selectHardwareType === \"mellaPro\") {\n            console.log('要去写了', units, temp);\n            ipcRenderer.send(\"keyboardWriting\", temp);\n          }\n          this.time193 && clearTimeout(this.time193);\n        }, 500);\n      },\n      194: () => {\n        //硬件收到机器学习结果并停止测量，\n        this.time193 && clearTimeout(this.time193);\n        time194 = new Date()\n        console.log(\"---机器学习\", newArr);\n        if (mellaConnectStatus !== \"complete\") {\n          setMellaConnectStatusFun(\"complete\");\n        }\n        const timer = setTimeout(() => {\n          setMellaMeasureValueFun(this.props.mellaPredictReturnValue);\n\n          firstEar = true;\n          if (mellaConnectStatus !== \"complete\") {\n            setMellaConnectStatusFun(\"complete\");\n          }\n\n          let { units } = this.state;\n          let Temp = this.props.mellaPredictReturnValue;\n          let temp =\n            units === \"℉\"\n              ? (Temp * 1.8 + 32).toFixed(1)\n              : Temp.toFixed(1);\n          if (this.props.selectHardwareType === \"mellaPro\") {\n            ipcRenderer.send(\"keyboardWriting\", temp);\n          }\n          clearTimeout(timer);\n        }, 80);\n        clinicalYuce = [];\n        clinicalIndex = 0;\n      },\n      192: () => {\n        //温度计收到40开始数据后返回的指令\n        switch (newArr[3]) {\n          case 90:\n            console.log(\"有探头，开始测量的返回指令·\");\n            break;\n          case 11:\n            console.log(\"没有探头，开始测量的返回值\");\n            break;\n        }\n      },\n      129: () => {\n        //返回硬件版本号\n        console.log(`返回的版本号为${newArr[3]}`);\n      },\n      135: () => {\n        //硬件的一些基本信息\n        /**\n         * ______________新版、旧版没法控制温度计__________________\n         * newArr[3]、newArr[4]、newArr[5]、newArr[6]是蓝牙温度计的修正系数\n         * newArr[7] 无操作关机时间\n         * newArr[8] 背光时间\n         * newArr[9] 是否提示音    ：00代表无提示音，11代表有提示音\n         * newArr[10] 测量单位    01代表℃，00代表℉\n         */\n\n        let hardSet = electronStore.get(\n          `${storage.userId}-hardwareConfiguration`\n        );\n        if (!hardSet) {\n          hardSet = {\n            isHua: true,\n            is15: true,\n            self_tarting: false, //自启动\n            isBacklight: true,\n            isBeep: true,\n            backlightTimer: { length: 140, number: \"45\" },\n            autoOff: { length: 0, number: \"30\" },\n          };\n        }\n\n        let beep = hardSet.isBeep ? \"11\" : \"00\";\n        let unit = hardSet.isHua ? \"00\" : \"01\";\n\n        if (\n          dataArr1[7] === hardSet.autoOff.number &&\n          dataArr1[8] === hardSet.backlightTimer.number &&\n          dataArr1[9] === beep &&\n          dataArr1[10] === unit\n        ) {\n        } else {\n          console.log(\"不相同，去发送命令\");\n          let setArr = [\n            \"03\",\n            \"ed\",\n            \"07\",\n            \"dd\",\n            hardSet.autoOff.number,\n            hardSet.isBacklight ? hardSet.backlightTimer.number : \"00\",\n            hardSet.isBeep ? \"11\" : \"00\",\n            hardSet.isHua ? \"00\" : \"01\",\n          ];\n          ipcRenderer.send(\"usbdata\", { command: \"21\", arr: setArr });\n        }\n      },\n      238: () => {\n        //探头松动\n        console.log(\"探头松动\");\n        message.error(\n          \"The probe is loose, please re-install and measure again\",\n          5\n        );\n      },\n\n      98: () => {\n        //蓝牙连接断开\n        console.log(\n          \"断开连接---断开连接---断开连接---断开连接---断开连接---断开连接\"\n        );\n        firstEar = true;\n        // console.log(new Date() - is97Time);\n        if (new Date() - is97Time < 1300) {\n          return;\n        }\n        this._disconnect_to_mella();\n      },\n      97: () => {\n        //蓝牙连接\n        console.log(\n          \"连接成功---连接成功---连接成功---连接成功---连接成功---连接成功\"\n        );\n        this.getIdTimer && clearTimeout(this.getIdTimer);\n        this.getIdTimer = setTimeout(() => {\n          ipcRenderer.send(\"usbdata\", { command: \"31\", arr: [\"5A\"] });\n          this.getIdTimer && clearTimeout(this.getIdTimer);\n        }, 50);\n\n\n        is97Time = new Date();\n        this._connect_to_mella();\n      },\n      177: () => {\n        //探头id\n        let dataArr1 = newArr.map((item) => {\n          if (item.toString(16).length < 2) {\n            return \"0\" + item.toString(16);\n          } else {\n            return item.toString(16);\n          }\n        });\n\n        let id = \"\";\n        for (let i = 3; i < dataArr1.length - 2; i++) {\n          id += dataArr1[i];\n        }\n        // console.log(id, dataArr1[7]);\n        setMellaDeviceIdFun(id);\n        // this.setState({\n        //   probeID: id,\n        //   petVitalTypeId: dataArr1[7]\n        // })\n        if (dataArr1[7] === \"01\") {\n          if (mellaMeasurePart !== \"腋温\") {\n            setMellaMeasurePartFun(\"腋温\");\n          }\n        } else if (dataArr1[7] === \"02\") {\n          if (mellaMeasurePart !== \"肛温\") {\n            setMellaMeasurePartFun(\"肛温\");\n          }\n        } else if (dataArr1[7] === \"03\") {\n          if (mellaMeasurePart !== \"耳温\") {\n            setMellaMeasurePartFun(\"耳温\");\n          }\n        }\n      },\n      7: () => {\n        //发什么收什么，需要去重新插拔底座\n        console.log(\"重新插拔底座\");\n        if (num07 === 3 && this.state.err07Visible === false) {\n          this.setState({\n            err07Visible: true,\n          });\n        }\n      },\n      255: () => {\n        let length = newArr.length;\n        let frameLength = newArr[1]; //帧长\n        let itemLength = newArr[3] + 1; //数据位的长度   13\n        let dataIndex = 0;\n        let bluName = \"\";\n        let bluData = [];\n\n        while (itemLength < length && itemLength + 3 <= frameLength) {\n          let itemData = [];\n          for (let i = 0; i < newArr[dataIndex + 3] - 1; i++) {\n            itemData.push(dataArr1[i + dataIndex + 5]);\n          }\n          // console.log('--剪切的数据---', itemData);\n          switch (newArr[dataIndex + 4]) {\n            case 9:\n            case 8:\n              let str = \"\";\n              for (let i = 0; i < itemData.length; i++) {\n                let item = parseInt(itemData[i], 16);\n                str += String.fromCharCode(item);\n              }\n              bluName = str;\n              // console.log('--蓝牙名称:', bluName);\n\n              break;\n\n            case 255:\n              bluData = itemData;\n              break;\n            case 7:\n              console.log(\"---UUID\");\n              break;\n            case 239:\n              // console.log('---mac地址');\n              break;\n\n            case 3:\n              // console.log('----尺子的,不知道什么用');\n              break;\n\n            default:\n              console.log(\"直接跳出循环\");\n              return;\n          }\n          dataIndex = itemLength;\n          itemLength = itemLength + newArr[dataIndex + 3] + 1;\n        }\n        // console.log('硬件名称', bluName, '-----硬件数据', bluData);\n        let { setReceiveBroadcastHardwareInfoFun, hardwareReduce } = this.props;\n\n        let { receiveBroadcastHardwareInfo } = hardwareReduce;\n\n        if (bluName.indexOf(\"C19\") !== -1 && bluData.length > 10) {\n          let json = {\n            deviceType: \"biggie\",\n            macId: \"00:00:00:00:00:00\",\n            name: bluName,\n          };\n          if (!compareObject(receiveBroadcastHardwareInfo, json)) {\n            setReceiveBroadcastHardwareInfoFun(json);\n          }\n\n          let weight = `0x${bluData[10]}${bluData[11]}`;\n          let impedance = `0x${bluData[12]}${bluData[13]}`;\n          let sendWeight = null;\n          //C19发送的体重值单位只是KG\n          try {\n            weight = parseInt(weight) / 100;\n            if (impedance) {\n              impedance = parseInt(impedance);\n            }\n          } catch (error) {\n            console.log(error);\n          }\n          if (weight === biggieBodyWeight) {\n            setBiggieSameWeightCountFun(biggieSameWeightCount + 1);\n          } else {\n            setBiggieSameWeightCountFun(0);\n            setBiggieBodyWeightFun(weight);\n          }\n          if (impedance) {\n            setBiggieBodyFatFun(impedance);\n          }\n          if (biggieConnectStatus !== \"isMeasuring\") {\n            setBiggieConnectStatusFun(\"isMeasuring\");\n          }\n          if (biggieUnit !== \"kg\") {\n            setBiggieUnitFun(\"kg\");\n          }\n        } else if (bluName.indexOf(\"Mella Measure\") !== -1) {\n          let {\n            hardwareReduce,\n            setRulerConfirmCountFun,\n            setRulerConnectStatusFun,\n            setRulerMeasureValueFun,\n            setRulerUnitFun,\n          } = this.props;\n          let {\n            rulerConnectStatus,\n            rulerMeasureValue,\n            rulerUnit,\n            rulerConfirmCount,\n            receiveBroadcastHardwareInfo,\n          } = hardwareReduce;\n          // console.log('结束循环蓝牙名称', bluData)\n          let confirmBtn = bluData[8]; //十六进制数字，值为01代表尺子拉动，值为x2代表按了尺子确认按钮\n          let rulerUnitNum = parseInt(bluData[11], 16); //十进制数字，值等于11代表单位为in，00代表单位为cm\n          let newVal = null; //为测量数值，和单位匹配对应\n          const ITEMINDEX = 6;\n          let units = rulerUnitNum === 0 ? \"cm\" : \"in\";\n          let mac = bluData[1];\n          for (let i = 2; i <= 6; i++) {\n            mac += `:${bluData[i]}`;\n          }\n          let json = {\n            deviceType: \"tape\",\n            macId: mac,\n            name: bluName,\n          };\n\n          if (!compareObject(receiveBroadcastHardwareInfo, json)) {\n            setReceiveBroadcastHardwareInfoFun(json);\n          }\n\n          if (units !== rulerUnit) {\n            setRulerUnitFun(units);\n          }\n          if (rulerConnectStatus !== \"isMeasuring\") {\n            setRulerConnectStatusFun(\"isMeasuring\");\n          }\n          this.rulerTimer && clearTimeout(this.rulerTimer);\n          this.rulerTimer = setTimeout(() => {\n            setRulerConnectStatusFun(\"disconnected\");\n          }, 5000);\n          //num1和num2组成测得的测量值，num的值为测量数值，单位恒为厘米\n          let num1 = bluData[9];\n          let num2 = bluData[10];\n          let num = getVal(num1, num2);\n          try {\n            newVal = parseFloat(num);\n            if (rulerUnitNum === 17) {\n              newVal = newVal.toFixed(2);\n            } else {\n              newVal = newVal.toFixed(1);\n            }\n          } catch (error) {\n            console.log(error);\n          }\n\n          function getVal(shi, xiaoshuo) {\n            let num1 = parseInt(shi, 16);\n            let num2 = parseInt(xiaoshuo, 16);\n            return `${num1}.${num2}`;\n          }\n          if (newVal !== rulerMeasureValue) {\n            setRulerMeasureValueFun(newVal);\n          }\n\n          //点击了确认按钮\n\n          if (\n            confirmBtn[1] === \"2\" &&\n            parseInt(confirmBtn[0]) !== rulerConfirmCount &&\n            confirmBtn[0] !== null\n          ) {\n            setRulerConfirmCountFun(parseInt(confirmBtn[0], 16));\n          }\n        } else if (bluName.indexOf(\"Biggie\") !== -1 && bluData.length > 13) {\n          // console.log(\"biggie\", bluData);\n          if (bluData[0] !== \"aa\") {\n            return;\n          }\n          function getVal(shi) {\n            if (`${shi}`.length < 2) {\n              return `0${shi}`;\n            }\n            return `${shi}`;\n          }\n\n          let newArr = bluData;\n\n          let mac = bluData[1];\n          for (let i = 2; i <= 6; i++) {\n            mac += `:${bluData[i]}`;\n          }\n\n          let json = {\n            deviceType: \"biggie\",\n            macId: mac,\n            name: bluName,\n          };\n\n          if (!compareObject(receiveBroadcastHardwareInfo, json)) {\n            setReceiveBroadcastHardwareInfoFun(json);\n          }\n          //定义体重的控制字符\n          let weightControl = newArr[8];\n          //定义体重的值\n          let weight = `${getVal(newArr[9].toString(16))}${getVal(\n            newArr[10].toString(16)\n          )}`;\n          weight = parseInt(weight, 16);\n          //定义体脂值\n          let impedance = `${getVal(newArr[12].toString(16))}${getVal(\n            newArr[13].toString(16)\n          )}`;\n          impedance = parseInt(impedance, 16);\n          let arr11 = getVal(newArr[11].toString(16));\n          weight = weight / Math.pow(10, parseInt(arr11[0]));\n\n          let weightUnits = arr11[1] === \"1\" ? \"lb\" : \"kg\";\n          let biggieStatus = \"isMeasuring\";\n          switch (weightControl) {\n            case 1:\n              biggieStatus = \"connected\";\n              break;\n            case 2:\n              biggieStatus = \"isMeasuring\";\n              break;\n            case 3:\n              biggieStatus = \"complete\";\n              break;\n            default:\n              break;\n          }\n          if (biggieStatus !== biggieConnectStatus) {\n            setBiggieConnectStatusFun(biggieStatus);\n          }\n          if (weightUnits !== biggieUnit) {\n            setBiggieUnitFun(weightUnits);\n          }\n          if (weight !== biggieBodyWeight) {\n            setBiggieBodyWeightFun(weight);\n            setBiggieSameWeightCountFun(0);\n          } else {\n            setBiggieSameWeightCountFun(biggieSameWeightCount + 1);\n          }\n          if (impedance !== biggieBodyFat) {\n            setBiggieBodyFatFun(impedance);\n          }\n        } else if (bluName.indexOf(\"MaeBowl\") !== -1 && bluData.length > 10) {\n          function getVal(shi) {\n            if (`${shi}`.length < 2) {\n              return `0${shi}`;\n            }\n            return `${shi}`;\n          }\n          let mac = bluData[1];\n          for (let i = 2; i <= 6; i++) {\n            mac += `:${bluData[i]}`;\n          }\n          //定义硬件版本号\n          let hardwareVersion = bluData[7] + bluData[8];\n          //定义软件版本号\n          let softwareVersion = bluData[9];\n          //定义wifi标志位\n          let wifiFlag = bluData[10];\n          //定义控制字\n          let control = bluData[11];\n          //定义重量\n          let weight = `${getVal(bluData[12].toString(16))}${getVal(\n            bluData[13].toString(16)\n          )}`\n          weight = parseInt(weight, 16);\n          let arr11 = bluData[14]\n          weight = weight / Math.pow(10, parseInt(arr11[0]));\n          let weightUnits = null\n          switch (arr11[1]) {\n            case '0':\n              weightUnits = 'kg'\n\n              break;\n            case '1':\n              weightUnits = 'lb'\n\n              break;\n            case '2':\n              weightUnits = 'g'\n\n              break;\n            case '3':\n              weightUnits = 'ml'\n\n              break;\n            case '4':\n              weightUnits = 'oz'\n\n              break;\n\n            default:\n              break;\n          }\n          console.log({\n            // mac,\n            // hardwareVersion,\n            // softwareVersion,\n            wifiFlag,\n            control,\n            weight,\n            weightUnits,\n          });\n\n\n        } else if (bluName.indexOf(\"Tabby\") !== -1 && bluData.length > 10) {\n          // console.log('硬件名称', bluName, '-----硬件数据', bluData);\n          let {\n            hardwareReduce,\n            setRulerConfirmCountFun,\n            setRulerConnectStatusFun,\n            setRulerMeasureValueFun,\n            setRulerUnitFun,\n          } = this.props;\n          let {\n            rulerConnectStatus,\n            rulerMeasureValue,\n            rulerUnit,\n            rulerConfirmCount,\n            receiveBroadcastHardwareInfo,\n          } = hardwareReduce;\n          let confirmBtn = bluData[10]; //十六进制数字，值为01代表尺子拉动，值为x2代表按了尺子确认按钮\n          let rulerUnitNum = parseInt(bluData[13], 16); //十进制数字，值等于11代表单位为in，00代表单位为cm\n          let newVal = null; //为测量数值，和单位匹配对应\n          const ITEMINDEX = 6;\n          let units = rulerUnitNum === 0 ? \"cm\" : \"in\";\n          let mac = bluData[1];\n          for (let i = 2; i <= 6; i++) {\n            mac += `:${bluData[i]}`;\n          }\n          let json = {\n            deviceType: \"tape\",\n            macId: mac,\n            name: bluName,\n          };\n          if (!compareObject(receiveBroadcastHardwareInfo, json)) {\n            setReceiveBroadcastHardwareInfoFun(json);\n          }\n\n          if (units !== rulerUnit) {\n            setRulerUnitFun(units);\n          }\n          if (rulerConnectStatus !== \"isMeasuring\") {\n            setRulerConnectStatusFun(\"isMeasuring\");\n          }\n          this.rulerTimer && clearTimeout(this.rulerTimer);\n          this.rulerTimer = setTimeout(() => {\n            setRulerConnectStatusFun(\"disconnected\");\n          }, 5000);\n          //num1和num2组成测得的测量值，num的值为测量数值，单位恒为厘米\n          let num1 = bluData[11];\n          let num2 = bluData[12];\n          let num = getVal(num1, num2);\n          try {\n            newVal = parseFloat(num);\n            if (rulerUnitNum === 17) {\n              newVal = newVal.toFixed(2);\n            } else {\n              newVal = newVal.toFixed(1);\n            }\n          } catch (error) {\n            console.log(error);\n          }\n\n          function getVal(shi, xiaoshuo) {\n            let num1 = parseInt(shi, 16);\n            let num2 = parseInt(xiaoshuo, 16);\n            return `${num1}.${num2}`;\n          }\n          if (newVal !== rulerMeasureValue) {\n            setRulerMeasureValueFun(newVal);\n          }\n\n          //点击了确认按钮\n\n          if (\n            confirmBtn[1] === \"2\" &&\n            parseInt(confirmBtn[0]) !== rulerConfirmCount &&\n            confirmBtn[0] !== null\n          ) {\n            setRulerConfirmCountFun(parseInt(confirmBtn[0], 16));\n          }\n\n\n\n\n        }\n      },\n      182: () => {\n        console.log(\"打开了底座通信\");\n      },\n    };\n    if (instruction.indexOf(newArr[2]) !== -1) {\n      return commandArr[newArr[2]];\n    } else {\n      return () => {\n        console.log(\"没有控制命令\", commandArr);\n      };\n    }\n  };\n\n  testCheck = (arr) => {\n    if (arr.length < 7) {\n      return false;\n    }\n    let i = 7;\n    let checkFloag = arr[i];\n\n    for (i = 8; i < arr.length - 2; i++) {\n      checkFloag = checkFloag ^ arr[i];\n    }\n    return checkFloag;\n  };\n  getMac = (arr) => {\n    // console.log(arr);\n    let str = arr[1].toString(16);\n    if (str.length === 1) {\n      str = \"0\" + str;\n    }\n    for (let i = 2; i < 7; i++) {\n      let item = arr[i].toString(16);\n      if (item.length === 1) {\n        item = \"0\" + item;\n      }\n      str += `:${item}`;\n      // }\n    }\n\n    return str;\n  };\n\n  //监听屏幕窗口改变\n  resize = () => {\n    let { offsetWidth, offsetHeight } = this.mainbody;\n    // console.log('resize', this.mainbody, { offsetWidth, offsetHeight });\n    if (offsetHeight !== this.state.bodyHeight) {\n      this.setState({\n        bodyHeight: offsetHeight - px(50),\n      });\n    }\n  };\n  //获取设备类型(渲染左侧硬件种类侧边栏)\n  getDevicesType = () => {\n    // let devicesTypeList = [\n    //   {\n    //     type: 'mellaPro',\n    //     devices: [\n    //       {\n    //         name: 'mellaPro',\n    //         mac: '',\n    //         deviceType: 'mellaPro',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n    //   {\n    //     type: 'biggie',\n    //     devices: [\n    //       {\n    //         name: 'biggie',\n    //         mac: '',\n    //         deviceType: 'biggie',\n    //         examRoom: '',\n    //       },\n    //       {\n    //         name: 'biggie002',\n    //         mac: '1253',\n    //         deviceType: 'biggie',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n    //   {\n    //     type: 'otterEQ',\n    //     devices: [\n    //       {\n    //         name: 'otterEQ',\n    //         mac: '',\n    //         deviceType: 'otterEQ',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n\n    //   {\n    //     type: 'rfid',\n    //     devices: [\n    //       {\n    //         name: 'rfid',\n    //         mac: '',\n    //         deviceType: 'rfid',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n    //   {\n    //     type: 'tape',\n    //     devices: [\n    //       {\n    //         name: 'tape',\n    //         mac: '',\n    //         deviceType: 'tape',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n    //   {\n    //     type: 'maeBowl',\n    //     devices: [\n    //       {\n    //         name: 'maeBowl',\n    //         mac: '',\n    //         deviceType: 'maeBowl',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   }\n    // ]\n\n    let devicesTypeList =\n      electronStore.get(\n        `${storage.lastOrganization}-${storage.userId}-devicesTypeList`\n      ) || [];\n    // console.log(\"获取的设22222备列表\", devicesTypeList);\n    if (devicesTypeList.length === 0) {\n      devicesTypeList.push({\n        type: \"mellaPro\",\n        devices: [\n          {\n            name: \"mellaPro\",\n            mac: \"\",\n            deviceType: \"mellaPro\",\n            examRoom: \"\",\n          },\n        ],\n      });\n      devicesTypeList.push({\n        type: \"biggie\",\n        devices: [\n          {\n            name: \"biggie\",\n            mac: \"\",\n            deviceType: \"biggie\",\n            examRoom: \"\",\n          },\n          {\n            name: \"biggie002\",\n            mac: \"1253\",\n            deviceType: \"biggie\",\n            examRoom: \"\",\n          },\n        ],\n      });\n      devicesTypeList.push({\n        type: \"tape\",\n        devices: [\n          {\n            name: \"tape\",\n            mac: \"45264\",\n            deviceType: \"tape\",\n            examRoom: \"\",\n          },\n        ],\n      });\n      devicesTypeList.push({\n        type: \"otterEQ\",\n        devices: [\n          {\n            name: \"otterEQ\",\n            mac: \"375082\",\n            deviceType: \"otterEQ\",\n            examRoom: \"\",\n          },\n        ],\n      });\n    }\n\n    let hardList = [].concat(devicesTypeList);\n    this.props.setHardwareList(hardList);\n    let showHardWareTypeList = [].concat(devicesTypeList);\n    showHardWareTypeList.push({\n      type: \"add\",\n      devices: [],\n    });\n\n    this.setState({\n      devicesTypeList,\n      showHardWareTypeList,\n    });\n  };\n  body = () => {\n    let { selectHardwareType } = this.props;\n\n    let { bodyHeight, clickMenuIndex } = this.state;\n    let measurePage = null;\n    switch (clickMenuIndex) {\n      case \"1\":\n        if (electronStore.get(`${storage.userId}-isClical`)) {\n          return (\n            <>\n              <HardAndPetsUI bodyHeight={bodyHeight} />\n              <ClininalStudy bodyHeight={bodyHeight} />\n            </>\n          );\n        } else {\n          switch (selectHardwareType) {\n            case \"mellaPro\":\n              measurePage = <TemperaturePage bodyHeight={bodyHeight} />;\n\n              break;\n            case \"biggie\":\n              measurePage = <BiggiePage bodyHeight={bodyHeight} />;\n              break;\n\n            case \"tape\":\n              measurePage = <ScanPage bodyHeight={bodyHeight} />;\n              break;\n            case \"otterEQ\":\n              measurePage = <OtterEQPage bodyHeight={bodyHeight} />;\n              break;\n\n            default:\n              break;\n          }\n          if (selectHardwareType === \"add\") {\n            return <AddDevice bodyHeight={bodyHeight} />;\n          } else {\n            return (\n              <>\n                <HardAndPetsUI bodyHeight={bodyHeight} />\n                {measurePage}\n              </>\n            );\n          }\n        }\n      case \"2\":\n        return <AllPets bodyHeight={bodyHeight} />;\n      case \"CombineScales\":\n        return <CombineScales bodyHeight={bodyHeight} />;\n      case \"AddDevice\":\n        return <AddDevice bodyHeight={bodyHeight} />;\n      case \"3\":\n        return <ScheduledPetPage bodyHeight={bodyHeight} />;\n\n      case \"AddScheduledPet\":\n        return <AddScheduledPet bodyHeight={bodyHeight} />;\n      case \"6\":\n        return (\n          <>\n            <HardAndPetsUI bodyHeight={bodyHeight} />\n            <ClininalStudy bodyHeight={bodyHeight} />\n          </>\n        );\n\n      case \"4\":\n        return (\n          <MyAccount bodyHeight={bodyHeight} />\n        );\n\n      default:\n        break;\n    }\n  };\n\n  render() {\n    let { bodyHeight } = this.state;\n\n    return (\n      <div\n        className=\"flex\"\n        id=\"mainbody\"\n        ref={(val) => (this.mainbody = val)}\n        onClick={() => {\n          if (this.props.selectHardwareModalShowFun) {\n            this.props.selectHardwareModalShowFun(false);\n          }\n        }}\n      >\n        <Heard />\n        <div className=\"mainbody-body\">\n          <HardWareTypeUI\n            bodyHeight={bodyHeight}\n            devicesTypeList={this.state.showHardWareTypeList}\n          />\n          {this.body()}\n        </div>\n        <Modal\n          visible={this.state.err07Visible}\n          // visible={true}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          width={330}\n          closable={false}\n          footer={[]}\n          destroyOnClose={true}\n          wrapClassName=\"vetPrifileModal\"\n        >\n          <div id=\"vetPrifileModal\">\n            <div className=\"title\">prompt</div>\n\n            <div className=\"text\">Please re-plug the base device</div>\n\n            <div\n              className=\"btn\"\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                marginBottom: \"5px\",\n              }}\n            >\n              <button\n                onClick={() => {\n                  this.setState({\n                    err07Visible: false,\n                  });\n                  num07 = 0;\n                }}\n              >\n                OK\n              </button>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\nexport default connect(\n  (state) => ({\n    isHaveUsbDevice: state.hardwareReduce.isHaveUsbDevice,\n    mellaMeasureNum: state.hardwareReduce.mellaMeasureNum,\n    mellaConnectStatus: state.hardwareReduce.mellaConnectStatus,\n    mellaMeasureValue: state.hardwareReduce.mellaMeasureValue,\n    mellaMeasurePart: state.hardwareReduce.mellaMeasurePart,\n    selectHardwareType: state.hardwareReduce.selectHardwareType,\n    hardwareReduce: state.hardwareReduce,\n    hardwareList: state.hardwareReduce.hardwareList,\n    hardwareInfo: state.hardwareReduce.selectHardwareInfo,\n    menuNum: state.userReduce.menuNum,\n    mellaPredictReturnValue: state.hardwareReduce.mellaPredictReturnValue,\n    test: state.userReduce.test\n  }),\n  {\n    setHardwareList,\n    selectHardwareModalShowFun,\n    setIsHaveUsbDeviceFun,\n\n    setMellaConnectStatusFun,\n    setMellaMeasureValueFun,\n    setMellaPredictValueFun,\n    setMellaMeasurePartFun,\n    setMellaDeviceIdFun,\n    setBiggieConnectStatusFun,\n    setBiggieBodyFatFun,\n    setBiggieBodyWeightFun,\n    setBiggieUnitFun,\n    setBiggieSameWeightCountFun,\n    setRulerConnectStatusFun,\n    setRulerMeasureValueFun,\n    setRulerUnitFun,\n    setRulerConfirmCountFun,\n    setReceiveBroadcastHardwareInfoFun,\n    setMellaMeasureNumFun,\n  }\n)(App);\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/doctorSelectScheduledExam/index.jsx",["500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518"],"////这是普通用户的选择界面，后期集成时候别忘了identity，进入测量界面的身份，是vetspire、ezyvet、普通医生\nimport React, { Component } from 'react'\nimport {\n  Table,\n  Input,\n  Button,\n  Space,\n  message,\n  Menu,\n  Modal,\n  ConfigProvider\n} from 'antd';\nimport { SyncOutlined, createFromIconfontCN, SearchOutlined } from '@ant-design/icons';\n\nimport jinggao from '../../assets/img/jinggao.png'\nimport redclose from '../../assets/img/redclose.png'\n\nimport Button1 from '../../utils/button/Button'\nimport Heard from '../../utils/heard/Heard'\nimport temporaryStorage from '../../utils/temporaryStorage';\nimport { pX, px, win } from '../../utils/px';\nimport { fetchRhapsody } from '../../utils/FetchUtil5';\nimport SelectionBox from '../../utils/selectionBox/SelectionBox'\nimport electronStore from '../../utils/electronStore';\n\nimport moment from 'moment';\nimport Draggable from \"react-draggable\";\nimport Highlighter from 'react-highlight-words';\n\nimport './index.less';\nimport { pet_subscribe_page } from '../../api/mellaserver/new';\nimport { listPetsLike } from '../../api/mellaserver/pet';\nimport { getPetInfoByRFID } from '../../api';\n\nconst { SubMenu } = Menu;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\n})\nlet storage = window.localStorage;\n\n\n\nexport default class DoctorSelecScheduledtExam extends Component {\n  state = {\n    loading: false,\n    api: '',\n    id: '',  //选择location的id\n    locations: [],\n    data: [],\n    searchData: [],\n    searchText: '',\n    searchedColumn: '',\n    seleceID: '',  //宠物医生id\n    spin: false,   //刷新按钮是否旋转\n    unixToURI: '',\n    ezyVetToken: '',\n    current: 1,\n    closebgc: '',\n    minbgc: '',\n    closeColor: '',\n    heardSearchText: '',\n\n    isNotFound: true,\n    modalVis: false,\n\n    disabled: true,       //model是否可拖拽\n    bounds: { left: 0, top: 0, bottom: 0, right: 0 },\n\n    sortBy: 'Time',\n    showsortBy: false\n  }\n  componentWillMount() {\n    // console.log('------------', this.props.location.listDate);\n    try {\n      if ((this.props.location.listDate && this.props.location.listDate !== 'undefined')) {\n        // console.log('------------', this.props.location);\n        let data = JSON.parse(this.props.location.listDate)\n        this.setState({\n          data,\n        })\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    console.log(windowsHeight, height, width);\n    if (windowsHeight < 900) {\n      ipcRenderer.send('table', win())\n    } else {\n      ipcRenderer.send('big', win())\n    }\n    // ipcRenderer.send('big')\n    message.destroy()\n\n\n\n    storage.identity = '3'\n\n    if ((this.props.location.listDate && this.props.location.listDate !== 'undefined')) {\n      let data = JSON.parse(this.props.location.listDate)\n      this.setState({\n        data,\n      })\n    } else {\n      this.setState({\n        loading: true,\n      })\n    }\n    this._getExam()\n    temporaryStorage.logupVetInfo = {}\n    temporaryStorage.logupSelectOrganization = {}\n    temporaryStorage.logupSuccessData = {}\n    temporaryStorage.logupOrganization = {}\n    temporaryStorage.logupEmailCode = ''\n\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n\n    let items = document.querySelectorAll('#doctorSelectExam .ant-table-thead .ant-table-cell')\n    for (let i = 0; i < items.length; i++) {\n      let style = items[i].style\n      style.padding = \"5px 5px\"\n      style.textAlign = 'center'\n\n\n    }\n\n  }\n  componentWillUnmount() {\n    message.destroy()\n    let ipcRenderer = window.electron.ipcRenderer\n\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    console.log(windowsHeight, height, width);\n    if (windowsHeight < 900) {\n      ipcRenderer.send('table', win())\n    } else {\n      ipcRenderer.send('big', win())\n    }\n    this.setState({\n\n    })\n  }\n\n  rhapsody = async (patientsArr) => {\n\n    // console.log(patientsArr);\n    let dataArr = []\n    try {\n      for (let i = 0; i < patientsArr.length; i++) {\n        let params = { query: `query { patient (id:\"${patientsArr[i].patientId}\") {  vitals { data{ id, weight{value}, createdAt, updatedAt}}}}` }\n        let item = await fetchRhapsody('', 'POST', params, storage.connectionKey)\n        if (item.data) {\n\n          let { vitals } = item.data.patient\n          let vitalData = vitals.data\n          console.log('-----------', vitalData);\n          let weight = ''\n          if (vitalData.length > 0) {\n            vitalData.sort((a, b) => {\n              return moment(parseInt(a.createdAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.createdAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n            })\n            if (vitalData[0].weight && vitalData[0].weight.value) {\n              patientsArr[i].weight = (vitalData[0].weight.value * 0.45).toFixed(1)\n            }\n          }\n\n        }\n\n      }\n      console.log(patientsArr);\n      patientsArr.sort((a, b) => {\n        return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n      })\n      this.setState({\n        data: patientsArr,\n        loading: false\n      })\n\n      electronStore.set('doctorExam', patientsArr)\n    } catch (error) {\n      this.setState({\n        loading: false,\n      })\n      message.destroy()\n      message.error('Medical record acquisition failed')\n    }\n\n\n  }\n\n  _getExam = async () => {\n    console.log('进来了');\n\n\n\n\n\n    //现在Rhapsody组织数据还没有集成到后台，因此这里就先做临时处理\n    if (storage.lastOrganization === '34') {\n\n      console.log(storage.connectionKey);\n      //1.获取用户id\n\n      let params = { query: `query { business { id, name, state } }` }\n      fetchRhapsody('', 'POST', params, storage.connectionKey)\n\n        .then(res => {\n          console.log('---', res);\n          if (res.errors) {\n            this.setState({\n              loading: false,\n              spin: false\n            })\n            message.destroy()\n            message.error('Data acquisition failed')\n\n          } else {\n            console.log('获取到了businessId');\n            let businessId = res.data.business.id\n            // let param = {\n            //   query: `query  { patients (businessId:\"${businessId}\") { data{ id, clientId, name,gender, dateOfBirth\n            //   species{id,name},\n            //   breeds{id,name},\n            //   createdAt,owners{owner{firstName,lastName} }}}` }\n            let param = {\n              query: `query {\n                patients (businessId:\"${businessId}\") {\n                    data{\n                         id,\n                         clientId,\n                         businessId,\n                         name\n                         gender,\n                         dateOfBirth,\n                         species{id,name},\n                         breeds{id,name},\n                         createdAt ,\n                         owners{owner{firstName,lastName}}\n                    }\n                }\n            }`\n            }\n\n            console.log('获取病历单的入参', param, JSON.stringify(param));\n            fetchRhapsody('', 'POST', param, storage.connectionKey)\n              .then(res => {\n                console.log(res);\n                if (res.errors) {\n                  this.setState({\n                    loading: false,\n                    spin: false\n                  })\n                  message.destroy()\n                  message.error('Failed to get pet list')\n\n                } else {\n                  let patientsArr = res.data.patients.data\n                  let dataArr = []\n                  for (let i = 0; i < patientsArr.length; i++) {\n                    const patient = patientsArr[i];\n                    let { id, name, gender, dateOfBirth, breeds, owners, createdAt } = patient\n\n                    createdAt = moment(createdAt).format('X')\n                    let owner = 'unknown'\n                    if (owners.length > 0) {\n                      let ownerItem = owners[0]\n                      if (ownerItem && ownerItem.owner) {\n                        let { firstName, lastName } = ownerItem.owner\n                        if (firstName || lastName) {\n                          owner = `${lastName} ${firstName}`\n                        }\n                      }\n\n                    }\n\n                    let breed = 'unknown'\n                    if (breeds.length > 0 && breeds[0].name) {\n                      breed = breeds[0].name\n                    }\n\n                    let petAge = 'unknown'\n                    if (dateOfBirth) {\n                      petAge = moment(new Date()).diff(moment(dateOfBirth), 'years')\n                      // console.log('petAge', petAge);\n                    }\n\n                    let json = {\n                      insertedAt: createdAt,\n                      patientId: id,\n                      petName: name,\n                      owner,\n                      breed,\n                      gender: gender || 'unknown',\n                      age: petAge,\n                      petId: '',\n                      id: `${i}`,\n                      weight: null,\n                      rfid: null,\n                      url: null,\n                      speciesId: null,\n                    }\n                    dataArr.push(json)\n\n\n                  }\n\n                  console.log(dataArr);\n\n\n\n                  this.rhapsody(dataArr)\n                }\n\n              })\n              .catch(err => {\n                console.log(err);\n                this.setState({\n                  loading: false,\n                  spin: false\n                })\n                message.destroy()\n                message.error('Failed to get pet list')\n              })\n          }\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({\n            loading: false,\n            spin: false\n          })\n          message.destroy()\n          message.error('Data acquisition failed')\n        })\n\n\n\n\n      return\n    }\n\n\n\n\n\n\n    let startDay = moment().startOf('day').format('YYYY-MM-DD HH:mm:ss')\n    let endDay = moment().endOf('day').format('YYYY-MM-DD HH:mm:ss')\n    let chazhi = new Date().getTimezoneOffset()\n    let newstartTime = moment(startDay).add(chazhi, 'm').format('YYYY-MM-DD HH:mm:ss');\n    let newendTime = moment(endDay).add(chazhi, 'm').format('YYYY-MM-DD HH:mm:ss');\n\n    let params = {\n      doctorId: storage.userId,\n      offset: 0,\n      size: 100,\n      subStartTime: newstartTime,\n      subEndTime: newendTime\n    }\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      params.organizationId = storage.lastOrganization\n    }\n\n\n\n\n\n\n\n\n\n    console.log('查询宠物的入参', params,);\n    const isUnKnow = (val) => {\n      if (val) {\n        return val\n      } else {\n        return 'unknown'\n      }\n    }\n\n\n    pet_subscribe_page(params)\n      .then(res => {\n        console.log('查询到的宠物列表,/new/pet/subscribe/page', res);\n\n        if (res.flag === true && res.data) {\n          let data = []\n          // let oldList = res.data\n          let oldList = res.data.list\n          for (let i = 0; i < oldList.length; i++) {\n            let { age, url, createTime, patientId, speciesId, petName, firstName, birthday, lastName, breedName, gender, petId, weight, rfid, l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference, pethubId, macId,\n              h2tLength, torsoLength } = oldList[i]\n            let owner = ''\n            patientId = isUnKnow(patientId)\n            petName = isUnKnow(petName)\n            breedName = isUnKnow(breedName)\n            age = isUnKnow(age)\n            weight = isUnKnow(weight)\n            if (!firstName) {\n              firstName = ''\n            }\n            if (!lastName) {\n              lastName = ''\n            }\n            if (lastName === '' && firstName === '') {\n              owner = 'unknown'\n            } else {\n              owner = `${lastName} ${firstName}`\n            }\n            createTime = moment(createTime).format('X')\n            let petGender = ''\n            switch (`${gender}`) {\n              case '1': petGender = 'F'\n\n                break;\n              case '0': petGender = \"M\"\n                break;\n              default: petGender = 'unknown'\n                break;\n            }\n            let petAge = 'unknown'\n            if (birthday) {\n              petAge = moment(new Date()).diff(moment(birthday), 'years')\n            }\n\n            let json = {\n              insertedAt: createTime,\n              patientId,\n              petName,\n              owner,\n              breed: breedName,\n              gender: petGender,\n              age: petAge,\n              petId,\n              id: i,\n              weight,\n              rfid,\n              url,\n              speciesId,\n              l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\n              h2tLength, torsoLength,\n              pethubId, macId,\n\n            }\n            data.push(json)\n\n          }\n          data.sort((a, b) => {\n            return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n          })\n          console.log('列表的数据：', data);\n          storage.doctorList = JSON.stringify(data)\n          this.setState({\n            data,\n            loading: false,\n            spin: false\n          })\n\n          electronStore.set('doctorExam', data)\n\n\n        } else {\n          this.setState({\n            loading: false,\n            spin: false\n          })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          loading: false,\n          spin: false\n        })\n      })\n\n\n\n  }\n\n\n  getColumnSearchProps = dataIndex => ({\n    //dataIndex 是标题名称\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => ( //通过 filterDropdown 自定义的列筛选功能，并实现一个搜索列的示例。\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={node => {\n            this.searchInput = node;\n          }}\n          placeholder={`Search ${dataIndex}`}\n          value={selectedKeys[0]}\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\n        />\n        <Space>\n          <Button\n            type=\"primary\"\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n            icon={<SearchOutlined />}\n            size=\"small\"\n            style={{ width: 90 }}\n          >\n            Search\n          </Button>\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n            Reset\n          </Button>\n        </Space>\n      </div>\n    ),\n    //自定义Icon\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\n    //\t本地模式下，确定筛选的运行函数 value:输入框里输入的内容     record:所有的项，相当于遍历\n    onFilter: (value, record) => {\n      console.log(value, record, dataIndex);\n      return record[dataIndex]\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\n        : ''\n    },\n    onFilterDropdownVisibleChange: visible => {\n      if (visible) {\n        setTimeout(() => this.searchInput.select(), 100);\n      }\n    },\n    render: text =>\n      this.state.searchedColumn === dataIndex ? (\n        <Highlighter\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n          searchWords={[this.state.searchText]}\n          autoEscape\n          textToHighlight={text ? text.toString() : ''}\n        />\n      ) : (\n        text\n      ),\n  });\n\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\n    confirm();\n    this.setState({\n      searchText: selectedKeys[0],\n      searchedColumn: dataIndex,\n    });\n  };\n\n  handleReset = clearFilters => {\n    clearFilters();\n    this.setState({ searchText: '' });\n  };\n  _refresh = () => {\n    console.log('点击了');\n    this.setState({\n      spin: true\n    })\n    // this._getData()\n    this._getExam()\n  }\n\n  /**------------------顶部start------------------------ */\n  _close = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('关闭程序');\n    ipcRenderer.send('window-close')\n  }\n  _min = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('最小化程序');\n    ipcRenderer.send('window-min')\n    this.setState({\n      minbgc: '',\n    })\n  }\n  _minMove = () => {\n\n    this.setState({\n      minbgc: 'rgb(211, 205, 205)'\n    })\n  }\n  _minLeave = () => {\n    this.setState({\n      minbgc: ''\n    })\n  }\n  _closeMove = () => {\n    this.setState({\n      closeColor: 'red',\n      closebgc: '#fff'\n    })\n  }\n  _closeLeave = () => {\n    this.setState({\n      closeColor: '#fff',\n      closebgc: ''\n    })\n  }\n\n  handleClick = e => {\n    console.log('click ', e);\n\n    switch (e.key) {\n      case '1': this.props.history.push('/page11'); break;\n      case '2': this.props.history.push('/'); break;\n      case '3':\n        try {\n\n          let selectNum = document.getElementsByClassName('ant-pagination-item-active')\n          // storage.defaultCurrent = selectNum[0].title\n          storage.doctorList = JSON.stringify(this.state.data)\n        } catch (error) {\n          console.log('错误信息', error);\n        }\n\n\n        this.props.history.push('/page8'); break;\n      case '4': this.props.history.push('/page12'); break;\n\n      default:\n        break;\n    }\n\n  };\n\n  _search1 = (search) => {       //这个是搜索调用后台的函数，现在废弃20210929\n    let params = {\n      doctorId: storage.userId,\n      petName: search,\n    }\n    this.setState({\n      loading: true\n    })\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    const isUnKnow = (val) => {\n      if (val) {\n        return val\n      } else {\n        return 'unknown'\n      }\n    }\n    console.log('搜索的数据', params);\n    listPetsLike(params)\n      .then(res => {\n        console.log(res);\n\n        if (res.flag === true) {\n          let data = []\n          for (let i = 0; i < res.data.length; i++) {\n            let { age, createTime, patientId, petName, firstName, birthday, lastName, breedName, gender, petId, weight } = res.data[i]\n            let owner = ''\n            patientId = isUnKnow(patientId)\n            petName = isUnKnow(petName)\n            breedName = isUnKnow(breedName)\n            age = isUnKnow(age)\n            weight = isUnKnow(weight)\n            if (!firstName) {\n              firstName = ''\n            }\n            if (!lastName) {\n              lastName = ''\n            }\n            if (lastName === '' && firstName === '') {\n              owner = 'unknown'\n            } else {\n              owner = `${lastName} ${firstName}`\n            }\n            createTime = moment(createTime).format('X')\n            let petGender = ''\n            switch (`${gender}`) {\n              case '1': petGender = 'F'\n\n                break;\n              case '0': petGender = \"M\"\n                break;\n              default: petGender = 'unknown'\n                break;\n            }\n            let petAge = 'unknown'\n            if (birthday) {\n              petAge = moment(new Date()).diff(moment(birthday), 'years')\n              // console.log('petAge', petAge);\n            }\n\n            let json = {\n              insertedAt: createTime,\n              patientId,\n              petName,\n              owner,\n              breed: breedName,\n              gender: petGender,\n              age: petAge,\n              petId,\n              id: i,\n              weight\n\n            }\n            data.push(json)\n\n          }\n          data.sort((a, b) => {\n            return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n          })\n          this.setState({\n            searchData: data,\n            loading: false\n          })\n        } else {\n          this.setState({\n            searchData: [],\n            loading: false\n          })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          loading: false\n        })\n      })\n  }\n\n  _search = (keyWord) => {       //这个是搜索功能 ，怎么展示列表的内容进行搜索\n\n    /**\n     * 使用indexof方法实现模糊查询\n     *     语法：stringObject.indexOf(searchvalue, fromindex)\n     *   参数：searchvalue 必需。规定需检索的字符串值。 fromindex 可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 stringObject.length - 1。如省略该参数，则将从字符串的首字符开始检索。\n     *    说明：该方法将从头到尾地检索字符串 stringObject，看它是否含有子串 searchvalue。开始检索的位置在字符串的 fromindex 处或字符串的开头（没有指定 fromindex 时）。如果找到一个 searchvalue，则返回 searchvalue 的第一次出现的位置。stringObject 中的字符位置是从 0 开始的。如果没有找到，将返回 -1。\n     *\n     * list         原数组\n     * keyWord      查询关键词\n     * searchData   查询的结果\n     *\n     * toLowerCase（）方法：将字符串统一转成小写\n     * toUpperCase（）方法：将字符串统一转成大写\n     *\n     */\n    this.setState({\n      loading: true\n    })\n    let list = this.state.data\n    let searchData = []\n    for (let i = 0; i < list.length; i++) {\n      let petName = list[i].petName.toLowerCase() || ''\n      let patientId = list[i].patientId.toLowerCase() || ''\n      let rfid = list[i].rfid || ''\n      if (`${petName}`.indexOf(keyWord.toLowerCase()) !== -1\n        || `${patientId}`.indexOf(keyWord.toLowerCase()) !== -1\n        || `${rfid}`.indexOf(keyWord) !== -1\n      ) {\n        searchData.push(list[i])\n      }\n    }\n    console.log(searchData);\n    this.setState({\n      searchData,\n      loading: false\n    })\n\n\n\n\n\n  }\n\n  RFIDSearch = () => {\n    this.setState({\n      loading: true\n    })\n    getPetInfoByRFID(this.state.heardSearchText, storage.lastOrganization)\n\n\n      .then(res => {\n        console.log('----RFID搜索结果', res);\n\n        if (res.flag === true && res.data) {\n          let { createTime, patientId, petName, firstName, lastName, breedName, gender, birthday, petId, rfid, weight } = res.data\n          patientId = patientId || 'unknown'\n          petName = petName || 'unknown'\n          breedName = breedName || 'unknown'\n          weight = weight || 'unknown'\n          let owner = ''\n          if (!firstName) {\n            firstName = ''\n          }\n          if (!lastName) {\n            lastName = ''\n          }\n          if (lastName === '' && firstName === '') {\n            owner = 'unknown'\n          } else {\n            owner = `${lastName} ${firstName}`\n          }\n          createTime = moment(createTime).format('X')\n          let petGender = ''\n          switch (`${gender}`) {\n            case '1': petGender = 'F'\n\n              break;\n            case '0': petGender = \"M\"\n              break;\n            default: petGender = 'unknown'\n              break;\n          }\n          let petAge = 'unknown'\n          if (birthday) {\n            petAge = moment(new Date()).diff(moment(birthday), 'years')\n            // console.log('petAge', petAge);\n          }\n          let json = {\n            insertedAt: createTime,\n            patientId,\n            petName,\n            owner,\n            breed: breedName,\n            gender: petGender,\n            age: petAge,\n            petId,\n            id: 0,\n            weight,\n            rfid\n          }\n          let searchData = []\n          searchData.push(json)\n          this.setState({\n            searchData,\n            loading: false\n          })\n\n\n\n\n        } else if (res.flag === true && res.msg === '该组织下无此宠物信息') {\n          console.log('找到了但是不是在这个组织下');\n          this.setState({\n            loading: false,\n            modalVis: true,\n            isNotFound: false,\n            heardSearchText: ''\n          })\n        } else {\n          console.log('没有找到');\n          this.setState({\n            loading: false,\n            modalVis: true,\n            isNotFound: true,\n            heardSearchText: ''\n          })\n        }\n      })\n      .catch(err => {\n\n        console.log('抛出异常:', err);\n        this.setState({\n          loading: false,\n        })\n      })\n  }\n  draggleRef = React.createRef();\n  onStart = (event, uiData) => {\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\n    const targetRect = this.draggleRef?.current?.getBoundingClientRect();\n    this.setState({\n      bounds: {\n        left: -targetRect?.left + uiData?.x,\n        right: clientWidth - (targetRect?.right - uiData?.x),\n        top: -targetRect?.top + uiData?.y,\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y)\n      }\n    });\n  };\n\n\n  render() {\n    const columns = [\n      {\n        title: 'Time',\n        dataIndex: 'insertedAt',\n        key: 'insertedAt',\n        width: '16%',\n        // ...this.getColumnSearchProps('insertedAt'),\n        render: (text, record, index) => {\n          let chazhi = new Date().getTimezoneOffset()\n          // console.log(moment(parseInt(text) * 1000).format('YYYY-MM-DD HH:mm'));\n          let year = moment(parseInt(text) * 1000).format('YYYY-MM-DD');\n          let time = moment(parseInt(text) * 1000).format('hh:mm a');\n          let newTime = moment(parseInt(text) * 1000).format('YYYY-MM-DD HH:mm');\n          // console.log(moment(parseInt(text) * 1000).add(chazhi, 'm').format('YYYY-MM-DD HH:mm'));\n          return (\n            <div className='flex' style={{ paddingTop: pX(3), paddingBottom: pX(3), paddingLeft: px(10), justifyContent: 'flex-start', alignItems: 'flex-start' }}>\n              <p>{`${year}`}</p>\n              <p>{`${time}`}</p>\n            </div>\n          )\n        },\n\n      },\n      {\n        title: 'Pet ID',\n        dataIndex: 'patientId',\n        key: 'patientId',\n        width: '15%',\n        // ...this.getColumnSearchProps('patientId'),\n      },\n      {\n        title: 'Pet Name',\n        dataIndex: 'petName',\n        key: 'petName',\n        width: '15%',\n        // ...this.getColumnSearchProps('petName'),\n      },\n      {\n        title: 'Owner',\n        dataIndex: 'owner',\n        key: 'owner',\n        width: '15%',\n        // ...this.getColumnSearchProps('owner'),\n      },\n      {\n        title: 'Breed',\n        dataIndex: 'breed',\n        key: 'breed',\n        width: '15%',\n        // ...this.getColumnSearchProps('breed'),\n        render: (text, record, index) => {\n          if (!text || text === 'defaultdog' || text === 'defaultother' || text === 'defaultcat') {\n            return (\n              <p style={{ textAlign: 'center' }}>{'unknown'}</p>\n            )\n          } else {\n            return (\n              <p style={{ textAlign: 'center' }}>{text}</p>\n            )\n          }\n\n        }\n      },\n\n      {\n        title: 'Gender',\n        dataIndex: 'gender',\n        key: 'gender',\n        width: '12%',\n        // width: '30%',\n        // ...this.getColumnSearchProps('gender'),\n      },\n      {\n        title: 'Age',\n        dataIndex: 'age',\n        key: 'age',\n        width: '12%',\n        // width: '20%',\n        render: (text, record, index) => {\n          // console.log(text);\n\n          if (`${text}` === 'NaN') {\n            return (\n              <p style={{ textAlign: 'center', justifyItems: 'center' }}>{'unknown'}</p>\n            )\n          } else {\n            return (\n              <p style={{ textAlign: 'center' }}>{text}</p>\n            )\n          }\n\n        }\n      },\n\n\n    ];\n    const { loading, data, api, id, seleceID, spin, closeColor, closebgc, minbgc, disabled, bounds, modalVis, sortBy, showsortBy } = this.state\n\n    let items = document.querySelectorAll('#doctorSelectExam .ant-table-thead .ant-table-cell')\n    for (let i = 0; i < items.length; i++) {\n      let style = items[i].style\n      style.padding = `5px 5px`\n      style.textAlign = 'center'\n    }\n    const noData = () => {\n      return (\n        <div className='flex nodata' style={{ paddingTop: px(60), paddingBottom: px(60) }}>\n          <p style={{ fontSize: px(22) }}>No pet found, </p>  &nbsp;&nbsp;\n          <a style={{ fontSize: px(22) }} href=\"#\"\n            onClick={(e) => {\n              console.log('我要去添加宠物');\n              // try {\n\n              //   storage.doctorList = JSON.stringify(this.state.data)\n              // } catch (error) {\n              //   console.log('错误信息', error);\n              // }\n              // // /pet/doctorAddPet\n              // this.props.history.push({ pathname: '/pet/doctorAddPet' })\n              this.props.history.push({ pathname: '/AddYuding', })\n              e.preventDefault();\n\n            }}\n\n          >{`go to add`}</a>\n        </div>\n      )\n    }\n\n\n\n\n\n    return (\n\n      <div id=\"doctorSelectExam\" onClick={(e) => {\n        console.log('隐藏');\n        this.setState({\n          showsortBy: false\n        })\n      }}>\n        {/* 关闭缩小 */}\n        <Heard\n          onReturn={() => {\n            this.props.history.push('/page11')\n\n          }}\n          onSearch={(data) => {\n\n            storage.doctorExam = JSON.stringify(data)\n\n            storage.doctorList = JSON.stringify(this.state.data)\n            if (storage.isClinical === 'true') {\n              this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: data.patientId })\n            } else {\n              this.props.history.push({ pathname: '/page10', })\n            }\n          }}\n          menu10Click={() => {\n            this.props.history.push({ pathname: '/uesr/DoctorSelectAllExam', })\n          }}\n          blueSearch={true}\n        />\n\n\n        <div className=\"hread flex\">\n          <div className=\"hread1 flex\" style={{ marginTop: px(30) }}>\n            <div className=\"heard1L flex\">\n              <div className=\"title\" style={{ fontSize: px(25) }}>Scheduled Patients</div>\n              <div className=\"refresh flex\"\n                style={{ fontSize: px(25), marginLeft: px(10) }}\n              >\n                <SyncOutlined onClick={this._refresh} spin={spin} />\n              </div>\n            </div>\n\n            <div className=\"walkin flex\"\n              style={{ borderRadius: px(50), height: px(45), fontSize: px(20) }}\n              onClick={() => {\n                storage.doctorExam = JSON.stringify('')\n                storage.doctorList = JSON.stringify(this.state.data)\n                if (storage.isClinical === 'true') {\n                  this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: null })\n                } else {\n                  this.props.history.push({ pathname: '/page10', })\n                }\n\n              }}\n            >Walk-In</div>\n\n          </div>\n          <div className=\"heard2 flex\" style={{ marginTop: px(8), marginBottom: px(8) }}>\n\n            <div className=\"sort flex\" >\n              <p style={{ fontSize: px(16), marginRight: px(10) }}>sort By:</p>\n\n              <SelectionBox\n                listArr={[\n                  { key: 'time', value: 'Time' },\n                  { key: 'petid', value: 'Pet ID' },\n                  { key: 'owner', value: 'Owner' },\n                  { key: 'breed', value: 'Breed' },\n                  { key: 'petname', value: 'Pet Name' },\n                  { key: 'gender', value: 'Gender' },\n                ]}\n                clickItem={(item) => {\n                  let petList = [].concat(data)\n                  switch (item.key) {\n                    case 'time':\n                      petList.sort((a, b) => { return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1 })\n                      break;\n                    case 'petid':\n                      petList.sort((a, b) => { return a.patientId >= b.patientId ? 1 : -1 })\n                      break;\n                    case 'owner':\n                      petList.sort((a, b) => { return a.owner >= b.owner ? 1 : -1 })\n                      break;\n                    case 'breed':\n                      petList.sort((a, b) => { return a.breed >= b.breed ? 1 : -1 })\n                      break;\n                    case 'petname':\n                      petList.sort((a, b) => { return a.petName >= b.petName ? 1 : -1 })\n                      break;\n                    case 'gender':\n                      petList.sort((a, b) => { return a.gender >= b.gender ? 1 : -1 })\n                      break;\n                  }\n\n                  this.setState({\n                    sortBy: item.value,\n                    showsortBy: false,\n                    data: petList\n                  })\n                }}\n              />\n            </div>\n\n          </div>\n        </div>\n\n\n        <div className=\"table\" >\n          <ConfigProvider renderEmpty={noData}>\n            <Table\n              style={{\n                // border: ' #979797 1px solid',\n                padding: 0,\n                margin: 0,\n                width: '95%',\n                // height: px(500)\n              }}\n              rowKey={data => data.id}\n              bordered={false}\n              columns={columns}\n              dataSource={(this.state.heardSearchText.length === 0) ? this.state.data : this.state.searchData}\n              loading={loading}\n              locale={{ filterConfirm: <div>111</div> }}\n              // pagination={{ showSizeChanger: false, showQuickJumper: true, defaultCurrent: this.state.current }}\n              pagination={false}\n              scroll={{\n                y: px(600)\n              }}\n              onRow={(record) => {\n                return {\n                  onClick: (event) => {\n\n                    console.log('record', record);\n                    storage.doctorExam = JSON.stringify(record)\n                    storage.doctorList = JSON.stringify(this.state.data)\n\n                    if (storage.isClinical === 'true') {\n                      this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: record.patientId })\n                    } else {\n                      this.props.history.push({ pathname: '/page10', })\n                    }\n\n\n                  }, // 点击行\n\n                };\n              }}\n            />\n          </ConfigProvider>\n        </div>\n        <div className=\"hread flex\" style={{ alignItem: 'center' }}>\n          <div className=\"hread1\" style={{ marginTop: px(10), justifyContent: 'flex-end', display: 'flex', }}>\n            <div className=\"walkin flex\"\n              style={{ borderRadius: px(50), height: px(45), fontSize: px(20), marginRight: px(10) }}\n              onClick={() => {\n                this.props.history.push({ pathname: '/AddYuding', })\n\n              }}\n            >Create New Scheduled</div>\n\n          </div>\n        </div>\n\n\n\n        <Modal\n\n          // visible={isOrg}\n          visible={modalVis}\n          onCancel={() => this.setState({ modalVis: false })}\n          width={350}\n          footer={[]}\n          modalRender={(modal) => (\n            <Draggable\n              disabled={disabled}\n              bounds={bounds}\n              onStart={(event, uiData) => this.onStart(event, uiData)}\n            >\n              <div ref={this.draggleRef}>{modal}</div>\n            </Draggable>\n          )}\n          destroyOnClose={true}\n          wrapClassName=\"doctorSelectExamModal\"\n        >\n          <div id='doctorSelectExamModal'>\n            <div className=\"text\"\n              onMouseOver={() => {\n                if (disabled) {\n                  this.setState({\n                    disabled: false,\n                  });\n                }\n              }}\n              onMouseOut={() => {\n                this.setState({\n                  disabled: true,\n                });\n              }}\n\n            >{this.state.isNotFound ? 'Pet not found!' : 'Pet found!'}</div>\n            <div className='Img'>\n              {this.state.isNotFound ?\n                <img src={redclose} width=\"50px\" /> :\n                <img src={jinggao} width=\"50px\" />\n              }\n\n            </div>\n\n\n\n\n            {this.state.isNotFound ? <p > This pet is not on your database</p> :\n              <p >Pet Identified but does not <br /> belong to your organization.</p>}\n\n\n            <div style={{ marginTop: px(20) }}>\n              <Button1\n                text={'OK'}\n\n                onClick={() => this.setState({\n                  modalVis: false\n                })}\n              />\n            </div>\n\n\n\n\n\n\n\n\n          </div>\n\n        </Modal>\n\n\n\n      </div>\n    )\n  }\n}\n",["519","520"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/index.js",[],["521","522"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/AddDevice.jsx",["523","524"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/resetPassword/index.jsx",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/config/config.js",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/user.js",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/pet.js",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/api.js",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/doctorSelectAllExam/index.jsx",["525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/scheduledPetsPage/index.jsx",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/home/index.jsx",["544"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/workPlace/index.jsx",["545","546","547"],"\nimport React, { Component, } from 'react'\nimport {\n  Select,\n  Button,\n} from 'antd';\n\nimport logo from '../../assets/images/mellaLogo.png';\n\nimport { px, win } from '../../utils/px';\nimport MaxMin from './../../utils/maxminreturn/MaxMinReturn'\nimport { createFromIconfontCN, SyncOutlined, LoadingOutlined } from '@ant-design/icons';\nimport MyModal from '../../utils/myModal/MyModal';\n\nimport './index.less';\nimport { changeLatestWorkplace } from '../../api';\n\nconst { Option } = Select;\nlet storage = window.localStorage;\nexport default class WorkPlace extends Component {\n  state = {\n    organization: '',\n    workplaceList: [],\n    spin: false,\n    orgArr: [],\n    workplaceJson: {},\n    workplaceId: '',\n    workplaceName: '',\n    organizationId: '',\n    organizationName: '',\n    connectionKey: '',\n    selectRoleId: ''\n\n  }\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('Lowbig', win())\n\n    let userWorkplace = []\n    try {\n      userWorkplace = JSON.parse(storage.userWorkplace) || []\n      console.log(userWorkplace);\n    } catch (error) {\n      console.log('字符串转对象失败', error);\n    }\n    /*orgArr的格式为[{\n      organizationId:1,\n      organizationName:'11111',\n      connectionKey:''\n    }]\n\n     workplace:{\n       1:{\n          workplaceId:1,\n          workplaceName:'122334\n        },\n     }\n    */\n    let orgArr = [], workplaceJson = {}\n    console.log('存储的工作场所和组织id', storage.lastWorkplaceId, storage.lastOrganization);\n    for (let i = 0; i < userWorkplace.length; i++) {\n      let element = userWorkplace[i]\n      // console.log('每一项的值：', element);\n      if (element.organizationEntity && element.workplaceEntity) {\n        let { organizationEntity, workplaceEntity, roleId } = element\n        const { name, organizationId, connectionKey } = organizationEntity\n        const { workplaceName, workplaceId } = workplaceEntity\n\n        if (`${workplaceId}` === storage.lastWorkplaceId) {\n          this.setState({\n            workplaceName,\n            workplaceId: storage.lastWorkplaceId\n          })\n        }\n\n        if (`${organizationId}` === storage.lastOrganization) {\n          this.setState({\n            organizationName: name,\n            organizationId: storage.lastOrganization\n          })\n        }\n\n        let orgRepeatFlog = false, repeatFlogNum = -1\n        for (let j = 0; j < orgArr.length; j++) {\n          console.log(orgArr[j].organizationId, organizationId);\n          if (orgArr[j].organizationId === organizationId) {\n            orgRepeatFlog = true\n            repeatFlogNum = j\n            break;\n          }\n\n        }\n        if (orgRepeatFlog) {\n          let workplace = {\n            workplaceName, workplaceId\n          }\n          let id = orgArr[repeatFlogNum].organizationId\n          let sameflog = false\n          console.log(workplaceJson[`${id}`], workplace);\n          for (let k = 0; k < workplaceJson[`${id}`].length; k++) {\n            const element = workplaceJson[`${id}`][k];\n            if (element.workplaceId === workplace.workplaceId && element.workplaceName === workplace.workplaceName) {\n              sameflog = true\n              break\n            }\n\n          }\n          if (!sameflog) {\n            workplaceJson[`${id}`].push(workplace)\n          }\n\n        } else {\n          let connectKey = connectionKey || ''\n          let json = {\n            organizationId,\n            organizationName: name,\n            connectionKey: connectKey,\n            roleId\n          }\n          let workplace = [{\n            workplaceName, workplaceId\n          }]\n          workplaceJson[`${organizationId}`] = workplace\n\n          orgArr.push(json)\n        }\n      }\n    }\n    console.log('-----转换后的组织信息--', orgArr, workplaceJson);\n    this.setState({\n      orgArr,\n      workplaceJson,\n      connectionKey: storage.connectionKey,\n      selectRoleId: storage.roleId\n    })\n    //分辨率改变后窗口自动改变\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n  }\n\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('Lowbig', win())\n    this.setState({\n\n    })\n  }\n  _select = (value, e) => {\n    console.log(value, e);  //value的值为id\n\n  }\n\n  _next = () => {\n    // this.props.history.push('/page8')\n\n    let { workplaceId, organizationId, connectionKey, selectRoleId } = this.state\n    console.log({ workplaceId, organizationId, connectionKey, selectRoleId });\n\n\n    this.setState({\n      spin: true\n    })\n    console.log('入参', { userId: storage.userId, roleId: storage.roleId, workplaceId });\n\n    changeLatestWorkplace(storage.userId, workplaceId)\n      .then(res => {\n        console.log('切换成功', res);\n        storage.lastWorkplaceId = `${workplaceId}`\n        storage.lastOrganization = organizationId\n        storage.connectionKey = connectionKey\n\n        if (selectRoleId) {\n          storage.roleId = selectRoleId\n        }\n\n        this.props.history.push('/uesr/selectExam')\n\n      })\n      .catch(err => {\n        console.log(err);\n        storage.lastWorkplaceId = workplaceId\n        storage.lastOrganization = organizationId\n        storage.connectionKey = connectionKey\n\n        this.props.history.push('/uesr/selectExam')\n\n      })\n  }\n  render() {\n\n    let { orgArr, organizationName, workplaceName, workplaceJson, organizationId } = this.state\n    let orgOptions = orgArr.map(item => <Option key={item.organizationId} connectionkey={item.connectionKey} roleid={item.roleId} >{item.organizationName}</Option>)\n    let workplaceArr = []\n    if (workplaceJson[`${organizationId}`]) {\n      workplaceArr = workplaceJson[`${organizationId}`]\n      console.log('workArr = ', workplaceArr);\n    }\n    let workplaceOptions = workplaceArr.map(item => <Option key={item.workplaceId}>{item.workplaceName}</Option>)\n    return (\n      <div id=\"workplace\">\n        {/* 关闭缩小 */}\n        <div className=\"header\">\n          <MaxMin\n            onClick={() => { this.props.history.push('/') }}\n            onClick1={() => this.props.history.goBack()}\n          />\n        </div>\n        <div className=\"body flex\">\n          <div className=\"img flex\">\n            <img src={logo} alt=\"\" style={{ width: px(130) }} />\n          </div>\n\n          <div className=\"title\">\n            <div className=\"text\" style={{ fontSize: px(28), marginBottom: px(40) }}>Verify Organization Information</div>\n            <div className=\"text2\" style={{ fontSize: px(24), textAlign: 'center' }}>Good Pets</div>\n          </div>\n\n\n          <div className=\"selectAll\" style={{ marginBottom: px(160) }}>\n\n            <div className=\"select\" >\n              <p style={{ fontSize: px(18) }}>Select Organization:</p>\n              <Select style={{ width: '40%' }}\n                value={organizationName}\n                onChange={(val, e) => {\n                  console.log(val, e)\n                  let workplace = workplaceJson[e.key]\n                  console.log(workplace);\n                  this.setState({\n                    organizationId: e.key,\n                    organizationName: e.children,\n                    connectionKey: e.connectionkey,\n                    workplaceId: workplace[0].workplaceId,\n                    workplaceName: workplace[0].workplaceName,\n                    selectRoleId: e.roleid\n                  })\n                }}>\n                {/* <Option value=\"1\">UGA Veterinary Teaching Hospital</Option> */}\n                {orgOptions}\n              </Select>\n            </div>\n\n            <div className=\"select\" >\n              <p style={{ fontSize: px(18) }}>Select Location:</p>\n              <Select style={{ width: '40%' }}\n                value={workplaceName}\n                onChange={(val, e) => {\n                  console.log(val, e)\n                  this.setState({\n                    workplaceId: e.key,\n                    workplaceName: e.children\n                  })\n                }}>\n                {workplaceOptions}\n              </Select>\n            </div>\n\n\n          </div>\n\n        </div>\n\n        <div className=\"foot flex\">\n          <div className=\"btn\">\n            <Button\n              type=\"primary\"\n              shape=\"round\"\n              size='large'\n              onClick={this._next}\n            >\n              Verify\n            </Button>\n          </div>\n\n\n        </div>\n\n\n\n\n\n        <MyModal\n          visible={this.state.spin}\n        />\n\n\n      </div>\n\n    )\n  }\n}\n\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/vetProfile/index.jsx",["548","549","550","551"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/melladesk/user.js",["552","553"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/admin_VetProfile/index.jsx",["554","555","556","557","558","559","560","561"],"\nimport React, { Component } from 'react'\nimport {\n  Select,\n  message\n} from 'antd'\n\nimport parent from '../../assets/img/parent.png'\nimport selectphoto from '../../assets/images/sel.png'\nimport close from '../../assets/img/close.png'\nimport dui from '../../assets/images/dui.png'\n\nimport Heart from '../../utils/heard/Heard'\nimport { mTop, px } from '../../utils/px';\nimport MyModal from '../../utils/myModal/MyModal'\nimport Avatar from '../../components/avatar/Avatar'\nimport moment from 'moment'\nimport './index.less';\nimport { listDoctorsByAdmin } from '../../api/mellaserver/organization'\nimport { admin_users } from '../../api/mellaserver/new'\n\nconst { Option } = Select;\nlet storage = window.localStorage;\n\nexport default class Veterinarians extends Component {\n\n  state = {\n    parentList: [],\n    petList: [],\n    loading: false,\n    parentSearchArr: [],\n    petSearchArr: [],\n    searchText: '',\n    clickVet: false,\n    userList: [],\n    clickUserItem: {},\n    isAdmin: false,\n    imageId: null,\n    imgUrl: '',\n    doctorArr: [],\n    dockerSearchArr: []\n  }\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    ipcRenderer.send('Lowbig')\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n    this._getExam()\n\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    ipcRenderer.send('Lowbig')\n    this.setState({\n\n    })\n  }\n\n  _getExam = async () => {\n    console.log('进来了');\n    this.setState({\n      loading: true,\n      spin: false\n    })\n    let params = {\n      doctorId: storage.userId,\n    }\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      params.organizationId = storage.lastOrganization\n    }\n\n    console.log('查询宠物的入参', params);\n\n\n    listDoctorsByAdmin(storage.lastOrganization, params)\n      .then(res => {\n        console.log('人员列表', res);\n        this.setState({\n          loading: false\n        })\n        if (res.flag === true && res.code === 20000) {\n          let data = []\n          for (let i = 0; i < res.data.length; i++) {\n            let { birthday, email, firstName, lastName, isLimit, isDeleted, phone, url, userId, createTime, roleId } = res.data[i]\n\n            let json = {\n              insertedAt: createTime,\n              name: `${lastName} ${firstName}`,\n              userId,\n              email,\n              birthday,\n              isLimit,\n              isDeleted,\n              phone,\n              url,\n              firstName, lastName, roleId\n            }\n            data.push(json)\n          }\n          data.sort((a, b) => {\n            return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n          })\n          this.setState({\n            doctorArr: data,\n            // parentList: data //这里只是测试，后期删除\n\n          })\n\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          loading: false\n        })\n      })\n\n\n\n  }\n\n\n\n  list = () => {\n    let { doctorArr, dockerSearchArr, searchText } = this.state\n    let data = searchText.length > 0 ? dockerSearchArr : doctorArr\n\n\n\n\n    let options = data.map((item, index) => {\n      let { url, firstName, lastName } = item\n      let images = `url(${url}?download=0&width=150)`\n      if (!url) {\n        images = `url(${parent})`\n      }\n\n\n      return (\n        <li\n          key={`${index}`}\n          style={{ margin: `0 0 ${px(15)}px 0`, borderRadius: px(20), float: `${index % 2 === 0 ? 'left' : 'right'}` }}\n          onClick={() => {\n            console.log(item);\n            let { name, email, phone, roleId } = item\n            let isAdmin = roleId === '3' ? true : false\n\n            this.setState({\n              clickVet: true,\n              clickUserItem: item,\n              name,\n              email,\n              phone,\n              isAdmin,\n              imgUrl: ''\n            })\n\n          }}\n        >\n          <div className='item' style={{ padding: `${px(15)}px 0 ${px(15)}px  ${px(20)}px`, }}>\n            <div\n              className='img'\n              style={{\n                width: px(50),\n                height: px(50),\n                marginRight: px(20),\n                borderRadius: px(60),\n                backgroundImage: images,\n              }}>\n\n              <div\n                className=\"green\"\n                style={{\n                  width: px(8),\n                  height: px(8),\n                  borderRadius: px(8),\n                  backgroundColor: '#7ED266',\n                  right: px(-5),\n                  top: px(-3)\n\n                }}\n\n              />\n\n            </div>\n\n            <div className='petInfo' >\n              <p style={{ color: '#141414', fontWeight: 600, fontSize: px(20) }}>{item.name}</p>\n            </div>\n          </div>\n        </li >\n      )\n\n    })\n\n    let liStyle = { backgroundColor: '#fff', }\n    if (this.state.petList.length > 16) {\n      liStyle = { height: px(750), overflowY: 'auto', }\n    }\n\n\n    return (\n      <div className='petList'>\n        <ul style={liStyle}>\n          {options}\n        </ul>\n      </div>\n    )\n\n  }\n  inputChange = (text) => {\n    let search = text.target.value\n    this.setState({\n      searchText: search\n    })\n\n    let { doctorArr } = this.state\n\n    let keyWord = search\n\n    let parentSearchData = []\n\n    for (let i = 0; i < doctorArr.length; i++) {\n      let { email, phone, name, } = doctorArr[i]\n      email = email ? email.toLowerCase() : ''\n      phone = phone ? phone.toLowerCase() : ''\n      name = name ? name.toLowerCase() : ''\n      let keyLower = keyWord.toLowerCase()\n      if (`${email}`.indexOf(keyLower) !== -1 || `${phone}`.indexOf(keyLower) !== -1 || `${name}`.indexOf(keyLower) !== -1) {\n        parentSearchData.push(doctorArr[i])\n      }\n    }\n\n\n    this.setState({\n\n      dockerSearchArr: parentSearchData\n    })\n\n\n  }\n  _petSpecies = () => {\n\n\n    let { clickUserItem, isAdmin } = this.state\n    let { url } = clickUserItem\n    this.avatar = url ? url : selectphoto\n    return (\n      <div className=\"petSpecies\">\n\n        <div className=\"r\">\n\n          <div className=\"img\">\n            <Avatar\n              init={\n                <div className=\"ciral \">\n                  <img src={this.avatar} alt=\"\" id=\"touxiang\" style={{ height: px(100) }} />\n                  <p style={{ fontSize: px(14), height: mTop(35) }}>Upload Photo</p>\n                </div>\n              }\n              getinfo={(val) => {\n                console.log('我是父组件，从子组件获取到的数据位：', val);\n                if (val) {\n                  this.setState({\n                    imageId: val\n                  })\n                }\n\n              }}\n              getAllInfo={(val) => {\n                console.log('图片信息', val);\n                this.setState({\n                  imgUrl: val.url\n                })\n              }}\n            />\n          </div>\n\n        </div>\n\n        <div className=\"l\">\n          <div className=\"firstName\" style={{ marginBottom: px(30) }}>\n            <p>Set Role:</p>\n\n            <div className=\"ones\" style={{ marginTop: px(8) }}>\n              {/* <div className=\"one\">\n                <div className=\"chect\" style={{ width: px(18), height: px(18), marginRight: px(15) }}>\n                  <img src={dui} alt=\"\" />\n                </div>\n                <p>User</p>\n              </div> */}\n              <div className=\"one\"\n                onClick={() => {\n                  this.setState({\n                    isAdmin: !this.state.isAdmin\n                  })\n                }}\n              >\n                <div\n                  className=\"chect\"\n                  style={{ width: px(18), height: px(18), marginRight: px(15) }}\n\n                >\n                  {isAdmin && <img src={dui} alt=\"\" />}\n\n                </div>\n                <p>Admin</p>\n              </div>\n\n              {/* <div className=\"one\">\n                <div className=\"chect\" style={{ width: px(18), height: px(18), marginRight: px(15) }}>\n                  <img src={dui} alt=\"\" />\n                </div>\n                <p>Owner</p>\n              </div> */}\n            </div>\n\n\n\n          </div>\n\n\n\n\n        </div>\n\n      </div>\n\n    )\n  }\n\n  _petName = () => {\n    let { name, email } = this.state\n\n    return (\n      <div className=\"petSpecies\" style={{ marginTop: px(60) }}>\n        <div className=\"l\">\n          <div className=\"firstName\" style={{ marginBottom: px(50), }}>\n            <p>Name</p>\n            <input\n              type=\"text\"\n              value={name}\n              onChange={(item) => {\n\n                this.setState({\n                  name: item.target.value\n                })\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"l\">\n          <div className=\"firstName\" style={{ marginBottom: px(50) }}>\n            <p>Email</p>\n            <input\n              type=\"text\"\n              value={email}\n              disabled={true}\n              onChange={(item) => {\n\n                this.setState({\n                  email: item.target.value\n                })\n              }}\n            />\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n  _phone = () => {\n    let { areas, phone } = this.state\n\n    return (\n      <div className=\"petSpecies\">\n        <div className=\"l\">\n          <div className=\"firstName\" style={{ marginBottom: px(30) }}>\n            <p>Phone</p>\n            <input\n              type=\"text\"\n              value={phone}\n              onChange={(item) => {\n\n                this.setState({\n                  phone: item.target.value\n                })\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"l\">\n          <div className=\"firstName\" style={{ marginBottom: px(30) }}>\n            <p>Areas of Expertise</p>\n            <input\n              type=\"text\"\n              value={areas}\n              onChange={(item) => {\n\n                this.setState({\n                  areas: item.target.value\n                })\n              }}\n\n            />\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n\n  changeUserInfo = () => {\n    let { name, email, phone, clickUserItem, imageId, isAdmin, petList, imgUrl } = this.state\n    let { userId } = clickUserItem\n    let roleId = isAdmin ? '3' : '2'\n    let params = {\n      firstName: '',\n      lastName: name,\n      email,\n      phone,\n\n      roleId\n    }\n    if (imageId) {\n      params.imageId = imageId\n    }\n    message.destroy()\n    this.setState({\n      clickVet: false,\n      loading: true\n    })\n    console.log('入参', params);\n    admin_users(userId, params)\n      .then(res => {\n        console.log(res);\n        if (res.flag && res.code === 20000) {\n          for (let i = 0; i < petList.length; i++) {\n            const element = petList[i];\n            if (clickUserItem.userId === element.userId) {\n              element.name = name\n              element.email = email\n              element.phone = phone\n              if (imageId) {\n                element.url = imgUrl\n              }\n\n              break\n            }\n\n          }\n          this.setState({\n            loading: false,\n            petList\n          })\n          message.success('User information changed successfully')\n        } else {\n          this.setState({\n            loading: false\n          })\n          message.error('User information change failed')\n        }\n      })\n      .catch(err => {\n        this.setState({\n          loading: false\n        })\n        message.error('User information change failed')\n        console.log(err);\n      })\n  }\n\n  render() {\n    let bodyHeight = '92%'\n    try {\n      bodyHeight = document.getElementById('settings').clientHeight - document.querySelectorAll('#settings .heard')[0].clientHeight\n    } catch (error) {\n\n    }\n    return (\n      <div id=\"veterinarians\">\n        <div className=\"heard\">\n          <Heart\n            onReturn={() => {\n              this.props.history.goBack()\n            }}\n          />\n        </div>\n\n\n        <div className=\"body\" style={{ height: bodyHeight, padding: `0 ${px(35)}px` }}>\n          <div className=\"title\">\n            <h1 style={{ fontSize: px(38) }}>{`Veterinarians`}</h1>\n            <div className=\"btn\" style={{ fontSize: px(24), height: px(45) }}>+ New Vet</div>\n          </div>\n\n          <div className=\"search\">\n            <div className=\"searchL\">\n              <input\n                type=\"text\"\n                style={{ paddingLeft: px(25), height: px(34) }}\n                placeholder=\"&#xe62c; Search \"\n                value={this.state.searchText}\n                onChange={(text) => {\n                  this.inputChange(text)\n                }}\n              />\n            </div>\n            <div className=\"searchr\" style={{ fontSize: px(18), height: px(40) }}>\n              Search\n            </div>\n          </div>\n\n\n          <div className=\"lists\">\n            {/* <div className=\"listsL\"> */}\n            {this.list()}\n            {/* </div> */}\n\n\n          </div>\n        </div>\n\n\n        <MyModal visible={this.state.loading} />\n\n        <MyModal\n          visible={this.state.clickVet}\n          element={\n            <div className='vetInfo'>\n\n              <div className=\"info\" >\n                <div className=\"close\" style={{ height: px(50) }}>\n                  <img\n                    onClick={() => {\n                      this.setState({\n                        clickVet: false\n                      })\n                    }}\n\n                    src={close} style={{ width: px(20) }} />\n                </div>\n                {this._petSpecies()}\n                {this._petName()}\n                {this._phone()}\n              </div>\n              <div className=\"fotBtn\">\n                <div className=\"text\">\n                  <a\n                    onClick={(e) => {\n                      e.preventDefault();\n                      this.setState({\n                        clickVet: false\n                      })\n                    }}\n\n                    href=\"#\">Delete </a>\n                  &nbsp;<p>{` ${this.state.name} from Workplace`}</p>\n                </div>\n                <div className=\"btn\"\n                  style={{ marginTop: px(10) }}\n                  onClick={this.changeUserInfo}\n\n                >Save </div>\n\n              </div>\n            </div>\n          }\n        />\n\n\n\n\n\n      </div>\n    )\n  }\n}\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/biggiePage/components/Biggie.jsx",["562","563","564","565"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/selectMella/index.jsx",["566"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/user.js",["567","568","569"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/ezyVetSelectTime/index.jsx",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/verifyEmail/index.jsx",["570"],"import React, { useState, useEffect } from 'react'\nimport { message, Button } from 'antd'\n\nimport MaxMin from './../../utils/maxminreturn/MaxMinReturn';\nimport temporaryStorage from './../../utils/temporaryStorage';\nimport { px } from './../../utils/px';\nimport MyModal from './../../utils/myModal/MyModal';\n\nimport { useHistory } from 'react-router-dom'\n\nimport './index.less';\nimport { activateUserByEmailCode, resendDeskRegistEmail } from '../../api';\n\nconst VerifyEmail = () => {\n  let history = useHistory()\n  const [code, setCode] = useState('')\n  const [resend, setResend] = useState(60)\n  const [visible, setVisible] = useState(false)\n  useEffect(() => {\n    const timer = setInterval(() => {\n      if (resend > 0) {\n        setResend(resend - 1)\n      }\n    }, 1000);\n    return () => {\n      clearInterval(timer)\n    }\n  })\n\n  const _resend = (e) => {\n\n    if (resend <= 0) {\n\n      //下面写逻辑代码\n      let { domain, email, hash, phone, birthday, firstName, lastName } = temporaryStorage.logupVetInfo\n      let params = {\n        firstName,\n        lastName,\n        domain, email, hash, phone,\n      }\n      if (birthday) {\n        params.birthday = birthday\n      }\n      console.log('重新获取验证码入参', params);\n\n      resendDeskRegistEmail(temporaryStorage.logupEmailCode, params)\n        .then(res => {\n          console.log('重新获取验证码', res);\n          if (res.msg === 'success') {\n            message.success('The email has been resent, please check', 3)\n            temporaryStorage.logupEmailCode = res.data\n            setResend(60)\n          } else {\n            message.error('Failed to send mail', 3)\n\n          }\n        })\n        .catch(err => {\n          console.log('重新获取验证码失败');\n        })\n\n    }\n\n    //阻止a链接跳转\n    if (e && e.preventDefault)\n      e.preventDefault();\n    else\n      window.event.returnValue = false;\n  }\n  const _next = () => {\n    // console.log(code, '-----', temporaryStorage.logupEmailCode, '----', temporaryStorage.logupVetInfo);\n    message.destroy()\n    if (code !== temporaryStorage.logupEmailCode) {\n      message.error('Verification code input is incorrect', 3)\n      return\n    }\n    else {\n      setVisible(true)\n      activateUserByEmailCode(code)\n        .then(res => {\n          setVisible(false)\n          console.log('验证码验证返回信息：', res);\n          if (res.flag === true) {\n            console.log('验证成功');\n            temporaryStorage.logupSuccessData = res.data\n            temporaryStorage.logupEmailCode = ''\n            history.push('/uesr/logUp/JoinOrganizationByOption')\n          } else {\n            message.error('Verification code verification failed', 3)\n          }\n\n        })\n        .catch(err => {\n          setVisible(false)\n          console.log('验证码验证错误：', err);\n        })\n    }\n    // history.push('/uesr/logUp/FindWorkplace')\n  }\n\n\n  return (\n    <div id=\"verifyEmail\">\n      <div className=\"heard\">\n        <MaxMin\n          onClick={() => { history.push('/') }}\n          onClick1={() => history.goBack()}\n        />\n      </div>\n      <div className=\"body\">\n        <h1 className=\"title\" style={{ fontSize: px(30), marginBottom: px(22) }}>Confirm your email</h1>\n        <div className=\"text\" >{`We have sent a code to ${temporaryStorage.logupVetInfo.email}.`}</div>\n        <div className=\"text\">Please enter it below to confirm your address.</div>\n        <div className=\"inpF\">\n          <input\n            className=\"inp\"\n            type=\"text\"\n            value={code}\n            placeholder=\"Code\"\n            onChange={(val) => { setCode(val.target.value) }}\n            maxLength={6}\n            onKeyUp={(e) => { if (e.keyCode === 13) { _next() } }}\n          />\n        </div>\n\n        {/* <div className=\"resend\">\n          <a href=\"#\" onClick={_resend}>Resend</a>\n          {resend > 0 && `(${resend})`}\n        </div> */}\n      </div>\n      <div className=\"footer\" style={{ padding: `${px(40)}px 0` }}>\n        <div className=\"btnF\">\n          <Button\n            type=\"primary\"\n            shape=\"round\"\n            size='large'\n            htmlType=\"submit\"\n            onClick={_next}\n          >\n            Next\n          </Button>\n        </div>\n      </div>\n\n      <MyModal\n        visible={visible}\n      />\n\n\n\n\n\n\n\n\n    </div>\n  )\n}\n\nexport default VerifyEmail\n\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/addDevice/index.jsx",["571","572"],"import React, { Component } from 'react'\nimport { message } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\n\nimport MinClose from '../../utils/minClose/MinClose'\nimport MouseDiv from '../../utils/mouseDiv/MouseDiv'\nimport { mTop, px, MTop, } from '../../utils/px';\nimport electronStore from '../../utils/electronStore';\n\nimport back_white from '../../assets/img/back-white.png';\nimport back_hui from '../../assets/img/back-hui.png';\nimport redclose from '../../assets/img/redclose.png';\n\nimport './index.less';\n\nlet storage = window.localStorage;\nlet ipcRenderer = window.electron.ipcRenderer\n\nlet num07 = 0       //接收到07命令行的次数\n\n\nexport default class AddDevice extends Component {\n\n  state = {\n    noUSB: false,\n    devicesList: [],\n    selectDevice: null,\n    // selectDevice: true,\n    reName: '',\n    saveDeviceMac: []  //这是已经保存过的设备的macid\n\n  }\n\n  componentDidMount() {\n    message.destroy()\n\n    ipcRenderer.send('small')\n    // 监听分辨率是否改变\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n    //这里做了个监听，当有数据发过来的时候直接在这里接收\n    ipcRenderer.on('sned', this._send)\n    ipcRenderer.on('noUSB', this._noUSB)\n    let devicesList = electronStore.get(`${storage.userId}-deviceList`)\n    if (devicesList) {\n      let saveDeviceMac = []\n      for (let i = 0; i < devicesList.length; i++) {\n        const element = devicesList[i];\n        saveDeviceMac.push(element.macId)\n      }\n      this.setState({\n        saveDeviceMac\n      })\n    }\n\n\n\n    // const timer = setTimeout(() => {\n    //   let deviceList = [\n    //     // { name: 'Add Device', deviceType: 'add', macId: '0' },\n    //     { name: 'malla001', deviceType: 'mellaHome', macId: '11:22:33:44:55:66' },\n    //     { name: 'malla002', deviceType: 'mellaPro', macId: '11:22:33:44:55:66' },\n    //     { name: 'malla003', deviceType: 'mellaHome', macId: '11:22:33:44:55:66' },\n    //     { name: 'biggie00222222222222221', deviceType: 'biggie', macId: '11:22:33:44:55:66' },\n    //     { name: 'malla001', deviceType: 'biggie', macId: '11:22:33:44:55:66' },\n    //     { name: 'Charlie001', deviceType: 'rfid', macId: '11:22:33:44:55:66' },\n    //   ]\n    //   this.setState({\n    //     devicesList: deviceList\n    //   })\n    //   clearTimeout(timer)\n    // }, 500);\n\n  }\n  componentWillUnmount() {\n    ipcRenderer.removeListener('sned', this._send)\n    ipcRenderer.removeListener('noUSB', this._noUSB)\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  _noUSB = (e, data) => {\n    console.log('没有USB设备：', data);\n    if (data === false) {\n      message.destroy()\n      this.setState({\n        noUSB: false\n      })\n    } else {\n      if (!this.state.noUSB) {\n        // message.error('The base is not detected. Please insert the base', 0)\n        this.setState({\n          noUSB: true\n        })\n      }\n    }\n  }\n\n  _send = (event, data) => {\n    //data就是测量的数据，是十进制的数字\n    // console.log(data);\n    this.command(data)()\n  }\n  // newArr 指的是十进制数字数组，   dataArr1:指的是16进制字符串数组\n  command = (newArr) => {\n    const instruction = [255]\n    let dataArr1 = newArr.map(item => {\n      if (item.toString(16).length < 2) {\n        return '0' + item.toString(16)\n      } else {\n        return item.toString(16)\n      }\n    })\n    // console.log(dataArr1);\n    const commandArr = {\n      255: () => {//蓝牙软尺广播的数据\n        let length = newArr.length\n        let frameLength = newArr[1]   //帧长\n        let itemLength = newArr[3] + 1  //数据位的长度   13\n        let dataIndex = 0\n\n        let bluName = ''\n        let bluData = []\n        //[\"aa\", \"25\", \"ff\", |\"03\", \"03\", \"b0\", \"ff\",| \"0f\", \"ff\", \"ac\", \"d2\", \"0b\", \"72\", \"c1\", \"7d\", \"3e\", \"d0\", \"a0\", \"00\", \"05\", \"09\", \"00\", \"2e\",| \"05\", \"09\", \"54\", \"61\", \"70\", \"65\", |\"06\", \"ef\", \"d0\", \"3e\", \"7d\", \"c1\", \"72\", |\"0b\", \"5c\", \"55\"]\n        while (itemLength < length && (itemLength + 3 <= frameLength)) {\n          let itemData = []\n          for (let i = 0; i < newArr[dataIndex + 3] - 1; i++) {\n            itemData.push(dataArr1[i + dataIndex + 5])\n          }\n          // console.log('--剪切的数据---', itemData);\n          switch (newArr[dataIndex + 4]) {\n            case 9:\n            case 8:\n              let str = ''\n              for (let i = 0; i < itemData.length; i++) {\n                let item = parseInt(itemData[i], 16)\n                str += String.fromCharCode(item)\n              }\n              bluName = str\n              break;\n            case 255:\n              bluData = itemData\n              break;\n            case 7: console.log('---UUID'); break;\n            case 239:\n              // console.log('---mac地址');\n              break;\n            case 3: console.log('----尺子的,不知道什么用'); break;\n            default: console.log('直接跳出循环'); return;\n          }\n          dataIndex = itemLength\n          itemLength = itemLength + newArr[dataIndex + 3] + 1\n        }\n        console.log('硬件名称', bluName, '-----硬件数据', bluData);\n        let macId = ''\n        if (bluData.length > 7) {\n          macId = this.getMac(bluName, bluData)\n        }\n\n\n        let sameFlog = this.state.devicesList.some((device, index) => {\n          return device.macId === macId\n        })\n        if (sameFlog || !macId) {   //重复直接退出\n          return\n        }\n        let deviceType = ''\n        switch (bluName) {\n          case 'Biggie':        //这是体脂称\n            deviceType = 'biggie'\n\n            break;\n          case 'C19':        //这是体脂称\n            deviceType = 'biggie'\n\n            break;\n\n          case 'MaeBowl':   //这是称量碗\n            deviceType = 'maeBowl'\n            break;\n\n          case 'Mella Measure': //这是蓝牙尺\n            deviceType = 'tape'\n            break;\n\n        }\n        if (macId && deviceType && bluName) {\n          let json = {\n            name: bluName,\n            deviceType,\n            macId\n          }\n          let deviceArr = [].concat(this.state.devicesList)\n          deviceArr.push(json)\n          this.setState({\n            devicesList: deviceArr\n          })\n        }\n\n\n      }\n\n\n\n\n    }\n    if (instruction.indexOf(newArr[2]) !== -1) {\n      return commandArr[newArr[2]]\n    } else {\n      return () => {\n        console.log('没有控制命令', commandArr);\n      }\n    }\n  }\n  getMac = (bluName, bluData) => {\n    switch (bluName) {\n      case 'Biggie':\n      case 'MaeBowl':\n      case 'Mella Measure':\n      case 'C19':\n        let str = bluData[1]\n        for (let i = 2; i < 7; i++) {\n          str += `:${bluData[i]}`\n        }\n        return str\n\n\n      default:\n        break;\n    }\n\n  }\n\n\n\n  changeFenBianLv = (e) => {\n    ipcRenderer.send('small')\n    this.setState({\n    })\n  }\n  beforeDiv = () => {\n    return (\n      <img src={back_hui} alt=\"\" style={{ width: px(15) }} />\n    )\n  }\n  afterDiv = () => {\n    return (\n      <img src={back_white} alt=\"\" style={{ width: px(15) }} />\n    )\n\n  }\n\n  body = () => {\n    let { noUSB, devicesList, selectDevice, reName } = this.state\n    if (selectDevice) {\n      return <div className=\"addDevice flex\">\n        <div className=\"addDeviceTop flex\">\n          <div className=\"title\" style={{ fontSize: px(30), marginBottom: px(40) }}>Would you like to name<br />\n            this Mella device?</div>\n\n          <div className=\"input flex\" style={{ marginBottom: px(60) }}>\n            <input type=\"text\" style={{ height: px(45) }}\n              value={reName}\n              onChange={(value) => {\n                this.setState({\n                  reName: value.target.value\n                })\n              }}\n            />\n          </div>\n          <div className=\"text\" style={{ fontSize: px(18) }}>* We recommend naming based\n            on the Exam Room. Write the name\n            on the sticker provided so it is easy\n            to select your device in the future.</div>\n        </div>\n        <div className=\"addDeviceFoot flex\">\n          <div className=\"btn\"\n            onClick={() => {\n              let { reName, selectDevice } = this.state\n              console.log(reName, selectDevice);\n              if (reName) {\n                selectDevice.name = reName\n              }\n              let deviceList = electronStore.get(`${storage.userId}-deviceList`)\n              console.log('---', deviceList);\n              deviceList.push(selectDevice)\n              electronStore.set(`${storage.userId}-deviceList`, deviceList)\n              let { saveDeviceMac } = this.state\n              saveDeviceMac.push(selectDevice.macId)\n              this.setState({\n                saveDeviceMac,\n                selectDevice: null,\n                reName: ''\n              })\n\n            }}\n          >\n            <p className='btnText'>Add Another</p>\n          </div>\n          <div className=\"btn\"\n            onClick={() => {\n              let { reName, selectDevice } = this.state\n              console.log(reName, selectDevice);\n              if (reName) {\n                selectDevice.name = reName\n              }\n              let deviceList = electronStore.get(`${storage.userId}-deviceList`)\n              deviceList.push(selectDevice)\n              electronStore.set(`${storage.userId}-deviceList`, deviceList)\n              this.props.history.goBack()\n\n            }}\n          >\n            <p className='btnText'>Finish</p>\n          </div>\n        </div>\n\n\n      </div>\n    } else {\n      if (noUSB) {\n        return <div className='flex' style={{ width: '100%', marginBottom: px(120), height: '50%', }}>\n          <img src={redclose} alt=\"\" style={{ width: px(80) }} />\n\n          <p style={{ textAlign: 'center', fontSize: px(30), marginTop: px(50) }}>The base is not detected.<br />Please insert the base</p>\n        </div>\n      } else {\n        if (devicesList.length === 0) {\n          return <div className=\"flex\" style={{ width: '100%', height: '100%', position: 'relative' }}>\n            {/* < MyModal\n              visible={true}\n              element={\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', flexDirection: 'column' }}>\n                  <div className=\"loadIcon\" style={{ marginBottom: MTop(5) }}>\n                    <LoadingOutlined style={{ fontSize: 30, color: '#fff', marginTop: mTop(-30), }} />\n                  </div>\n                  <p>\n                    {'searching...'}\n                  </p>\n                </div>\n              }\n            /> */}\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', flexDirection: 'column', marginBottom: px(130) }}>\n              <div className=\"loadIcon\" style={{ marginBottom: MTop(5) }}>\n                <LoadingOutlined style={{ fontSize: 30, color: '#8a8a8a', marginTop: mTop(-30), }} />\n              </div>\n              <p>\n                {'searching...'}\n              </p>\n            </div>\n          </div>\n        } else {\n          let options = devicesList.map((item, index) => {\n            let { saveDeviceMac } = this.state\n            let flog = saveDeviceMac.some((device, index) => {\n              return device === item.macId\n            })\n            let fontColor = flog ? '#D1C4C4' : '#4a4a4a'\n            return <li\n              className='flex'\n              style={{ marginBottom: px(20) }}\n              key={`${index}`}\n              onClick={() => {\n                if (!flog) {\n                  this.setState({\n                    selectDevice: item\n                  })\n                } else {\n                  message.destroy();\n                  message.error('This device has already been added')\n                }\n\n              }}\n            >\n\n              <div className=\"deviceName\" style={{ fontSize: px(24), color: fontColor }}>{item.name}</div>\n              <div className=\"deviceMacId\" style={{ fontSize: px(18), color: fontColor }}>{item.macId}</div>\n\n            </li>\n          })\n          return <div className='deviceList'>\n            <ul>\n              {options}\n            </ul>\n          </div>\n        }\n      }\n    }\n\n  }\n\n\n\n\n\n  render() {\n    return (\n      <div id=\"addDevice\">\n        <div className=\"heaed\">\n          <div className=\"l\"\n          >\n            <MouseDiv\n              className='mouseDiv'\n              beforeDiv={this.beforeDiv}\n              afterDiv={this.afterDiv}\n              divClick={() => {\n                let { selectDevice } = this.state\n                if (selectDevice) {\n                  this.setState({\n                    selectDevice: null\n                  })\n                } else {\n                  this.props.history.goBack()\n                }\n\n              }}\n            />\n          </div>\n          <div className=\"r\">\n\n            < MinClose\n\n            />\n          </div>\n        </div>\n\n        <div className=\"body flex\">\n          {this.body()}\n        </div>\n\n\n\n\n\n\n      </div>\n    )\n  }\n}\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/melladesk/index.js",[],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/apiKey/index.jsx",["573"],"import React, { Component, } from 'react'\nimport {\n    Button,\n    Input,\n    Spin,\n    Form,\n    Modal\n} from 'antd';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nimport dui from '../../assets/images/dui.png'\n\nimport MaxMin from '../../utils/maxminreturn/MaxMinReturn'\nimport { mTop } from '../../utils/px';\n\nimport './index.less';\nimport { selectLocationsByOrganization } from './../../api/mellaserver/vetSpire';\n\nconst MyIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_2326495_ryrpg35knb.js'\n})\nlet storage = window.localStorage;\nexport default class APIKey extends Component {\n    state = {\n        value: '',\n        loading: false,\n        id: '', // location 的ID\n        name: '',\n        flog: false,\n        visible: false,\n        modalText: '',\n        api: '',\n        selectApi: false\n    }\n    componentDidMount() {\n        let ipcRenderer = window.electron.ipcRenderer\n        ipcRenderer.send('big')\n    }\n    componentWillMount() {\n        if (storage.selectApi === `true`) {\n            if (`${storage.API}` !== `undefined`) {\n                this.setState({\n                    api: storage.API\n                })\n            }\n            this.setState({\n                selectApi: storage.selectApi\n            })\n        }\n        console.log('----------', storage.selectApi, storage.API);\n\n    }\n    onFinish = values => {\n        console.log(\"Success:\", values);\n        console.log('跳转');\n        if (values) {\n            this.setState({\n                loading: true\n            })\n            let params = {\n                APIkey: values.api\n            }\n            console.log('传入的数据：', params);\n\n            selectLocationsByOrganization(params)\n                .then(res => {\n                    console.log('接收到的数据', res);\n                    this.setState({\n                        loading: false\n                    })\n                    if (res.code === 14002) {\n\n\n                        storage.selectApi = this.state.selectApi\n                        console.log(this.state.selectApi);\n                        storage.API = values.api\n                        console.log(res.message);\n                        let data = res.data.org\n                        console.log(data);\n                        this.setState({\n                            id: data.id,\n                            name: data.name,\n                            flog: true,\n                            api: params.APIkey\n                        })\n                        storage.id = data.id\n                        console.log(storage.id);\n                        this.props.history.push({ pathname: '/page3', })\n                    } else {\n                        this.setState({\n                            visible: true,\n                            modalText: 'The input API is wrong',\n                            flog: false\n                        })\n                    }\n                })\n                .catch(err => {\n                    console.log('错误', err);\n                    this.setState({\n                        loading: false,\n                        visible: true,\n                        modalText: `${err}`,\n                        flog: false\n                    })\n                })\n\n        }\n    };\n    onFinishFailed = errorInfo => {\n        console.log(\"Failed:\", errorInfo);\n    };\n    render() {\n        const { api, id } = this.state\n        return (\n            <div id=\"inputAPI\">\n                {/* 关闭缩小 */}\n                <MaxMin\n                    onClick={() => { this.props.history.push('/') }}\n                    onClick1={() => this.props.history.push('/page1')}\n                />\n\n\n                <Spin tip=\"Loading...\" spinning={this.state.loading} delay={500}>\n\n                    {/* 文本 */}\n                    <div className=\"text\"\n                        style={{ marginTop: mTop(100), marginBottom: mTop(80) }}\n                    >Enter your Vetspire API key<br />and we’ll take care of the rest.</div>\n\n\n                    <Form\n                        name=\"basic\"\n                        initialValues={{\n                            remember: true\n                        }}\n                        onFinish={(value) => this.onFinish(value)}\n                        onFinishFailed={(value) => this.onFinishFailed(value)}\n                    >\n                        <div className=\"inptDiv\">\n                            <Form.Item\n                                name=\"api\"\n                                initialValue={this.state.api}\n                                rules={[\n                                    {\n                                        required: true,\n                                        message: \"Please input your vetspire API key!\"\n                                    }\n                                ]}\n                            >\n                                <Input\n                                    className='input'\n                                    placeholder=\"Your Vetspire API Key\"\n\n                                />\n\n                            </Form.Item>\n                        </div>\n                        <div className=\"remember\">\n                            <div className=\"text1\">Remember Me</div>\n                            <div className=\"square\" onClick={() => {\n                                this.setState({ selectApi: !this.state.selectApi })\n                            }}>\n                                {(this.state.selectApi) ? (<img src={dui} width={'40px'} alt=\"\" />) : (null)}\n                            </div>\n                        </div>\n\n                        {/* {(!this.state.flog) ? ( */}\n                        {(true) ? (\n                            <Form.Item>\n                                <div className=\"btn\"\n                                    style={{ marginTop: mTop(280) }}\n                                >\n                                    <Button\n                                        type=\"primary\"\n                                        shape=\"round\"\n                                        size='large'\n                                        htmlType=\"submit\"\n                                    >\n                                        Connect\n                                    </Button>\n                                </div>\n                            </Form.Item>\n                        ) : (null)}\n\n                    </Form>\n\n                </Spin>\n\n                {/* {(this.state.flog) ? ( */}\n                {(false) ? (\n                    <div>\n                        <div className=\"text2\"> Verify Organization<br />Information</div>\n                        <div className=\"text9\">Business Name <span>{this.state.name}</span></div>\n                        <div className=\"btns\">\n                            <div className=\"btn1\">\n                                <Button\n                                    type=\"primary\"\n                                    shape=\"round\"\n                                    size='large'\n                                    onClick={() => this.setState({ flog: false })}\n                                >\n                                    Try Again\n                                </Button>\n                            </div>\n                            <div className=\"btn2\">\n                                <Button\n                                    type=\"primary\"\n                                    shape=\"round\"\n                                    size='large'\n                                    onClick={() => {\n                                        console.log('点击了');\n                                        this.props.history.push({ pathname: '/page4', query: { api, id } })\n                                    }}\n                                >\n                                    Verify\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n\n                ) : (null)}\n\n\n                <Modal\n                    title='err'\n                    visible={this.state.visible}\n                    footer={[]}\n                    onCancel={() => this.setState({ visible: false })}\n                >\n                    {this.state.modalText}\n                </Modal>\n\n\n\n\n            </div>\n        )\n    }\n}\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/connectWorkplace/index.jsx",["574","575","576","577"],"import React, { Component } from \"react\";\nimport { Select } from \"antd\";\nimport Heart from \"../../utils/heard/Heard\";\nimport { px } from \"../../utils/px\";\nimport \"./index.less\";\n\nconst { Option } = Select;\nlet storage = window.localStorage;\n\nexport default class ConnectWorkplace extends Component {\n  state = {\n    orgArr: [],\n    workplaceJson: {},\n    connectionKey: \"\",\n    selectOrgId: -1,\n    selectRoleId: \"\",\n  };\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer;\n    let { height, width } = window.screen;\n    ipcRenderer.send(\"big\");\n    ipcRenderer.on(\"changeFenBianLv\", this.changeFenBianLv);\n\n    let userWorkplace = [];\n    try {\n      userWorkplace = JSON.parse(storage.userWorkplace) || [];\n    } catch (error) {\n      console.log(\"字符串转对象失败\", error);\n    }\n    let orgArr = [],\n      workplaceJson = {};\n    // console.log('存储的工作场所和组织id', storage.lastWorkplaceId, storage.lastOrganization);\n    for (let i = 0; i < userWorkplace.length; i++) {\n      let element = userWorkplace[i];\n      // console.log('每一项的值：', element);\n      if (element.organizationEntity && element.workplaceEntity) {\n        let { organizationEntity, workplaceEntity, roleId } = element;\n        const { name, organizationId, connectionKey } = organizationEntity;\n        const { workplaceName, workplaceId } = workplaceEntity;\n\n        if (`${workplaceId}` === storage.lastWorkplaceId) {\n          this.setState({\n            workplaceName,\n            workplaceId: storage.lastWorkplaceId,\n          });\n        }\n\n        if (`${organizationId}` === storage.lastOrganization) {\n          this.setState({\n            organizationName: name,\n            organizationId: storage.lastOrganization,\n            selectOrgId: storage.lastOrganization,\n          });\n        }\n\n        let orgRepeatFlog = false,\n          repeatFlogNum = -1;\n        for (let j = 0; j < orgArr.length; j++) {\n          if (orgArr[j].organizationId === organizationId) {\n            orgRepeatFlog = true;\n            repeatFlogNum = j;\n            break;\n          }\n        }\n        if (orgRepeatFlog) {\n          let workplace = {\n            workplaceName,\n            workplaceId,\n          };\n          let id = orgArr[repeatFlogNum].organizationId;\n          workplaceJson[`${id}`] = workplace;\n        } else {\n          let connectKey = connectionKey || \"\";\n          let json = {\n            organizationId,\n            organizationName: name,\n            connectionKey: connectKey,\n            roleId,\n          };\n          let workplace = [\n            {\n              workplaceName,\n              workplaceId,\n            },\n          ];\n          workplaceJson[`${organizationId}`] = workplace;\n\n          orgArr.push(json);\n        }\n      }\n    }\n    // console.log('-----转换后的组织信息--', orgArr, workplaceJson);\n    this.setState({\n      orgArr,\n      workplaceJson,\n      connectionKey: storage.connectionKey,\n      selectRoleId: storage.roleId,\n    });\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer;\n\n    ipcRenderer.removeListener(\"changeFenBianLv\", this.changeFenBianLv);\n  }\n  changeFenBianLv = (e) => {\n    // console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer;\n    let { height, width } = window.screen;\n    let windowsHeight = height > width ? width : height;\n    ipcRenderer.send(\"Lowbig\");\n    this.setState({});\n  };\n\n  render() {\n    let { orgArr, selectOrgId } = this.state;\n    let option = orgArr.map((item, index) => {\n      let bac =\n        `${selectOrgId}` === `${item.organizationId}` ? \"#e1206d\" : \"#fff\";\n      let col = `${selectOrgId}` === `${item.organizationId}` ? \"#fff\" : \"#000\";\n      return (\n        <li\n          key={`${item.organizationId}`}\n          style={{ background: bac, color: col }}\n          onClick={() => {\n            this.setState({\n              selectOrgId: item.organizationId,\n              connectionKey: item.connectionKey,\n              selectRoleId: item.roleId,\n            });\n            // storage.roleId = item.roleId\n          }}\n        >\n          <div className=\"org\" style={{ fontSize: px(16) }}>\n            {item.organizationName}\n          </div>\n        </li>\n      );\n    });\n    return (\n      <div id=\"connectworkplace\">\n        <div className=\"heard\">\n          <Heart\n            onReturn={() => {\n              this.props.history.goBack();\n            }}\n            onSearch={(data) => {\n              storage.doctorExam = JSON.stringify(data);\n\n              storage.doctorList = JSON.stringify(this.state.data);\n              if (storage.isClinical === \"true\") {\n                this.props.history.push({\n                  pathname: \"/page8\",\n                  identity: storage.identity,\n                  patientId: data.patientId,\n                });\n              } else {\n                this.props.history.push({ pathname: \"/page10\" });\n              }\n            }}\n            menu8Click={() => {\n              // console.log('--', storage.identity);\n              switch (storage.identity) {\n                case \"2\":\n                  this.props.history.push({\n                    pathname: \"/EzyVetSelectExam\",\n                    listDate: storage.ezyVetList,\n                    defaultCurrent: storage.defaultCurrent,\n                  });\n\n                  break;\n                case \"1\":\n                  this.props.history.push(\"/VetSpireSelectExam\");\n\n                  break;\n                case \"3\":\n                  this.props.history.push({\n                    pathname: \"/uesr/selectExam\",\n                    listDate: storage.doctorList,\n                    defaultCurrent: storage.defaultCurrent,\n                  });\n\n                  break;\n\n                default:\n                  break;\n              }\n            }}\n          />\n        </div>\n\n        <div className=\"body\">\n          <div className=\"top\">\n            <div className=\"title flex\">\n              <p style={{ fontSize: px(24), fontWeight: \"800\" }}>\n                Connected Workplaces\n              </p>\n              <div\n                className=\"addbtn flex\"\n                style={{ height: px(45) }}\n                onClick={() => this.props.history.push(\"/menuOptions/NewOrg\")}\n              >\n                <p>+ Add Workplace</p>\n              </div>\n            </div>\n            <div className=\"tablebox\">\n              <div className=\"table\" style={{ height: px(220) }}>\n                <ul>{option}</ul>\n              </div>\n            </div>\n          </div>\n          <div className=\"center\"></div>\n          <div className=\"footer flex\">\n            <div\n              className=\"saveBtn flex\"\n              style={{ height: px(45) }}\n              onClick={() => {\n                let {\n                  selectOrgId,\n                  selectRoleId,\n                  connectionKey,\n                  workplaceJson,\n                } = this.state;\n                // console.log({ selectOrgId, selectRoleId, connectionKey, workplaceJson });\n                storage.roleId = selectRoleId;\n                storage.lastOrganization = selectOrgId;\n                try {\n                  let key = parseInt(selectOrgId);\n                  let lastWorkplaceId = workplaceJson[key][0].workplaceId;\n                  // console.log(lastWorkplaceId);\n                  storage.lastWorkplaceId = lastWorkplaceId;\n                } catch (error) { }\n                storage.connectionKey = connectionKey;\n                // this.props.history.replace(\"/menuOptions/settings\");\n                this.props.history.goBack();\n              }}\n            >\n              <p style={{ fontSize: px(18) }}>Save Changes</p>\n            </div>\n          </div>\n        </div>\n\n        {/* <MyModal visible={this.state.loading} /> */}\n      </div>\n    );\n  }\n}\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/mainbody/HardAndPetsUI.jsx",["578","579"],"import React, { useState, useEffect } from 'react'\n\nimport xia from './../../assets/img/xia.png'\n\nimport { px } from '../../utils/px'\n\nimport PetsUI from './PetsUI.jsx'\nimport HardListModal from './HardListModal'\n\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux';\nimport { selectHardwareModalShowFun } from './../../store/actions';\n\nimport './mainbody.less';\n\nlet storage = window.localStorage\nconst HardAndPetsUI = ({ bodyHeight, selectHardwareType, selectHardwareModalShow, hardwareList, selectHardwareModalShowFun,hardwareInfo }) => {\n  //定义选择的硬件详细信息\n  const [selectHardwareDetail, setSelectHardwareDetail] = useState({})\n  useEffect(() => {\n    console.log('初始化硬件和宠物界面', hardwareList);\n    //根据设备类型获取到此类型下的所有硬件,并用来展示\n    for (let i = 0; i < hardwareList.length; i++) {\n      const element = hardwareList[i];\n      if (element.type === selectHardwareType) {\n        let list = element.devices || []\n        //获取被选中的硬件的详细信息\n        let selectHardwareInfo = hardwareInfo || {}\n        console.log('------=========--------', selectHardwareInfo);\n        if (selectHardwareInfo === {}) {\n          let selectHardwareInfo = list[0] || {}\n          setSelectHardwareDetail(selectHardwareInfo)\n        } else {\n          let sameFlag = false\n          for (let i = 0; i < list.length; i++) {\n            const element = list[i];\n            if (element.name === selectHardwareInfo.name && element.mac === selectHardwareInfo.mac) {\n              setSelectHardwareDetail(selectHardwareInfo)\n              sameFlag = true\n              break\n            }\n          }\n          console.log('sameFlag', sameFlag);\n          if (!sameFlag) {\n            console.log('设置了默认值');\n            let selectHardwareInfo = list[0] || {}\n            setSelectHardwareDetail(selectHardwareInfo)\n          }\n        }\n        break\n      }\n    }\n  }, [selectHardwareType, hardwareList,])\n\n\n\n  return (\n    <div className='deviceAndPets' style={{ width: px(200), height: bodyHeight }}>\n      <div className='deviceAndPets-title'\n        onClick={(e) => {\n          //react阻止冒泡\n          e.stopPropagation()\n          selectHardwareModalShowFun(!selectHardwareModalShow)\n        }}\n      >\n        <div className=\"devicesName\" style={{ fontSize: px(26) }}>\n          {selectHardwareDetail.name}\n        </div>\n        <div className=\"imgBox\" style={{ marginLeft: px(7) }}>\n          <img src={xia} alt=\"\" width={px(32)} />\n        </div>\n        {selectHardwareModalShow && <HardListModal setInfo={(item) => {\n          setSelectHardwareDetail(item)\n        }} />}\n      </div>\n      <PetsUI\n        bodyHeight={bodyHeight}\n      />\n    </div >\n  )\n}\n\n\nHardAndPetsUI.propTypes = {\n  bodyHeight: PropTypes.number,\n  devicesTypeList: PropTypes.array\n}\n//默认值\nHardAndPetsUI.defaultProps = {\n  bodyHeight: 0,\n  devicesTypeList: []\n}\nexport default connect(\n  state => ({\n    selectHardwareModalShow: state.hardwareReduce.selectHardwareModalShow,\n    selectHardwareType: state.hardwareReduce.selectHardwareType,\n    hardwareList: state.hardwareReduce.hardwareList,\n    hardwareInfo: state.hardwareReduce.selectHardwareInfo,\n  }),\n  { selectHardwareModalShowFun }\n)(HardAndPetsUI)\n","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/userfeedback.js",["580","581"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/EzyVet.js",["582","583"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/clinical.js",["584","585"],"/**\n * @file clinical.js\n * @authoe 胡邵杰 \n * @dec https://www.mellaserver.com/api/mellaserver/clinical 下的所有接口都在这个<br />\n *      封装,封装函数名称和接口地址保持一致\n * @createDate 20220824\n * \n */\nimport { get, postJson, del } from '../api'\nimport { mellaserverBaseUrl } from '../../config/config'\nconst baseURL = `${mellaserverBaseUrl}/clinical`\n\n\n/**\n * @dec 体重保存\n * @param {*} params \n * @returns \n */\nexport const addAllClinical = (params) => {\n    return postJson(`${baseURL}/addAllClinical`, params)\n}\n\n/**\n * @dec 1.2版本的猫预测\n * @param {*} params \n * @returns \n */\nexport const catv12Predict = (params) => {\n    return postJson(`${baseURL}/catv12Predict`, params)\n}","/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellabiggie/pet.js",["586","587","588"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/components/selectPetBreedModal/index.jsx",["589"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/pages/forgotPassword/index.jsx",["590"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/workplace.js",["591"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/mellaserver/new.js",["592","593"],"/Users/mac/Desktop/workCode/Mella_Desktop_Super_USB/src/api/melladesk/VetSpire.js",["594","595","596"],{"ruleId":"597","replacedBy":"598"},{"ruleId":"599","replacedBy":"600"},{"ruleId":"601","severity":1,"message":"602","line":22,"column":9,"nodeType":"603","messageId":"604","endLine":22,"endColumn":16},{"ruleId":"597","replacedBy":"605"},{"ruleId":"599","replacedBy":"606"},{"ruleId":"597","replacedBy":"607"},{"ruleId":"599","replacedBy":"608"},{"ruleId":"601","severity":1,"message":"609","line":15,"column":7,"nodeType":"603","messageId":"604","endLine":15,"endColumn":15},{"ruleId":"601","severity":1,"message":"610","line":18,"column":5,"nodeType":"603","messageId":"604","endLine":18,"endColumn":9},{"ruleId":"611","severity":1,"message":"612","line":46,"column":3,"nodeType":"613","messageId":"614","endLine":55,"endColumn":47},{"ruleId":"611","severity":1,"message":"612","line":74,"column":3,"nodeType":"613","messageId":"614","endLine":76,"endColumn":46},{"ruleId":"601","severity":1,"message":"615","line":79,"column":5,"nodeType":"603","messageId":"604","endLine":79,"endColumn":16},{"ruleId":"601","severity":1,"message":"616","line":102,"column":5,"nodeType":"603","messageId":"604","endLine":102,"endColumn":10},{"ruleId":"597","replacedBy":"617"},{"ruleId":"599","replacedBy":"618"},{"ruleId":"619","severity":1,"message":"620","line":163,"column":6,"nodeType":"621","endLine":163,"endColumn":23,"suggestions":"622"},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"624","line":9,"column":10,"nodeType":"603","messageId":"604","endLine":9,"endColumn":13},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"624","line":9,"column":10,"nodeType":"603","messageId":"604","endLine":9,"endColumn":13},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"625","line":10,"column":8,"nodeType":"603","messageId":"604","endLine":10,"endColumn":13},{"ruleId":"601","severity":1,"message":"626","line":19,"column":8,"nodeType":"603","messageId":"604","endLine":19,"endColumn":15},{"ruleId":"601","severity":1,"message":"627","line":21,"column":8,"nodeType":"603","messageId":"604","endLine":21,"endColumn":17},{"ruleId":"601","severity":1,"message":"628","line":22,"column":8,"nodeType":"603","messageId":"604","endLine":22,"endColumn":14},{"ruleId":"601","severity":1,"message":"629","line":33,"column":9,"nodeType":"603","messageId":"604","endLine":33,"endColumn":15},{"ruleId":"630","severity":1,"message":"631","line":103,"column":5,"nodeType":"632","messageId":"633","endLine":109,"endColumn":6},{"ruleId":"634","severity":1,"message":"635","line":116,"column":41,"nodeType":"636","messageId":"637","endLine":116,"endColumn":43},{"ruleId":"634","severity":1,"message":"635","line":154,"column":41,"nodeType":"636","messageId":"637","endLine":154,"endColumn":43},{"ruleId":"601","severity":1,"message":"638","line":261,"column":11,"nodeType":"603","messageId":"604","endLine":261,"endColumn":21},{"ruleId":"601","severity":1,"message":"639","line":261,"column":49,"nodeType":"603","messageId":"604","endLine":261,"endColumn":55},{"ruleId":"640","severity":1,"message":"641","line":511,"column":15,"nodeType":"642","endLine":511,"endColumn":63},{"ruleId":"640","severity":1,"message":"641","line":541,"column":15,"nodeType":"642","endLine":541,"endColumn":63},{"ruleId":"630","severity":1,"message":"631","line":562,"column":5,"nodeType":"632","messageId":"633","endLine":565,"endColumn":6},{"ruleId":"630","severity":1,"message":"631","line":566,"column":5,"nodeType":"632","messageId":"633","endLine":569,"endColumn":6},{"ruleId":"601","severity":1,"message":"643","line":682,"column":32,"nodeType":"603","messageId":"604","endLine":682,"endColumn":41},{"ruleId":"601","severity":1,"message":"644","line":685,"column":26,"nodeType":"603","messageId":"604","endLine":685,"endColumn":29},{"ruleId":"601","severity":1,"message":"645","line":753,"column":13,"nodeType":"603","messageId":"604","endLine":753,"endColumn":23},{"ruleId":"601","severity":1,"message":"646","line":753,"column":25,"nodeType":"603","messageId":"604","endLine":753,"endColumn":33},{"ruleId":"601","severity":1,"message":"647","line":753,"column":35,"nodeType":"603","messageId":"604","endLine":753,"endColumn":41},{"ruleId":"601","severity":1,"message":"648","line":753,"column":43,"nodeType":"603","messageId":"604","endLine":753,"endColumn":51},{"ruleId":"601","severity":1,"message":"649","line":753,"column":53,"nodeType":"603","messageId":"604","endLine":753,"endColumn":70},{"ruleId":"601","severity":1,"message":"638","line":804,"column":29,"nodeType":"603","messageId":"604","endLine":804,"endColumn":39},{"ruleId":"601","severity":1,"message":"650","line":804,"column":79,"nodeType":"603","messageId":"604","endLine":804,"endColumn":84},{"ruleId":"601","severity":1,"message":"651","line":804,"column":117,"nodeType":"603","messageId":"604","endLine":804,"endColumn":139},{"ruleId":"597","replacedBy":"652"},{"ruleId":"599","replacedBy":"653"},{"ruleId":"601","severity":1,"message":"654","line":158,"column":61,"nodeType":"603","messageId":"604","endLine":158,"endColumn":75},{"ruleId":"601","severity":1,"message":"629","line":20,"column":9,"nodeType":"603","messageId":"604","endLine":20,"endColumn":15},{"ruleId":"601","severity":1,"message":"655","line":65,"column":9,"nodeType":"603","messageId":"604","endLine":65,"endColumn":22},{"ruleId":"601","severity":1,"message":"656","line":337,"column":9,"nodeType":"603","messageId":"604","endLine":337,"endColumn":25},{"ruleId":"601","severity":1,"message":"657","line":354,"column":11,"nodeType":"603","messageId":"604","endLine":354,"endColumn":24},{"ruleId":"601","severity":1,"message":"658","line":354,"column":142,"nodeType":"603","messageId":"604","endLine":354,"endColumn":148},{"ruleId":"601","severity":1,"message":"659","line":354,"column":150,"nodeType":"603","messageId":"604","endLine":354,"endColumn":160},{"ruleId":"601","severity":1,"message":"660","line":358,"column":7,"nodeType":"603","messageId":"604","endLine":358,"endColumn":17},{"ruleId":"597","replacedBy":"661"},{"ruleId":"599","replacedBy":"662"},{"ruleId":"601","severity":1,"message":"663","line":46,"column":10,"nodeType":"603","messageId":"604","endLine":46,"endColumn":23},{"ruleId":"601","severity":1,"message":"664","line":48,"column":10,"nodeType":"603","messageId":"604","endLine":48,"endColumn":22},{"ruleId":"601","severity":1,"message":"665","line":49,"column":10,"nodeType":"603","messageId":"604","endLine":49,"endColumn":23},{"ruleId":"601","severity":1,"message":"666","line":50,"column":10,"nodeType":"603","messageId":"604","endLine":50,"endColumn":21},{"ruleId":"601","severity":1,"message":"667","line":52,"column":10,"nodeType":"603","messageId":"604","endLine":52,"endColumn":24},{"ruleId":"601","severity":1,"message":"668","line":52,"column":26,"nodeType":"603","messageId":"604","endLine":52,"endColumn":43},{"ruleId":"630","severity":1,"message":"631","line":175,"column":5,"nodeType":"632","messageId":"633","endLine":194,"endColumn":6},{"ruleId":"619","severity":1,"message":"669","line":344,"column":6,"nodeType":"621","endLine":344,"endColumn":8,"suggestions":"670"},{"ruleId":"601","severity":1,"message":"629","line":17,"column":9,"nodeType":"603","messageId":"604","endLine":17,"endColumn":15},{"ruleId":"601","severity":1,"message":"602","line":33,"column":9,"nodeType":"603","messageId":"604","endLine":33,"endColumn":16},{"ruleId":"601","severity":1,"message":"671","line":40,"column":5,"nodeType":"603","messageId":"604","endLine":40,"endColumn":8},{"ruleId":"601","severity":1,"message":"672","line":116,"column":29,"nodeType":"603","messageId":"604","endLine":116,"endColumn":36},{"ruleId":"601","severity":1,"message":"673","line":116,"column":38,"nodeType":"603","messageId":"604","endLine":116,"endColumn":46},{"ruleId":"601","severity":1,"message":"674","line":116,"column":48,"nodeType":"603","messageId":"604","endLine":116,"endColumn":57},{"ruleId":"630","severity":1,"message":"631","line":160,"column":5,"nodeType":"632","messageId":"633","endLine":166,"endColumn":6},{"ruleId":"634","severity":1,"message":"635","line":173,"column":41,"nodeType":"636","messageId":"637","endLine":173,"endColumn":43},{"ruleId":"601","severity":1,"message":"638","line":464,"column":11,"nodeType":"603","messageId":"604","endLine":464,"endColumn":21},{"ruleId":"640","severity":1,"message":"641","line":724,"column":15,"nodeType":"642","endLine":724,"endColumn":63},{"ruleId":"601","severity":1,"message":"675","line":741,"column":5,"nodeType":"603","messageId":"604","endLine":741,"endColumn":12},{"ruleId":"601","severity":1,"message":"676","line":742,"column":11,"nodeType":"603","messageId":"604","endLine":742,"endColumn":20},{"ruleId":"640","severity":1,"message":"641","line":761,"column":15,"nodeType":"642","endLine":761,"endColumn":63},{"ruleId":"630","severity":1,"message":"631","line":783,"column":5,"nodeType":"632","messageId":"633","endLine":786,"endColumn":6},{"ruleId":"630","severity":1,"message":"631","line":787,"column":5,"nodeType":"632","messageId":"633","endLine":790,"endColumn":6},{"ruleId":"601","severity":1,"message":"649","line":914,"column":61,"nodeType":"603","messageId":"604","endLine":914,"endColumn":78},{"ruleId":"601","severity":1,"message":"650","line":914,"column":80,"nodeType":"603","messageId":"604","endLine":914,"endColumn":85},{"ruleId":"601","severity":1,"message":"676","line":914,"column":118,"nodeType":"603","messageId":"604","endLine":914,"endColumn":127},{"ruleId":"597","replacedBy":"677"},{"ruleId":"599","replacedBy":"678"},{"ruleId":"601","severity":1,"message":"679","line":136,"column":32,"nodeType":"603","messageId":"604","endLine":136,"endColumn":48},{"ruleId":"601","severity":1,"message":"663","line":153,"column":15,"nodeType":"603","messageId":"604","endLine":153,"endColumn":28},{"ruleId":"601","severity":1,"message":"602","line":46,"column":9,"nodeType":"603","messageId":"604","endLine":46,"endColumn":16},{"ruleId":"601","severity":1,"message":"680","line":59,"column":5,"nodeType":"603","messageId":"604","endLine":59,"endColumn":8},{"ruleId":"601","severity":1,"message":"681","line":451,"column":22,"nodeType":"603","messageId":"604","endLine":451,"endColumn":26},{"ruleId":"630","severity":1,"message":"631","line":1152,"column":9,"nodeType":"632","messageId":"633","endLine":1156,"endColumn":10},{"ruleId":"630","severity":1,"message":"631","line":1822,"column":5,"nodeType":"632","messageId":"633","endLine":1835,"endColumn":6},{"ruleId":"601","severity":1,"message":"682","line":2301,"column":17,"nodeType":"603","messageId":"604","endLine":2301,"endColumn":29},{"ruleId":"683","severity":1,"message":"684","line":2318,"column":59,"nodeType":"685","messageId":"686","endLine":2318,"endColumn":60,"suggestions":"687"},{"ruleId":"683","severity":1,"message":"688","line":2318,"column":165,"nodeType":"685","messageId":"686","endLine":2318,"endColumn":166,"suggestions":"689"},{"ruleId":"683","severity":1,"message":"684","line":2334,"column":59,"nodeType":"685","messageId":"686","endLine":2334,"endColumn":60,"suggestions":"690"},{"ruleId":"683","severity":1,"message":"688","line":2334,"column":165,"nodeType":"685","messageId":"686","endLine":2334,"endColumn":166,"suggestions":"691"},{"ruleId":"683","severity":1,"message":"684","line":2353,"column":59,"nodeType":"685","messageId":"686","endLine":2353,"endColumn":60,"suggestions":"692"},{"ruleId":"683","severity":1,"message":"688","line":2353,"column":165,"nodeType":"685","messageId":"686","endLine":2353,"endColumn":166,"suggestions":"693"},{"ruleId":"683","severity":1,"message":"684","line":2386,"column":59,"nodeType":"685","messageId":"686","endLine":2386,"endColumn":60,"suggestions":"694"},{"ruleId":"683","severity":1,"message":"688","line":2386,"column":165,"nodeType":"685","messageId":"686","endLine":2386,"endColumn":166,"suggestions":"695"},{"ruleId":"683","severity":1,"message":"684","line":2402,"column":59,"nodeType":"685","messageId":"686","endLine":2402,"endColumn":60,"suggestions":"696"},{"ruleId":"683","severity":1,"message":"688","line":2402,"column":165,"nodeType":"685","messageId":"686","endLine":2402,"endColumn":166,"suggestions":"697"},{"ruleId":"683","severity":1,"message":"684","line":2420,"column":59,"nodeType":"685","messageId":"686","endLine":2420,"endColumn":60,"suggestions":"698"},{"ruleId":"683","severity":1,"message":"688","line":2420,"column":165,"nodeType":"685","messageId":"686","endLine":2420,"endColumn":166,"suggestions":"699"},{"ruleId":"601","severity":1,"message":"645","line":2840,"column":11,"nodeType":"603","messageId":"604","endLine":2840,"endColumn":21},{"ruleId":"601","severity":1,"message":"646","line":2840,"column":23,"nodeType":"603","messageId":"604","endLine":2840,"endColumn":31},{"ruleId":"601","severity":1,"message":"647","line":2840,"column":33,"nodeType":"603","messageId":"604","endLine":2840,"endColumn":39},{"ruleId":"601","severity":1,"message":"700","line":2840,"column":65,"nodeType":"603","messageId":"604","endLine":2840,"endColumn":78},{"ruleId":"601","severity":1,"message":"672","line":2984,"column":30,"nodeType":"603","messageId":"604","endLine":2984,"endColumn":37},{"ruleId":"601","severity":1,"message":"673","line":2984,"column":39,"nodeType":"603","messageId":"604","endLine":2984,"endColumn":47},{"ruleId":"601","severity":1,"message":"674","line":2984,"column":49,"nodeType":"603","messageId":"604","endLine":2984,"endColumn":58},{"ruleId":"601","severity":1,"message":"676","line":2984,"column":60,"nodeType":"603","messageId":"604","endLine":2984,"endColumn":69},{"ruleId":"601","severity":1,"message":"650","line":2984,"column":71,"nodeType":"603","messageId":"604","endLine":2984,"endColumn":76},{"ruleId":"601","severity":1,"message":"701","line":2984,"column":78,"nodeType":"603","messageId":"604","endLine":2984,"endColumn":86},{"ruleId":"601","severity":1,"message":"702","line":2984,"column":88,"nodeType":"603","messageId":"604","endLine":2984,"endColumn":94},{"ruleId":"601","severity":1,"message":"671","line":2984,"column":96,"nodeType":"603","messageId":"604","endLine":2984,"endColumn":99},{"ruleId":"683","severity":1,"message":"684","line":3279,"column":59,"nodeType":"685","messageId":"686","endLine":3279,"endColumn":60,"suggestions":"703"},{"ruleId":"683","severity":1,"message":"688","line":3279,"column":165,"nodeType":"685","messageId":"686","endLine":3279,"endColumn":166,"suggestions":"704"},{"ruleId":"683","severity":1,"message":"684","line":3296,"column":59,"nodeType":"685","messageId":"686","endLine":3296,"endColumn":60,"suggestions":"705"},{"ruleId":"683","severity":1,"message":"688","line":3296,"column":165,"nodeType":"685","messageId":"686","endLine":3296,"endColumn":166,"suggestions":"706"},{"ruleId":"597","replacedBy":"707"},{"ruleId":"599","replacedBy":"708"},{"ruleId":"601","severity":1,"message":"709","line":52,"column":29,"nodeType":"603","messageId":"604","endLine":52,"endColumn":36},{"ruleId":"601","severity":1,"message":"710","line":52,"column":38,"nodeType":"603","messageId":"604","endLine":52,"endColumn":49},{"ruleId":"601","severity":1,"message":"711","line":52,"column":57,"nodeType":"603","messageId":"604","endLine":52,"endColumn":68},{"ruleId":"712","severity":1,"message":"713","line":246,"column":33,"nodeType":"714","messageId":"715","endLine":246,"endColumn":35},{"ruleId":"712","severity":1,"message":"713","line":246,"column":92,"nodeType":"714","messageId":"715","endLine":246,"endColumn":94},{"ruleId":"712","severity":1,"message":"713","line":246,"column":130,"nodeType":"714","messageId":"715","endLine":246,"endColumn":132},{"ruleId":"601","severity":1,"message":"716","line":19,"column":10,"nodeType":"603","messageId":"604","endLine":19,"endColumn":18},{"ruleId":"601","severity":1,"message":"717","line":24,"column":7,"nodeType":"603","messageId":"604","endLine":24,"endColumn":13},{"ruleId":"601","severity":1,"message":"718","line":348,"column":11,"nodeType":"603","messageId":"604","endLine":348,"endColumn":17},{"ruleId":"601","severity":1,"message":"719","line":416,"column":19,"nodeType":"603","messageId":"604","endLine":416,"endColumn":26},{"ruleId":"601","severity":1,"message":"720","line":417,"column":9,"nodeType":"603","messageId":"604","endLine":417,"endColumn":13},{"ruleId":"721","severity":1,"message":"722","line":582,"column":15,"nodeType":"642","endLine":582,"endColumn":50},{"ruleId":"597","replacedBy":"723"},{"ruleId":"599","replacedBy":"724"},{"ruleId":"601","severity":1,"message":"602","line":21,"column":9,"nodeType":"603","messageId":"604","endLine":21,"endColumn":16},{"ruleId":"601","severity":1,"message":"629","line":22,"column":9,"nodeType":"603","messageId":"604","endLine":22,"endColumn":15},{"ruleId":"601","severity":1,"message":"717","line":23,"column":7,"nodeType":"603","messageId":"604","endLine":23,"endColumn":13},{"ruleId":"601","severity":1,"message":"725","line":26,"column":5,"nodeType":"603","messageId":"604","endLine":26,"endColumn":12},{"ruleId":"601","severity":1,"message":"726","line":27,"column":5,"nodeType":"603","messageId":"604","endLine":27,"endColumn":17},{"ruleId":"601","severity":1,"message":"671","line":28,"column":5,"nodeType":"603","messageId":"604","endLine":28,"endColumn":8},{"ruleId":"601","severity":1,"message":"671","line":86,"column":61,"nodeType":"603","messageId":"604","endLine":86,"endColumn":64},{"ruleId":"601","severity":1,"message":"727","line":86,"column":66,"nodeType":"603","messageId":"604","endLine":86,"endColumn":75},{"ruleId":"721","severity":1,"message":"722","line":271,"column":15,"nodeType":"642","endLine":277,"endColumn":16},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"597","replacedBy":"728"},{"ruleId":"599","replacedBy":"729"},{"ruleId":"601","severity":1,"message":"730","line":5,"column":3,"nodeType":"603","messageId":"604","endLine":5,"endColumn":8},{"ruleId":"601","severity":1,"message":"731","line":7,"column":3,"nodeType":"603","messageId":"604","endLine":7,"endColumn":6},{"ruleId":"601","severity":1,"message":"732","line":54,"column":16,"nodeType":"603","messageId":"604","endLine":54,"endColumn":20},{"ruleId":"601","severity":1,"message":"733","line":59,"column":5,"nodeType":"603","messageId":"604","endLine":59,"endColumn":10},{"ruleId":"640","severity":1,"message":"641","line":113,"column":18,"nodeType":"642","endLine":113,"endColumn":47},{"ruleId":"640","severity":1,"message":"641","line":115,"column":18,"nodeType":"642","endLine":115,"endColumn":47},{"ruleId":"640","severity":1,"message":"641","line":117,"column":18,"nodeType":"642","endLine":117,"endColumn":47},{"ruleId":"640","severity":1,"message":"641","line":119,"column":18,"nodeType":"642","endLine":119,"endColumn":47},{"ruleId":"640","severity":1,"message":"641","line":142,"column":11,"nodeType":"642","endLine":150,"endColumn":13},{"ruleId":"640","severity":1,"message":"641","line":155,"column":13,"nodeType":"642","endLine":155,"endColumn":63},{"ruleId":"712","severity":1,"message":"713","line":220,"column":28,"nodeType":"714","messageId":"715","endLine":220,"endColumn":30},{"ruleId":"619","severity":1,"message":"734","line":461,"column":6,"nodeType":"621","endLine":461,"endColumn":18,"suggestions":"735"},{"ruleId":"619","severity":1,"message":"736","line":469,"column":6,"nodeType":"621","endLine":469,"endColumn":8,"suggestions":"737"},{"ruleId":"601","severity":1,"message":"738","line":99,"column":9,"nodeType":"603","messageId":"604","endLine":99,"endColumn":15},{"ruleId":"601","severity":1,"message":"739","line":188,"column":25,"nodeType":"603","messageId":"604","endLine":188,"endColumn":32},{"ruleId":"601","severity":1,"message":"740","line":188,"column":34,"nodeType":"603","messageId":"604","endLine":188,"endColumn":49},{"ruleId":"601","severity":1,"message":"741","line":188,"column":51,"nodeType":"603","messageId":"604","endLine":188,"endColumn":55},{"ruleId":"601","severity":1,"message":"742","line":189,"column":25,"nodeType":"603","messageId":"604","endLine":189,"endColumn":44},{"ruleId":"601","severity":1,"message":"743","line":189,"column":46,"nodeType":"603","messageId":"604","endLine":189,"endColumn":62},{"ruleId":"601","severity":1,"message":"744","line":189,"column":64,"nodeType":"603","messageId":"604","endLine":189,"endColumn":84},{"ruleId":"601","severity":1,"message":"745","line":189,"column":86,"nodeType":"603","messageId":"604","endLine":189,"endColumn":96},{"ruleId":"683","severity":1,"message":"746","line":347,"column":55,"nodeType":"747","messageId":"686","endLine":347,"endColumn":56,"suggestions":"748"},{"ruleId":"683","severity":1,"message":"746","line":347,"column":69,"nodeType":"747","messageId":"686","endLine":347,"endColumn":70,"suggestions":"749"},{"ruleId":"601","severity":1,"message":"750","line":545,"column":15,"nodeType":"603","messageId":"604","endLine":545,"endColumn":21},{"ruleId":"601","severity":1,"message":"751","line":557,"column":28,"nodeType":"603","messageId":"604","endLine":557,"endColumn":31},{"ruleId":"601","severity":1,"message":"752","line":557,"column":33,"nodeType":"603","messageId":"604","endLine":557,"endColumn":35},{"ruleId":"601","severity":1,"message":"753","line":557,"column":37,"nodeType":"603","messageId":"604","endLine":557,"endColumn":45},{"ruleId":"630","severity":1,"message":"631","line":81,"column":13,"nodeType":"632","messageId":"633","endLine":110,"endColumn":14},{"ruleId":"601","severity":1,"message":"754","line":286,"column":45,"nodeType":"603","messageId":"604","endLine":286,"endColumn":59},{"ruleId":"601","severity":1,"message":"654","line":286,"column":61,"nodeType":"603","messageId":"604","endLine":286,"endColumn":75},{"ruleId":"597","replacedBy":"755"},{"ruleId":"599","replacedBy":"756"},{"ruleId":"601","severity":1,"message":"624","line":9,"column":10,"nodeType":"603","messageId":"604","endLine":9,"endColumn":13},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"757","line":9,"column":30,"nodeType":"603","messageId":"604","endLine":9,"endColumn":35},{"ruleId":"619","severity":1,"message":"758","line":235,"column":6,"nodeType":"621","endLine":235,"endColumn":26,"suggestions":"759"},{"ruleId":"601","severity":1,"message":"760","line":4,"column":3,"nodeType":"603","messageId":"604","endLine":4,"endColumn":8},{"ruleId":"601","severity":1,"message":"761","line":5,"column":3,"nodeType":"603","messageId":"604","endLine":5,"endColumn":7},{"ruleId":"601","severity":1,"message":"730","line":7,"column":3,"nodeType":"603","messageId":"604","endLine":7,"endColumn":8},{"ruleId":"630","severity":1,"message":"631","line":424,"column":9,"nodeType":"632","messageId":"633","endLine":431,"endColumn":10},{"ruleId":"601","severity":1,"message":"762","line":631,"column":15,"nodeType":"603","messageId":"604","endLine":631,"endColumn":25},{"ruleId":"601","severity":1,"message":"763","line":675,"column":17,"nodeType":"603","messageId":"604","endLine":675,"endColumn":26},{"ruleId":"601","severity":1,"message":"764","line":816,"column":13,"nodeType":"603","messageId":"604","endLine":816,"endColumn":16},{"ruleId":"601","severity":1,"message":"765","line":819,"column":15,"nodeType":"603","messageId":"604","endLine":819,"endColumn":30},{"ruleId":"601","severity":1,"message":"766","line":821,"column":15,"nodeType":"603","messageId":"604","endLine":821,"endColumn":30},{"ruleId":"601","severity":1,"message":"763","line":889,"column":17,"nodeType":"603","messageId":"604","endLine":889,"endColumn":26},{"ruleId":"601","severity":1,"message":"767","line":998,"column":11,"nodeType":"603","messageId":"604","endLine":998,"endColumn":22},{"ruleId":"601","severity":1,"message":"602","line":35,"column":9,"nodeType":"603","messageId":"604","endLine":35,"endColumn":16},{"ruleId":"601","severity":1,"message":"717","line":36,"column":7,"nodeType":"603","messageId":"604","endLine":36,"endColumn":13},{"ruleId":"601","severity":1,"message":"768","line":159,"column":9,"nodeType":"603","messageId":"604","endLine":159,"endColumn":16},{"ruleId":"601","severity":1,"message":"702","line":169,"column":15,"nodeType":"603","messageId":"604","endLine":169,"endColumn":21},{"ruleId":"601","severity":1,"message":"769","line":622,"column":15,"nodeType":"603","messageId":"604","endLine":622,"endColumn":24},{"ruleId":"601","severity":1,"message":"750","line":899,"column":15,"nodeType":"603","messageId":"604","endLine":899,"endColumn":21},{"ruleId":"601","severity":1,"message":"770","line":903,"column":15,"nodeType":"603","messageId":"604","endLine":903,"endColumn":22},{"ruleId":"601","severity":1,"message":"751","line":987,"column":28,"nodeType":"603","messageId":"604","endLine":987,"endColumn":31},{"ruleId":"601","severity":1,"message":"752","line":987,"column":33,"nodeType":"603","messageId":"604","endLine":987,"endColumn":35},{"ruleId":"601","severity":1,"message":"753","line":987,"column":37,"nodeType":"603","messageId":"604","endLine":987,"endColumn":45},{"ruleId":"601","severity":1,"message":"645","line":987,"column":53,"nodeType":"603","messageId":"604","endLine":987,"endColumn":63},{"ruleId":"601","severity":1,"message":"646","line":987,"column":65,"nodeType":"603","messageId":"604","endLine":987,"endColumn":73},{"ruleId":"601","severity":1,"message":"647","line":987,"column":75,"nodeType":"603","messageId":"604","endLine":987,"endColumn":81},{"ruleId":"601","severity":1,"message":"658","line":987,"column":111,"nodeType":"603","messageId":"604","endLine":987,"endColumn":117},{"ruleId":"601","severity":1,"message":"659","line":987,"column":119,"nodeType":"603","messageId":"604","endLine":987,"endColumn":129},{"ruleId":"721","severity":1,"message":"722","line":999,"column":11,"nodeType":"642","endLine":1015,"endColumn":12},{"ruleId":"630","severity":1,"message":"631","line":1098,"column":19,"nodeType":"632","messageId":"633","endLine":1117,"endColumn":20},{"ruleId":"640","severity":1,"message":"641","line":1227,"column":17,"nodeType":"642","endLine":1227,"endColumn":52},{"ruleId":"640","severity":1,"message":"641","line":1228,"column":17,"nodeType":"642","endLine":1228,"endColumn":51},{"ruleId":"597","replacedBy":"771"},{"ruleId":"599","replacedBy":"772"},{"ruleId":"597","replacedBy":"773"},{"ruleId":"599","replacedBy":"774"},{"ruleId":"619","severity":1,"message":"775","line":55,"column":8,"nodeType":"621","endLine":55,"endColumn":10,"suggestions":"776"},{"ruleId":"619","severity":1,"message":"777","line":97,"column":8,"nodeType":"621","endLine":97,"endColumn":38,"suggestions":"778"},{"ruleId":"601","severity":1,"message":"602","line":33,"column":9,"nodeType":"603","messageId":"604","endLine":33,"endColumn":16},{"ruleId":"601","severity":1,"message":"717","line":34,"column":7,"nodeType":"603","messageId":"604","endLine":34,"endColumn":13},{"ruleId":"601","severity":1,"message":"768","line":158,"column":9,"nodeType":"603","messageId":"604","endLine":158,"endColumn":16},{"ruleId":"601","severity":1,"message":"702","line":168,"column":15,"nodeType":"603","messageId":"604","endLine":168,"endColumn":21},{"ruleId":"601","severity":1,"message":"769","line":589,"column":15,"nodeType":"603","messageId":"604","endLine":589,"endColumn":24},{"ruleId":"601","severity":1,"message":"750","line":864,"column":15,"nodeType":"603","messageId":"604","endLine":864,"endColumn":21},{"ruleId":"601","severity":1,"message":"770","line":868,"column":15,"nodeType":"603","messageId":"604","endLine":868,"endColumn":22},{"ruleId":"601","severity":1,"message":"751","line":952,"column":28,"nodeType":"603","messageId":"604","endLine":952,"endColumn":31},{"ruleId":"601","severity":1,"message":"752","line":952,"column":33,"nodeType":"603","messageId":"604","endLine":952,"endColumn":35},{"ruleId":"601","severity":1,"message":"753","line":952,"column":37,"nodeType":"603","messageId":"604","endLine":952,"endColumn":45},{"ruleId":"601","severity":1,"message":"645","line":952,"column":53,"nodeType":"603","messageId":"604","endLine":952,"endColumn":63},{"ruleId":"601","severity":1,"message":"646","line":952,"column":65,"nodeType":"603","messageId":"604","endLine":952,"endColumn":73},{"ruleId":"601","severity":1,"message":"647","line":952,"column":75,"nodeType":"603","messageId":"604","endLine":952,"endColumn":81},{"ruleId":"601","severity":1,"message":"658","line":952,"column":111,"nodeType":"603","messageId":"604","endLine":952,"endColumn":117},{"ruleId":"601","severity":1,"message":"659","line":952,"column":119,"nodeType":"603","messageId":"604","endLine":952,"endColumn":129},{"ruleId":"721","severity":1,"message":"722","line":964,"column":11,"nodeType":"642","endLine":980,"endColumn":12},{"ruleId":"630","severity":1,"message":"631","line":1062,"column":19,"nodeType":"632","messageId":"633","endLine":1081,"endColumn":20},{"ruleId":"640","severity":1,"message":"641","line":1175,"column":17,"nodeType":"642","endLine":1175,"endColumn":52},{"ruleId":"640","severity":1,"message":"641","line":1176,"column":17,"nodeType":"642","endLine":1176,"endColumn":51},{"ruleId":"601","severity":1,"message":"779","line":4,"column":3,"nodeType":"603","messageId":"604","endLine":4,"endColumn":10},{"ruleId":"601","severity":1,"message":"780","line":12,"column":10,"nodeType":"603","messageId":"604","endLine":12,"endColumn":30},{"ruleId":"601","severity":1,"message":"781","line":12,"column":32,"nodeType":"603","messageId":"604","endLine":12,"endColumn":44},{"ruleId":"601","severity":1,"message":"782","line":12,"column":46,"nodeType":"603","messageId":"604","endLine":12,"endColumn":61},{"ruleId":"601","severity":1,"message":"675","line":22,"column":7,"nodeType":"603","messageId":"604","endLine":22,"endColumn":14},{"ruleId":"601","severity":1,"message":"648","line":319,"column":21,"nodeType":"603","messageId":"604","endLine":319,"endColumn":29},{"ruleId":"601","severity":1,"message":"783","line":319,"column":31,"nodeType":"603","messageId":"604","endLine":319,"endColumn":37},{"ruleId":"721","severity":1,"message":"722","line":479,"column":36,"nodeType":"642","endLine":479,"endColumn":71},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"757","line":9,"column":30,"nodeType":"603","messageId":"604","endLine":9,"endColumn":35},{"ruleId":"601","severity":1,"message":"629","line":22,"column":9,"nodeType":"603","messageId":"604","endLine":22,"endColumn":15},{"ruleId":"601","severity":1,"message":"784","line":45,"column":11,"nodeType":"603","messageId":"604","endLine":45,"endColumn":17},{"ruleId":"601","severity":1,"message":"785","line":45,"column":19,"nodeType":"603","messageId":"604","endLine":45,"endColumn":24},{"ruleId":"601","severity":1,"message":"655","line":61,"column":9,"nodeType":"603","messageId":"604","endLine":61,"endColumn":22},{"ruleId":"601","severity":1,"message":"674","line":144,"column":18,"nodeType":"603","messageId":"604","endLine":144,"endColumn":27},{"ruleId":"601","severity":1,"message":"673","line":144,"column":29,"nodeType":"603","messageId":"604","endLine":144,"endColumn":37},{"ruleId":"640","severity":1,"message":"641","line":548,"column":19,"nodeType":"642","endLine":555,"endColumn":61},{"ruleId":"721","severity":1,"message":"722","line":563,"column":19,"nodeType":"642","endLine":571,"endColumn":30},{"ruleId":"640","severity":1,"message":"641","line":34,"column":11,"nodeType":"642","endLine":37,"endColumn":13},{"ruleId":"640","severity":1,"message":"641","line":43,"column":13,"nodeType":"642","endLine":46,"endColumn":15},{"ruleId":"640","severity":1,"message":"641","line":51,"column":11,"nodeType":"642","endLine":54,"endColumn":13},{"ruleId":"640","severity":1,"message":"641","line":64,"column":11,"nodeType":"642","endLine":67,"endColumn":13},{"ruleId":"601","severity":1,"message":"786","line":61,"column":13,"nodeType":"603","messageId":"604","endLine":61,"endColumn":22},{"ruleId":"601","severity":1,"message":"787","line":9,"column":15,"nodeType":"603","messageId":"604","endLine":9,"endColumn":23},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"757","line":9,"column":30,"nodeType":"603","messageId":"604","endLine":9,"endColumn":35},{"ruleId":"601","severity":1,"message":"788","line":30,"column":9,"nodeType":"603","messageId":"604","endLine":30,"endColumn":16},{"ruleId":"601","severity":1,"message":"789","line":19,"column":5,"nodeType":"603","messageId":"604","endLine":19,"endColumn":10},{"ruleId":"630","severity":1,"message":"631","line":165,"column":9,"nodeType":"632","messageId":"633","endLine":183,"endColumn":10},{"ruleId":"601","severity":1,"message":"717","line":19,"column":7,"nodeType":"603","messageId":"604","endLine":19,"endColumn":13},{"ruleId":"601","severity":1,"message":"629","line":7,"column":9,"nodeType":"603","messageId":"604","endLine":7,"endColumn":15},{"ruleId":"601","severity":1,"message":"784","line":20,"column":11,"nodeType":"603","messageId":"604","endLine":20,"endColumn":17},{"ruleId":"601","severity":1,"message":"785","line":20,"column":19,"nodeType":"603","messageId":"604","endLine":20,"endColumn":24},{"ruleId":"601","severity":1,"message":"655","line":109,"column":9,"nodeType":"603","messageId":"604","endLine":109,"endColumn":22},{"ruleId":"601","severity":1,"message":"725","line":16,"column":5,"nodeType":"603","messageId":"604","endLine":16,"endColumn":12},{"ruleId":"619","severity":1,"message":"790","line":53,"column":6,"nodeType":"621","endLine":53,"endColumn":41,"suggestions":"791"},{"ruleId":"601","severity":1,"message":"624","line":9,"column":10,"nodeType":"603","messageId":"604","endLine":9,"endColumn":13},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"787","line":9,"column":15,"nodeType":"603","messageId":"604","endLine":9,"endColumn":23},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"624","line":9,"column":10,"nodeType":"603","messageId":"604","endLine":9,"endColumn":13},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"787","line":9,"column":15,"nodeType":"603","messageId":"604","endLine":9,"endColumn":23},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"757","line":9,"column":30,"nodeType":"603","messageId":"604","endLine":9,"endColumn":35},{"ruleId":"619","severity":1,"message":"792","line":85,"column":6,"nodeType":"621","endLine":85,"endColumn":8,"suggestions":"793"},{"ruleId":"630","severity":1,"message":"631","line":77,"column":11,"nodeType":"632","messageId":"633","endLine":98,"endColumn":12},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"624","line":9,"column":10,"nodeType":"603","messageId":"604","endLine":9,"endColumn":13},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"624","line":9,"column":10,"nodeType":"603","messageId":"604","endLine":9,"endColumn":13},{"ruleId":"601","severity":1,"message":"623","line":9,"column":25,"nodeType":"603","messageId":"604","endLine":9,"endColumn":28},{"ruleId":"601","severity":1,"message":"757","line":9,"column":30,"nodeType":"603","messageId":"604","endLine":9,"endColumn":35},"no-native-reassign",["794"],"no-negated-in-lhs",["795"],"no-unused-vars","'SubMenu' is assigned a value but never used.","Identifier","unusedVar",["794"],["795"],["794"],["795"],"'devWidth' is assigned a value but never used.","'size' is assigned a value but never used.","no-unreachable","Unreachable code.","VariableDeclaration","unreachableCode","'windowssize' is assigned a value but never used.","'timer' is assigned a value but never used.",["794"],["795"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'selectHardwareInfoFun' and 'selectHardwareType'. Either include them or remove the dependency array. If 'selectHardwareInfoFun' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["796"],"'del' is defined but never used.","'get' is defined but never used.","'Close' is defined but never used.","'MyModal' is defined but never used.","'PhoneBook' is defined but never used.","'Button' is defined but never used.","'Option' is assigned a value but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'petSpecies' is assigned a value but never used.","'imgurl' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'patientId' is assigned a value but never used.","'age' is assigned a value but never used.","'closeColor' is assigned a value but never used.","'closebgc' is assigned a value but never used.","'minbgc' is assigned a value but never used.","'disabled' is assigned a value but never used.","'petSpeciesBreedId' is assigned a value but never used.","'isMix' is assigned a value but never used.","'confirmSelectBreedJson' is assigned a value but never used.",["794"],["795"],"'editInputValue' is assigned a value but never used.","'windowsHeight' is assigned a value but never used.","'selectDeviceName' is assigned a value but never used.","'isClicleStudy' is assigned a value but never used.","'sortBy' is assigned a value but never used.","'showsortBy' is assigned a value but never used.","'bodyHeight' is assigned a value but never used.",["794"],["795"],"'connectionKey' is assigned a value but never used.","'selectRoleId' is assigned a value but never used.","'workplaceName' is assigned a value but never used.","'workplaceId' is assigned a value but never used.","'organizationId' is assigned a value but never used.","'setOrganizationId' is assigned a value but never used.","React Hook useEffect has a missing dependency: '_getExam'. Either include it or remove the dependency array.",["797"],"'url' is assigned a value but never used.","'petName' is assigned a value but never used.","'lastName' is assigned a value but never used.","'firstName' is assigned a value but never used.","'options' is assigned a value but never used.","'breedName' is assigned a value but never used.",["794"],["795"],"'lastOrganization' is assigned a value but never used.","'num' is assigned a value but never used.","'wen1' is assigned a value but never used.","'placeholder1' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["798","799"],"Unnecessary escape character: \\-.",["800","801"],["802","803"],["804","805"],["806","807"],["808","809"],["810","811"],["812","813"],["814","815"],["816","817"],["818","819"],["820","821"],"'measuerStatus' is assigned a value but never used.","'birthday' is assigned a value but never used.","'weight' is assigned a value but never used.",["822","823"],["824","825"],["826","827"],["828","829"],["794"],["795"],"'address' is assigned a value but never used.","'displayName' is assigned a value but never used.","'phoneNumber' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'addLogin' is defined but never used.","'MyIcon' is assigned a value but never used.","'isCode' is assigned a value but never used.","'baseUrl' is assigned a value but never used.","'code' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["794"],["795"],"'storage' is assigned a value but never used.","'errPatientId' is assigned a value but never used.","'userImage' is assigned a value but never used.",["794"],["795"],"'Space' is defined but never used.","'Tag' is defined but never used.","'memo' is assigned a value but never used.","'hisHe' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getPetTemperatureData'. Either include it or remove the dependency array.",["830"],"React Hook useEffect has a missing dependency: 'storage.userId'. Either include it or remove the dependency array.",["831"],"'params' is assigned a value but never used.","'bree_id' is assigned a value but never used.","'animalcolour_id' is assigned a value but never used.","'guid' is assigned a value but never used.","'referring_clinic_id' is assigned a value but never used.","'referring_vet_id' is assigned a value but never used.","'residence_contact_id' is assigned a value but never used.","'species_id' is assigned a value but never used.","Unnecessary escape character: \\\".","TemplateElement",["832","833"],["834","835"],"'chazhi' is assigned a value but never used.","'api' is assigned a value but never used.","'id' is assigned a value but never used.","'seleceID' is assigned a value but never used.","'editInputIndex' is assigned a value but never used.",["794"],["795"],"'patch' is defined but never used.","React Hook useEffect has missing dependencies: 'hardwareList' and 'selectHardwareInfo'. Either include them or remove the dependency array.",["836"],"'Input' is defined but never used.","'Form' is defined but never used.","'sendWeight' is assigned a value but never used.","'ITEMINDEX' is assigned a value but never used.","'mac' is assigned a value but never used.","'hardwareVersion' is assigned a value but never used.","'softwareVersion' is assigned a value but never used.","'offsetWidth' is assigned a value but never used.","'dataArr' is assigned a value but never used.","'selectNum' is assigned a value but never used.","'newTime' is assigned a value but never used.",["794"],["795"],["794"],["795"],"React Hook useEffect has a missing dependency: 'setReceiveBroadcastHardwareInfoFun'. Either include it or remove the dependency array. If 'setReceiveBroadcastHardwareInfoFun' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["837"],"React Hook useEffect has a missing dependency: 'devicesList'. Either include it or remove the dependency array.",["838"],"'message' is defined but never used.","'createFromIconfontCN' is defined but never used.","'SyncOutlined' is defined but never used.","'LoadingOutlined' is defined but never used.","'bounds' is assigned a value but never used.","'height' is assigned a value but never used.","'width' is assigned a value but never used.","'chooseNum' is assigned a value but never used.","'postJson' is defined but never used.","'_resend' is assigned a value but never used.","'num07' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'hardwareInfo'. Either include it or remove the dependency array.",["839"],"React Hook useEffect has missing dependencies: 'destroyOnClose' and 'width'. Either include them or remove the dependency array. If 'setIsdestroyOnClose' needs the current value of 'destroyOnClose', you can also switch to useReducer instead of useState and read 'destroyOnClose' in the reducer.",["840"],"no-global-assign","no-unsafe-negation",{"desc":"841","fix":"842"},{"desc":"843","fix":"844"},{"messageId":"845","fix":"846","desc":"847"},{"messageId":"848","fix":"849","desc":"850"},{"messageId":"845","fix":"851","desc":"847"},{"messageId":"848","fix":"852","desc":"850"},{"messageId":"845","fix":"853","desc":"847"},{"messageId":"848","fix":"854","desc":"850"},{"messageId":"845","fix":"855","desc":"847"},{"messageId":"848","fix":"856","desc":"850"},{"messageId":"845","fix":"857","desc":"847"},{"messageId":"848","fix":"858","desc":"850"},{"messageId":"845","fix":"859","desc":"847"},{"messageId":"848","fix":"860","desc":"850"},{"messageId":"845","fix":"861","desc":"847"},{"messageId":"848","fix":"862","desc":"850"},{"messageId":"845","fix":"863","desc":"847"},{"messageId":"848","fix":"864","desc":"850"},{"messageId":"845","fix":"865","desc":"847"},{"messageId":"848","fix":"866","desc":"850"},{"messageId":"845","fix":"867","desc":"847"},{"messageId":"848","fix":"868","desc":"850"},{"messageId":"845","fix":"869","desc":"847"},{"messageId":"848","fix":"870","desc":"850"},{"messageId":"845","fix":"871","desc":"847"},{"messageId":"848","fix":"872","desc":"850"},{"messageId":"845","fix":"873","desc":"847"},{"messageId":"848","fix":"874","desc":"850"},{"messageId":"845","fix":"875","desc":"847"},{"messageId":"848","fix":"876","desc":"850"},{"messageId":"845","fix":"877","desc":"847"},{"messageId":"848","fix":"878","desc":"850"},{"messageId":"845","fix":"879","desc":"847"},{"messageId":"848","fix":"880","desc":"850"},{"desc":"881","fix":"882"},{"desc":"883","fix":"884"},{"messageId":"845","fix":"885","desc":"847"},{"messageId":"848","fix":"886","desc":"850"},{"messageId":"845","fix":"887","desc":"847"},{"messageId":"848","fix":"888","desc":"850"},{"desc":"889","fix":"890"},{"desc":"891","fix":"892"},{"desc":"893","fix":"894"},{"desc":"895","fix":"896"},{"desc":"897","fix":"898"},"Update the dependencies array to be: [devicesTypeList, selectHardwareInfoFun, selectHardwareType]",{"range":"899","text":"900"},"Update the dependencies array to be: [_getExam]",{"range":"901","text":"902"},"removeEscape",{"range":"903","text":"904"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"905","text":"906"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"907","text":"904"},{"range":"908","text":"906"},{"range":"909","text":"904"},{"range":"910","text":"906"},{"range":"911","text":"904"},{"range":"912","text":"906"},{"range":"913","text":"904"},{"range":"914","text":"906"},{"range":"915","text":"904"},{"range":"916","text":"906"},{"range":"917","text":"904"},{"range":"918","text":"906"},{"range":"919","text":"904"},{"range":"920","text":"906"},{"range":"921","text":"904"},{"range":"922","text":"906"},{"range":"923","text":"904"},{"range":"924","text":"906"},{"range":"925","text":"904"},{"range":"926","text":"906"},{"range":"927","text":"904"},{"range":"928","text":"906"},{"range":"929","text":"904"},{"range":"930","text":"906"},{"range":"931","text":"904"},{"range":"932","text":"906"},{"range":"933","text":"904"},{"range":"934","text":"906"},{"range":"935","text":"904"},{"range":"936","text":"906"},"Update the dependencies array to be: [getPetTemperatureData, petMessage]",{"range":"937","text":"938"},"Update the dependencies array to be: [storage.userId]",{"range":"939","text":"940"},{"range":"941","text":"904"},{"range":"942","text":"906"},{"range":"943","text":"904"},{"range":"944","text":"906"},"Update the dependencies array to be: [hardwareList, selectHardwareInfo, selectHardwareType]",{"range":"945","text":"946"},"Update the dependencies array to be: [setReceiveBroadcastHardwareInfoFun]",{"range":"947","text":"948"},"Update the dependencies array to be: [devicesList, receiveBroadcastHardwareInfo]",{"range":"949","text":"950"},"Update the dependencies array to be: [selectHardwareType, hardwareList, hardwareInfo]",{"range":"951","text":"952"},"Update the dependencies array to be: [destroyOnClose, width]",{"range":"953","text":"954"},[4384,4401],"[devicesTypeList, selectHardwareInfoFun, selectHardwareType]",[9946,9948],"[_getExam]",[66172,66173],"",[66172,66172],"\\",[66278,66279],[66278,66278],[67100,67101],[67100,67100],[67206,67207],[67206,67206],[68043,68044],[68043,68043],[68149,68150],[68149,68149],[69420,69421],[69420,69420],[69526,69527],[69526,69526],[70310,70311],[70310,70310],[70416,70417],[70416,70416],[71293,71294],[71293,71293],[71399,71400],[71399,71399],[95465,95466],[95465,95465],[95571,95572],[95571,95571],[96141,96142],[96141,96141],[96247,96248],[96247,96247],[12700,12712],"[getPetTemperatureData, petMessage]",[12900,12902],"[storage.userId]",[12381,12382],[12381,12381],[12395,12396],[12395,12395],[6999,7019],"[hardwareList, selectHardwareInfo, selectHardwareType]",[2172,2174],"[setReceiveBroadcastHardwareInfoFun]",[3441,3471],"[devicesList, receiveBroadcastHardwareInfo]",[1854,1889],"[selectHardwareType, hardwareList, hardwareInfo]",[2079,2081],"[destroyOnClose, width]"]