[{"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\measure\\NorMalMeasurement.jsx":"1","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\settings\\Settings.jsx":"2","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\minClose\\MinClose.js":"3","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\AddDevice.jsx":"4","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\index.jsx":"5","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scanPage\\index.jsx":"6","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scheduledPetsPage\\index.js":"7","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\index.jsx":"8","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\uploadImg\\UploadImg.js":"9","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\HardListModal.jsx":"10","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\components\\measurement.jsx":"11","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\components\\headerItem.jsx":"12","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\biggiePage\\components\\linkEquipment.jsx":"13","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\components\\swabPetEar\\index.jsx":"14","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\components\\experimental\\index.jsx":"15","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\appversion.js":"16","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\HardAndPetsUI.jsx":"17","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\addScheduledPet\\index.jsx":"18","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\components\\linkEquipment.jsx":"19","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\PetsUI.jsx":"20","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\components\\timer\\index.jsx":"21","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\components\\linkEquipment\\index.jsx":"22","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scanPage\\components\\LinkEquipment.jsx":"23","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\historyTable\\index.jsx":"24","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\home\\Home.jsx":"25","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\advancedSettings\\AdvancedSettings.jsx":"26","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\heard\\Heard.js":"27","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\clinicalStudyPage\\index.jsx":"28","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\doctorAddPet\\DoctorAddPet.jsx":"29","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\allPetsPage\\index.jsx":"30","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\petTable\\index.jsx":"31","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\editPetInfo\\EditPetInfo.jsx":"32","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\hardWareTypeUI.jsx":"33","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\index.jsx":"34","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\biggiePage\\index.jsx":"35","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\doctorSelectExam\\DoctorSelectAllExam.jsx":"36","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\components\\measuredData.jsx":"37","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scanPage\\components\\scanPet.jsx":"38","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\combineScales\\index.jsx":"39","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\biggiePage\\Biggie.jsx":"40","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\myAccount\\index.jsx":"41","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\help\\Help.jsx":"42","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\signIn\\SignIn.jsx":"43","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\orgAndPractice\\ConnectWorkplace.jsx":"44","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\App.js":"45","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\choose\\Choose.jsx":"46","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\selectMella\\SelectMella.jsx":"47","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\ezyVetSelectTime\\EzyVetSelectTime.jsx":"48","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\doctorSelectExam\\DoctorSelectScheduledExam.jsx":"49","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\vetProfile\\VetPrifile.jsx":"50","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\joinOrganizationByOption\\JoinOrganizationByOption.jsx":"51","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\newWorkplace\\NewWorkplace.jsx":"52","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\inviteTeam\\InviteTeam.jsx":"53","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\verifyEmail\\index.jsx":"54","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\unassigned\\Unassigned.jsx":"55","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\FetchUtil2.js":"56","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\mouseDiv\\MouseDiv.js":"57","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\axios\\index.js":"58","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\reducers\\petReduce.js":"59","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\reducers\\hardwareReduce.js":"60","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actions\\index.js":"61","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actionTypes\\hardwareType.js":"62","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\button\\Button.js":"63","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actionTypes\\index.js":"64","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actions\\hardwareAction.js":"65","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actionTypes\\petType.js":"66","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scanPage\\components\\numericInput.jsx":"67","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\slider\\Slider.js":"68","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\phoneBook\\PhoneBook.jsx":"69","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\Fetch_token.js":"70","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\ezyVetSelectExam\\EzyVetSelectExam.js":"71","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\ezyVetLogin\\EzyVetLogin.jsx":"72","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\selectExam\\SelectExam.jsx":"73","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\signIn\\scanCodeLogin\\ScanCodeLogin.jsx":"74","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\signIn\\resetPassword\\ResetPassword.jsx":"75","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\maxminreturn\\MaxMinReturn.jsx":"76","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\ishavePMS\\IsHavePMS.jsx":"77","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\invite\\Invite.jsx":"78","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\addDevice\\AddDevice.jsx":"79","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\FetchEszVet.js":"80","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\temporaryStorage.js":"81","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\reducers\\index.js":"82","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\myModal\\MyModal.jsx":"83","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\axios\\http.js":"84","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\InitDate.js":"85","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\FetchUtil3.js":"86","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\apiKey\\APIKey.jsx":"87","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\signIn\\forgotPassword\\ForgotPassword.jsx":"88","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\findMyWorkplace\\FindMyWorkplace.jsx":"89","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\admin_VetProfile\\Veterinarians.jsx":"90","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\electronStore.js":"91","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\selectionBox\\SelectionBox.jsx":"92","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\reducers\\userReduce.js":"93","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actionTypes\\userType.js":"94","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\FetchUtil4.js":"95"},{"size":141795,"mtime":1660039584357,"results":"96","hashOfConfig":"97"},{"size":25269,"mtime":1660292191032,"results":"98","hashOfConfig":"97"},{"size":2445,"mtime":1660039584374,"results":"99","hashOfConfig":"97"},{"size":14685,"mtime":1657699131947,"results":"100","hashOfConfig":"97"},{"size":2162,"mtime":1660122220025,"results":"101","hashOfConfig":"97"},{"size":1575,"mtime":1660122892316,"results":"102","hashOfConfig":"97"},{"size":6913,"mtime":1660273224917,"results":"103","hashOfConfig":"97"},{"size":2259,"mtime":1660123074629,"results":"104","hashOfConfig":"97"},{"size":3044,"mtime":1655168677819,"results":"105","hashOfConfig":"97"},{"size":8152,"mtime":1656067360425,"results":"106","hashOfConfig":"97"},{"size":3569,"mtime":1660200016614,"results":"107","hashOfConfig":"97"},{"size":10994,"mtime":1660214689148,"results":"108","hashOfConfig":"97"},{"size":1562,"mtime":1657271071421,"results":"109","hashOfConfig":"97"},{"size":2695,"mtime":1658483746593,"results":"110","hashOfConfig":"97"},{"size":2508,"mtime":1658483803920,"results":"111","hashOfConfig":"97"},{"size":75,"mtime":1660301478034,"results":"112","hashOfConfig":"97"},{"size":3450,"mtime":1660122215508,"results":"113","hashOfConfig":"97"},{"size":12986,"mtime":1657699200148,"results":"114","hashOfConfig":"97"},{"size":6751,"mtime":1660196282287,"results":"115","hashOfConfig":"97"},{"size":8614,"mtime":1660631264007,"results":"116","hashOfConfig":"97"},{"size":1201,"mtime":1658485132416,"results":"117","hashOfConfig":"97"},{"size":1738,"mtime":1658479581468,"results":"118","hashOfConfig":"97"},{"size":1232,"mtime":1657622269661,"results":"119","hashOfConfig":"97"},{"size":11905,"mtime":1660208145497,"results":"120","hashOfConfig":"97"},{"size":5021,"mtime":1660533893240,"results":"121","hashOfConfig":"97"},{"size":9454,"mtime":1660025444490,"results":"122","hashOfConfig":"97"},{"size":53620,"mtime":1660299902571,"results":"123","hashOfConfig":"97"},{"size":57382,"mtime":1660614761473,"results":"124","hashOfConfig":"97"},{"size":32102,"mtime":1660530831431,"results":"125","hashOfConfig":"97"},{"size":7364,"mtime":1660272475546,"results":"126","hashOfConfig":"97"},{"size":9487,"mtime":1660272886460,"results":"127","hashOfConfig":"97"},{"size":35730,"mtime":1660099518792,"results":"128","hashOfConfig":"97"},{"size":5380,"mtime":1660113149680,"results":"129","hashOfConfig":"97"},{"size":40043,"mtime":1660122503204,"results":"130","hashOfConfig":"97"},{"size":9657,"mtime":1660270006396,"results":"131","hashOfConfig":"97"},{"size":36877,"mtime":1660626190038,"results":"132","hashOfConfig":"97"},{"size":17192,"mtime":1660552920574,"results":"133","hashOfConfig":"97"},{"size":16139,"mtime":1660209371349,"results":"134","hashOfConfig":"97"},{"size":8651,"mtime":1660211996599,"results":"135","hashOfConfig":"97"},{"size":4230,"mtime":1660272077396,"results":"136","hashOfConfig":"97"},{"size":10781,"mtime":1660560848714,"results":"137","hashOfConfig":"97"},{"size":4460,"mtime":1660293862756,"results":"138","hashOfConfig":"97"},{"size":17834,"mtime":1660297296635,"results":"139","hashOfConfig":"97"},{"size":8753,"mtime":1660299992454,"results":"140","hashOfConfig":"97"},{"size":7380,"mtime":1659921321634,"results":"141","hashOfConfig":"97"},{"size":3737,"mtime":1655168677392,"results":"142","hashOfConfig":"97"},{"size":3973,"mtime":1655168677493,"results":"143","hashOfConfig":"97"},{"size":5178,"mtime":1655168677434,"results":"144","hashOfConfig":"97"},{"size":39476,"mtime":1655467295805,"results":"145","hashOfConfig":"97"},{"size":17372,"mtime":1655168677415,"results":"146","hashOfConfig":"97"},{"size":17948,"mtime":1657786565842,"results":"147","hashOfConfig":"97"},{"size":13023,"mtime":1655168677410,"results":"148","hashOfConfig":"97"},{"size":13209,"mtime":1658121326034,"results":"149","hashOfConfig":"97"},{"size":4706,"mtime":1655168677413,"results":"150","hashOfConfig":"97"},{"size":36190,"mtime":1660633333800,"results":"151","hashOfConfig":"97"},{"size":2667,"mtime":1655168677528,"results":"152","hashOfConfig":"97"},{"size":1451,"mtime":1655168677805,"results":"153","hashOfConfig":"97"},{"size":431,"mtime":1655168677773,"results":"154","hashOfConfig":"97"},{"size":697,"mtime":1655467295909,"results":"155","hashOfConfig":"97"},{"size":4641,"mtime":1656498255379,"results":"156","hashOfConfig":"97"},{"size":91,"mtime":1655467295880,"results":"157","hashOfConfig":"97"},{"size":2103,"mtime":1656498255375,"results":"158","hashOfConfig":"97"},{"size":1041,"mtime":1655168677775,"results":"159","hashOfConfig":"97"},{"size":89,"mtime":1655467295873,"results":"160","hashOfConfig":"97"},{"size":3856,"mtime":1656498255377,"results":"161","hashOfConfig":"97"},{"size":224,"mtime":1655467295875,"results":"162","hashOfConfig":"97"},{"size":1365,"mtime":1655880805276,"results":"163","hashOfConfig":"97"},{"size":4449,"mtime":1655168677816,"results":"164","hashOfConfig":"97"},{"size":8224,"mtime":1657874652863,"results":"165","hashOfConfig":"97"},{"size":3717,"mtime":1655168677531,"results":"166","hashOfConfig":"97"},{"size":52226,"mtime":1657870031391,"results":"167","hashOfConfig":"97"},{"size":7357,"mtime":1655168677429,"results":"168","hashOfConfig":"97"},{"size":12757,"mtime":1655168677486,"results":"169","hashOfConfig":"97"},{"size":6007,"mtime":1655168677501,"results":"170","hashOfConfig":"97"},{"size":7651,"mtime":1655168677499,"results":"171","hashOfConfig":"97"},{"size":2615,"mtime":1655168677801,"results":"172","hashOfConfig":"97"},{"size":1675,"mtime":1657868968877,"results":"173","hashOfConfig":"97"},{"size":6972,"mtime":1655168677464,"results":"174","hashOfConfig":"97"},{"size":13651,"mtime":1655168677451,"results":"175","hashOfConfig":"97"},{"size":3579,"mtime":1655168677525,"results":"176","hashOfConfig":"97"},{"size":1275,"mtime":1655168677817,"results":"177","hashOfConfig":"97"},{"size":249,"mtime":1655467295885,"results":"178","hashOfConfig":"97"},{"size":1410,"mtime":1655168677807,"results":"179","hashOfConfig":"97"},{"size":846,"mtime":1655168677772,"results":"180","hashOfConfig":"97"},{"size":71,"mtime":1657699049494,"results":"181","hashOfConfig":"97"},{"size":2624,"mtime":1655168677529,"results":"182","hashOfConfig":"97"},{"size":8762,"mtime":1655168677387,"results":"183","hashOfConfig":"97"},{"size":12510,"mtime":1658121443727,"results":"184","hashOfConfig":"97"},{"size":6453,"mtime":1657269085098,"results":"185","hashOfConfig":"97"},{"size":15939,"mtime":1655168677454,"results":"186","hashOfConfig":"97"},{"size":343,"mtime":1655168677793,"results":"187","hashOfConfig":"97"},{"size":3371,"mtime":1655168677813,"results":"188","hashOfConfig":"97"},{"size":465,"mtime":1657709941429,"results":"189","hashOfConfig":"97"},{"size":88,"mtime":1657709847680,"results":"190","hashOfConfig":"97"},{"size":3018,"mtime":1660039370597,"results":"191","hashOfConfig":"97"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":0,"source":"194","usedDeprecatedRules":"195"},"1wlgw0n",{"filePath":"196","messages":"197","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"198","usedDeprecatedRules":"199"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"202","usedDeprecatedRules":"195"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205","usedDeprecatedRules":"195"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"208","usedDeprecatedRules":"209"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"212","messages":"213","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"214","usedDeprecatedRules":"195"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"217","usedDeprecatedRules":"195"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"220","usedDeprecatedRules":"199"},{"filePath":"221","messages":"222","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"223","usedDeprecatedRules":"195"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"226","usedDeprecatedRules":"209"},{"filePath":"227","messages":"228","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"229","messages":"230","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"231","usedDeprecatedRules":"232"},{"filePath":"233","messages":"234","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"235","usedDeprecatedRules":"195"},{"filePath":"236","messages":"237","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"238","usedDeprecatedRules":"232"},{"filePath":"239","messages":"240","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"241","messages":"242","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"243","usedDeprecatedRules":"199"},{"filePath":"244","messages":"245","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"246","usedDeprecatedRules":"209"},{"filePath":"247","messages":"248","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"249","messages":"250","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"251","messages":"252","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"253","messages":"254","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"255","usedDeprecatedRules":"199"},{"filePath":"256","messages":"257","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"258","usedDeprecatedRules":"195"},{"filePath":"259","messages":"260","errorCount":0,"warningCount":23,"fixableErrorCount":0,"fixableWarningCount":0,"source":"261","usedDeprecatedRules":"199"},{"filePath":"262","messages":"263","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"264","messages":"265","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"199"},{"filePath":"266","messages":"267","errorCount":0,"warningCount":34,"fixableErrorCount":0,"fixableWarningCount":0,"source":"268","usedDeprecatedRules":"209"},{"filePath":"269","messages":"270","errorCount":0,"warningCount":31,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"271","messages":"272","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"273","messages":"274","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"275","usedDeprecatedRules":"195"},{"filePath":"276","messages":"277","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"278","messages":"279","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"280","usedDeprecatedRules":"195"},{"filePath":"281","messages":"282","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"283","usedDeprecatedRules":"209"},{"filePath":"284","messages":"285","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"286","usedDeprecatedRules":"199"},{"filePath":"287","messages":"288","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"289","usedDeprecatedRules":"195"},{"filePath":"290","messages":"291","errorCount":0,"warningCount":28,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"292","messages":"293","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"294","messages":"295","errorCount":0,"warningCount":34,"fixableErrorCount":0,"fixableWarningCount":0,"source":"296","usedDeprecatedRules":"199"},{"filePath":"297","messages":"298","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"299","messages":"300","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"301","usedDeprecatedRules":"195"},{"filePath":"302","messages":"303","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"304","messages":"305","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"306","usedDeprecatedRules":"195"},{"filePath":"307","messages":"308","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"309","usedDeprecatedRules":"195"},{"filePath":"310","messages":"311","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"312","messages":"313","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"314","usedDeprecatedRules":"195"},{"filePath":"315","messages":"316","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"195"},{"filePath":"317","messages":"318","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"319","messages":"320","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"321","usedDeprecatedRules":"199"},{"filePath":"322","messages":"323","errorCount":0,"warningCount":28,"fixableErrorCount":0,"fixableWarningCount":0,"source":"324","usedDeprecatedRules":"199"},{"filePath":"325","messages":"326","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"327","usedDeprecatedRules":"199"},{"filePath":"328","messages":"329","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"330","usedDeprecatedRules":"195"},{"filePath":"331","messages":"332","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"333","usedDeprecatedRules":"199"},{"filePath":"334","messages":"335","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"336","usedDeprecatedRules":"195"},{"filePath":"337","messages":"338","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"339","messages":"340","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"341"},{"filePath":"342","messages":"343","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"344","messages":"345","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"346","messages":"347","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"195"},{"filePath":"348","messages":"349","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"350","messages":"351","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"195"},{"filePath":"352","messages":"353","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"354","messages":"355","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"356","messages":"357","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"195"},{"filePath":"358","messages":"359","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"360","messages":"361","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"195"},{"filePath":"362","messages":"363","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"199"},{"filePath":"364","messages":"365","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"366"},{"filePath":"367","messages":"368","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"369","messages":"370","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"371","messages":"372","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"373"},{"filePath":"374","messages":"375","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"376","usedDeprecatedRules":"195"},{"filePath":"377","messages":"378","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"379","messages":"380","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"381","usedDeprecatedRules":"195"},{"filePath":"382","messages":"383","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"384","messages":"385","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"386","messages":"387","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"388","messages":"389","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"390","messages":"391","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"392","usedDeprecatedRules":"195"},{"filePath":"393","messages":"394","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"395","messages":"396","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"397","messages":"398","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"399","messages":"400","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"401","messages":"402","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"403","messages":"404","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"405","messages":"406","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"195"},{"filePath":"407","messages":"408","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"409","messages":"410","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"411","messages":"412","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"413","messages":"414","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"415","messages":"416","errorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"417","messages":"418","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"419","messages":"420","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"421","messages":"422","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"423","messages":"424","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"425","messages":"426","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\measure\\NorMalMeasurement.jsx",["427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450"],"import React, { Component } from 'react'\r\nimport { Menu, Table, Popconfirm, Tooltip, message, Select, Progress, Input, Modal } from 'antd';\r\nimport Draggable from \"react-draggable\";\r\nimport moment from 'moment'\r\n//import 'antd/dist/antd.css';\r\nimport { createFromIconfontCN, LoadingOutlined, SyncOutlined } from '@ant-design/icons';\r\n\r\n\r\n\r\nimport { fetchRequest } from './../../utils/FetchUtil1'\r\nimport { fetchRequest1 } from './../../utils/FetchUtil'\r\nimport { fetchRequest2 } from './../../utils/FetchUtil2'\r\nimport { FetchEszVet } from './../../utils/FetchEszVet'\r\n\r\nimport ye from './../../assets/images/ye1.png'\r\nimport er from './../../assets/images/er3.png'\r\nimport gang from './../../assets/images/gang3.png'\r\nimport edit from './../../assets/images/edit.png'\r\nimport del from './../../assets/images/del.png'\r\nimport scale from './../../assets/images/scale.png'\r\nimport placement_gang from './../../assets/images/placement_gang.png'\r\nimport placement_er from './../../assets/images/placement_er.png'\r\nimport palcement_ye from './../../assets/images/palcement_ye.png'\r\nimport careacte from './../../assets/images/dogMessage.png'\r\nimport catcareacte from './../../assets/images/catMessage.png'\r\nimport dog from './../../assets/img/redDog.png'\r\nimport cat from './../../assets/img/redcat.png'\r\nimport other from './../../assets/images/other.png'\r\n\r\nimport dog1 from './../../assets/images/pinkdog.png'\r\nimport cat1 from './../../assets/images/pinkcat.png'\r\nimport redDog1 from './../../assets/images/reddog.png'\r\nimport redCat1 from './../../assets/images/redcat.png'\r\nimport redother from './../../assets/images/redother.png'\r\n\r\n\r\n\r\nimport electronStore from './../../utils/electronStore'\r\n\r\n\r\nimport './normalMeasurement.less'\r\nimport { fetchToken } from '../../utils/Fetch_token';\r\nimport { mTop, px, pX, win } from '../../utils/px';\r\nimport { fetchRequest4 } from '../../utils/FetchUtil4';\r\nimport temporaryStorage from '../../utils/temporaryStorage';\r\nimport Biggie from './../../pages/biggiePage/Biggie.jsx'\r\nimport MyModal from '../../utils/myModal/MyModal';\r\nimport Heard from '../../utils/heard/Heard';\r\nimport { fetchRhapsody } from '../../utils/FetchUtil5';\r\nconst { SubMenu } = Menu;\r\nconst { Option } = Select;\r\nconst MyIcon = createFromIconfontCN({\r\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\r\n})\r\nlet saveHistoryTime = null, getSerialTime = null\r\nlet ipcRenderer = window.electron.ipcRenderer\r\n\r\nlet detectTimer = null, countdownTimer = null, lastConnectionTime = null;\r\n\r\nlet storage = window.localStorage;\r\n//用于预测的东西\r\nlet clinicalYuce = [], clinicalIndex = 0, endflog = false\r\nlet temp15 = ''\r\nlet is97Time = null, //为了防抖，因为有时候断开连接和连接成功总是连续的跳出来，展示就会一直闪烁，因此引入时间差大于800ms才展示\r\n  initTime = null\r\nlet firstEar = true\r\nlet isMeasurement = false //正在测量为true，反之为false\r\nlet num07 = 0       //接收到07命令行的次数\r\n\r\nlet isClick = true\r\n\r\nlet sameBiggieNum = 0, keyboardBiggieFlog = false\r\n\r\nlet nextFlog = false //用来判断是否按下了尺子的确认键\r\nlet avoidRepetition = false //避免重复，防止尺子数据过来后持续刷新\r\n\r\nlet confirmBtnFlog = ''\r\n//因为biggie样机测量完成控制字从02(测量中)变成03(测量完成),但是会发多组03,因此做一个限制,当控制字为02时biggieSave=false,第一次为03时变成true\r\nlet biggieSave = false\r\n\r\nexport default class NorMalMeasurement extends Component {\r\n  state = {\r\n    dogImg: redDog1,\r\n    catImg: cat1,\r\n    otherImg: other,\r\n    selectWZ: 'dog',\r\n\r\n    closebgc: '',\r\n    minbgc: '',\r\n    closeColor: '',\r\n    value: '',\r\n    api: '',\r\n    id: '',\r\n    dataArr: [],\r\n    seleceID: '',//医生id\r\n    data: { ci: [''], wen: [] },\r\n\r\n    temColor: '',\r\n    Temp: '',\r\n    isMeasure: false,\r\n    mearsurePart: 1,\r\n    historyData: [],\r\n    patientId: '',\r\n    spin: false,        //patientId后面的刷新按钮是否旋转\r\n    petName: '',\r\n    addpatient_petName: '',\r\n    addpatient_description: '',\r\n    addpatient_species: 1,\r\n    roomTemperature: '',\r\n    referenceRectalTemperature: '',\r\n    bodyConditionScore: '',\r\n    furLength: '',\r\n    bodyType: '',\r\n    heartRate: '',\r\n    bloodPressure: '',\r\n    respiratoryRate: '',\r\n    visible: false,       //nodel框是否显示\r\n    disabled: true,       //model是否可拖拽\r\n    bounds: { left: 0, top: 0, bottom: 0, right: 0 },\r\n    units: '℉',\r\n    measuerStatus: 'disconnected',\r\n    isconnected: false,\r\n    countdown: 15,\r\n    petVitalTypeId: '01',  //测量部位\r\n    probeID: '',         //探头id\r\n    org: 1,\r\n    err07Visible: false,\r\n\r\n\r\n    //左侧的宠物信息\r\n    petId: '',\r\n    owner: '',\r\n    breedName: '',\r\n    isMix: false,\r\n    age: null,\r\n    weight: '',\r\n    url: '',\r\n    speciesId: null,\r\n\r\n    //圆环的一些信息\r\n    temp_statu: 'Ready',\r\n    progress: 0,\r\n    endMeasure: false,\r\n    initFlog: false,\r\n    isEarMeasure: false,\r\n\r\n\r\n    //底部的信息\r\n    isNotes: true,\r\n    notes: '',\r\n    petSpeciesBreedId: 0,\r\n    consult_id: '',\r\n    healthStatus: '',\r\n\r\n\r\n    editId: '',\r\n    memo: '',\r\n    macAddr: '',\r\n    loading: false,\r\n\r\n    noUSB: false,  //是否有usb底座，为true代表没有\r\n    devicesType: 'biggie',\r\n    isHaveBigieDate: false, //为false则展示把宠物放到秤上的文本，为true则展示体重值\r\n\r\n    biggieDate: '', //体脂称体重值（磅）\r\n    sendWeight: '', //体脂称体重值（kg）\r\n    impedance: '',   //阻抗\r\n    isWeightSave: false,  //保存体重数据跳出的上传中弹框\r\n\r\n\r\n    //宠物特征信息\r\n    l2rarmDistance: '',           //左右手间距，这里用他临时替换成头部周长\r\n    neckCircumference: '',        //脖子周长\r\n    upperTorsoCircumference: '',  //上躯干周长\r\n    lowerTorsoCircumference: '',  //下躯干周长\r\n    h2tLength: '',                //头尾长度\r\n    torsoLength: \"\",             //躯干长度\r\n\r\n    rulerUnit: 'cm',               //尺子的单位\r\n    itemIndex: 1,                //代表现在是第几个宠物特征\r\n    updatePetAttributes: false,    //上传宠物属性的弹框\r\n\r\n    isWalkIn: false,               //是否是从walkIn进来的\r\n  }\r\n  componentWillMount() {\r\n    try {\r\n      console.log('--------------', this.props.location.isconnected);\r\n      if (this.props.location.isconnected === false || this.props.location.isconnected === true) {\r\n        if (this.props.location.isconnected === false) {\r\n\r\n        } else {\r\n          this.setState({\r\n            measuerStatus: 'connented',\r\n            isconnected: true,\r\n            isEarMeasure: false\r\n\r\n          })\r\n          is97Time = new Date()\r\n        }\r\n      }\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    ipcRenderer.send('big', win())\r\n    storage.isClinical = 'false'\r\n    if (storage.identity === '2') {\r\n      let ezyVetSelectHealthstatus = JSON.parse(storage.ezyVetSelectHealthstatus)\r\n      console.log(ezyVetSelectHealthstatus);\r\n      let { age, animal_id, breed, consult_id, gender, key, owner, petName, weight, url, speciesId } = ezyVetSelectHealthstatus\r\n      let petAge = null\r\n      if (`${age}` === '' || `${age}` === 'null') {\r\n        petAge = 0\r\n      } else {\r\n        petAge = age\r\n      }\r\n      this.setState({\r\n        petName,\r\n        owner,\r\n        breedName: breed,\r\n        weight,\r\n        age: petAge,\r\n        consult_id,\r\n        healthStatus: key,\r\n        patientId: animal_id,\r\n        org: 4,\r\n        url,\r\n        speciesId\r\n      }, () => {\r\n        this._getPetInfo('ezyVet')\r\n      })\r\n    } else if (storage.identity === '1') {\r\n      this.setState({\r\n        petName: storage.selectPetName,\r\n        owner: storage.selectOwner,\r\n        breedName: storage.selectBreed,\r\n        weight: storage.selectWeight,\r\n        age: storage.selectAge,\r\n        patientId: storage.selectPatientId,\r\n        org: 1\r\n      }, () => {\r\n        this._getPetInfo('vetspire')\r\n      })\r\n    } else {\r\n      let hardSet = electronStore.get('hardwareConfiguration')\r\n      console.log('测量单位', hardSet);\r\n      let rulerUnit = 'in'\r\n      if (!hardSet) {\r\n        let settings = {\r\n          isHua: true,\r\n          is15: true,\r\n          self_tarting: false,\r\n          isBacklight: true,\r\n          isBeep: true,\r\n          backlightTimer: { length: 140, number: '45' },\r\n          autoOff: { length: 0, number: '30' },\r\n        }\r\n        electronStore.set('hardwareConfiguration', settings)\r\n        this.setState({\r\n          units: '℉',\r\n          rulerUnit: 'in',\r\n          countdown: 15\r\n        })\r\n      } else {\r\n        let units = hardSet.isHua ? '℉' : '℃'\r\n        rulerUnit = hardSet.isHua ? 'in' : 'cm'\r\n        let countdown = hardSet.is15 ? 15 : 30\r\n        console.log('测量单位', units);\r\n        this.setState({\r\n          units,\r\n          countdown,\r\n          rulerUnit\r\n        })\r\n      }\r\n\r\n\r\n\r\n\r\n      let data = JSON.parse(storage.doctorExam)\r\n      console.log('从列表里面传过来的数据', data);\r\n      if (!data) {\r\n        console.log('从walk-in来的');\r\n        this.setState({\r\n          isWalkIn: true\r\n        })\r\n\r\n      } else {\r\n        let { l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n          h2tLength, torsoLength, weight, url, speciesId } = data\r\n\r\n        // l2rarmDistance = l2rarmDistance ? `${l2rarmDistance}` : ''\r\n        // neckCircumference = neckCircumference ? `${neckCircumference}` : ''\r\n        // upperTorsoCircumference = upperTorsoCircumference ? `${upperTorsoCircumference}` : ''\r\n        // lowerTorsoCircumference = lowerTorsoCircumference ? `${lowerTorsoCircumference}` : ''\r\n        // h2tLength = h2tLength ? `${h2tLength}` : ''\r\n        // torsoLength = torsoLength ? `${torsoLength}` : ''\r\n        console.log('+++++++++++', l2rarmDistance);\r\n\r\n        l2rarmDistance = changeNum(l2rarmDistance)\r\n        console.log('++++++0+++++', l2rarmDistance);\r\n        neckCircumference = changeNum(neckCircumference)\r\n        upperTorsoCircumference = changeNum(upperTorsoCircumference)\r\n        lowerTorsoCircumference = changeNum(lowerTorsoCircumference)\r\n        h2tLength = changeNum(h2tLength)\r\n        torsoLength = changeNum(torsoLength)\r\n\r\n        function changeNum(params) {\r\n\r\n          if (params) {\r\n            if (rulerUnit === 'cm') {\r\n              return `${params}`\r\n            } else {\r\n              return `${(params / 2.54).toFixed(2)}`\r\n            }\r\n          } else {\r\n            return ''\r\n          }\r\n\r\n        }\r\n\r\n\r\n        if (weight && weight !== 'unknown') {\r\n          weight = parseFloat(weight).toFixed(1)\r\n        }\r\n        let breedName = data.breed\r\n        if (!breedName) {\r\n          breedName = 'unknown'\r\n        }\r\n        switch (breedName) {\r\n          case 'defaultdog':\r\n            breedName = 'Dog'\r\n\r\n            break;\r\n          case 'defaultother':\r\n            breedName = 'Other'\r\n\r\n            break;\r\n          case 'defaultcat':\r\n            breedName = 'Cat'\r\n            break;\r\n\r\n        }\r\n        this.setState({\r\n          petName: data.petName,\r\n          owner: data.owner,\r\n          breedName,\r\n          weight,\r\n          age: data.age,\r\n          patientId: data.patientId,\r\n          petId: data.petId,\r\n          l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n          h2tLength, torsoLength,\r\n          url, speciesId,\r\n          isWalkIn: false\r\n        }, () => {\r\n          this._getHistory()\r\n        })\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    //这里做了个监听，当有数据发过来的时候直接在这里接收\r\n    ipcRenderer.on('sned', this._send)\r\n    ipcRenderer.on('usbDetect', this.usbDetect)\r\n    ipcRenderer.on('noUSB', this._noUSB)\r\n\r\n    this._whether_to_connect_to_mella()\r\n    //刚进入测量界面需要获取以前的历史数据，测量一次就添加一个记录\r\n    // this._getHistory()\r\n\r\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\r\n\r\n\r\n    if (temporaryStorage.devicesType) {\r\n      this.setState({\r\n        devicesType: temporaryStorage.devicesType\r\n      })\r\n    }\r\n\r\n  }\r\n  componentWillUnmount() {\r\n    ipcRenderer.removeListener('sned', this._send)\r\n    ipcRenderer.removeListener('usbDetect', this.usbDetect)\r\n    ipcRenderer.removeListener('noUSB', this._noUSB)\r\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\r\n\r\n    clearInterval(detectTimer)\r\n    detectTimer && clearInterval(detectTimer)\r\n    countdownTimer && clearInterval(countdownTimer)\r\n    getSerialTime && clearTimeout(getSerialTime)\r\n    this.detectTimer && clearInterval(this.detectTimer)\r\n    this.detectTimer && clearInterval(this.detectTimer)\r\n    lastConnectionTime = null;\r\n    clinicalYuce = []\r\n    clinicalIndex = 0\r\n    message.destroy()\r\n\r\n\r\n  }\r\n  changeFenBianLv = (e) => {\r\n    console.log(e);\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('big', win())\r\n    this.setState({\r\n\r\n    })\r\n  }\r\n  _noUSB = (e, data) => {\r\n    console.log('没有USB设备：', data);\r\n    if (data === false) {\r\n      message.destroy()\r\n      this.setState({\r\n        noUSB: false\r\n      })\r\n    } else {\r\n      if (!this.state.noUSB) {\r\n        message.error('The base is not detected. Please insert the base', 0)\r\n        this.setState({\r\n          noUSB: true\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  _send = (event, data) => {\r\n    //data就是测量的数据，是十进制的数字\r\n    this.command(data)()\r\n  }\r\n  /**\r\n   *\r\n   *usb检测，为true代表插上了设备，false代表拔出了设备\r\n   */\r\n  usbDetect = (event, data) => {\r\n    this.detectTimer && clearInterval(this.detectTimer)\r\n    if (data === true) {\r\n      this._whether_to_connect_to_mella()\r\n    } else {\r\n      this.detectTimer && clearInterval(this.detectTimer)\r\n      num07 = 0\r\n    }\r\n  }\r\n  _whether_to_connect_to_mella = () => {\r\n    message.destroy()\r\n    this.detectTimer = setInterval(() => {\r\n      if (isMeasurement) {\r\n        return\r\n      }\r\n      if (!initTime) {\r\n        // console.log('断开连接');\r\n\r\n        firstEar = true\r\n        let hardSet = electronStore.get('hardwareConfiguration')\r\n        let countdown = hardSet.is15 ? 15 : 30\r\n        this.setState({\r\n          measuerStatus: 'disconnected',\r\n          countdown,\r\n          isMeasure: false,\r\n          isconnected: false,\r\n          isEarMeasure: false\r\n        })\r\n        initTime = new Date()\r\n      } else {\r\n        ipcRenderer.send('usbdata', { command: '07', arr: ['5A'] })\r\n        if (new Date() - initTime < 5000) {\r\n          // console.log('连接成功');\r\n\r\n        } else {\r\n          console.log('2断开连接');\r\n          firstEar = true\r\n          let hardSet = electronStore.get('hardwareConfiguration')\r\n          let countdown = hardSet.is15 ? 15 : 30\r\n          this.setState({\r\n            measuerStatus: 'disconnected',\r\n            countdown,\r\n            isMeasure: false,\r\n            isconnected: false,\r\n            isEarMeasure: false\r\n          })\r\n        }\r\n      }\r\n    }, 2000);\r\n\r\n\r\n\r\n  }\r\n  /**------------------顶部start------------------------ */\r\n  _close = () => {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    console.log('关闭程序');\r\n    ipcRenderer.send('window-close')\r\n  }\r\n  _min = () => {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    console.log('最小化程序');\r\n    ipcRenderer.send('window-min')\r\n    this.setState({\r\n      minbgc: '',\r\n    })\r\n  }\r\n  _minMove = () => {\r\n\r\n    this.setState({\r\n      minbgc: 'rgb(211, 205, 205)'\r\n    })\r\n  }\r\n  _minLeave = () => {\r\n    this.setState({\r\n      minbgc: ''\r\n    })\r\n  }\r\n  _closeMove = () => {\r\n    this.setState({\r\n      closeColor: 'red',\r\n      closebgc: '#fff'\r\n    })\r\n  }\r\n  _closeLeave = () => {\r\n    this.setState({\r\n      closeColor: '#fff',\r\n      closebgc: ''\r\n    })\r\n  }\r\n\r\n\r\n  handleClick = e => {\r\n    console.log('click ', e);\r\n\r\n    switch (e.key) {\r\n      case '1':\r\n        switch (storage.identity) {\r\n          case '2': this.props.history.push({ pathname: '/EzyVetSelectExam', listDate: storage.ezyVetList, defaultCurrent: storage.defaultCurrent })\r\n\r\n            break;\r\n          case '1': this.props.history.push('/VetSpireSelectExam')\r\n\r\n            break;\r\n          case '3': this.props.history.push({ pathname: '/uesr/selectExam', listDate: storage.doctorList, defaultCurrent: storage.defaultCurrent })\r\n\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n\r\n        break;\r\n\r\n      case '2': this.props.history.push('/'); break;\r\n      case '3': this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: this.state.patientId, isconnected: this.state.isconnected }); break;\r\n      case '4': this.props.history.push('/page12'); break;\r\n      case '5': this.props.history.push('/menuOptions/settings'); break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n  };\r\n  // newArr 指的是十进制数字数组，   dataArr1:指的是16进制字符串数组\r\n  command = (newArr) => {\r\n    let dataArr1 = newArr.map(item => {\r\n      if (item.toString(16).length < 2) {\r\n        return '0' + item.toString(16)\r\n      } else {\r\n        return item.toString(16)\r\n      }\r\n    })\r\n\r\n    const instruction = [209, 193, 192, 129, 135, 238, 98, 97, 130, 208, 177, 194, 7, 99, 255]\r\n    if (newArr[2] !== 7) {\r\n      initTime = new Date()\r\n      num07 = 0\r\n    } else {\r\n      num07++\r\n    }\r\n\r\n\r\n\r\n    isMeasurement = false\r\n    const commandArr = {\r\n      209: () => {  //腋温\r\n        if (firstEar) {\r\n          firstEar = false\r\n          console.log('去获取探头id');\r\n          ipcRenderer.send('usbdata', { command: '31', arr: [] })\r\n        }\r\n        isMeasurement = true\r\n        let temp1 = parseFloat(`${dataArr1[3]}.${(dataArr1[4])}`)\r\n        let temp0 = parseFloat(`${dataArr1[5]}.${(dataArr1[6])}`)\r\n        // let Temp = parseFloat(temp0.toFixed(1))\r\n        let Temp = temp0\r\n        console.log(Temp);\r\n        if (Temp === 24.7 || Temp === 0 || Temp === null || Temp === undefined) {\r\n          return\r\n        }\r\n\r\n\r\n        if (this.state.isMeasure === false) {\r\n\r\n          if (countdownTimer) {\r\n            let hardSet = electronStore.get('hardwareConfiguration')\r\n            let countdown = hardSet.is15 ? 15 : 30\r\n            this.setState({\r\n              countdown\r\n            })\r\n          }\r\n\r\n          countdownTimer = setInterval(() => {\r\n            let { countdown, isconnected } = this.state\r\n            this.setState({\r\n              countdown: countdown - 1\r\n\r\n            })\r\n\r\n            if (countdown === 0) {\r\n              console.log('调用15秒的接口');\r\n              this._prediction()\r\n              countdownTimer && clearInterval(countdownTimer)\r\n              this.setState({\r\n                countdown: 0\r\n              })\r\n              // ipcRenderer.send('usbdata', { command: '41', arr: [] })\r\n\r\n            }\r\n\r\n            if (isconnected === false) {\r\n              countdownTimer && clearInterval(countdownTimer)\r\n\r\n            }\r\n          }, 1000);\r\n        }\r\n        lastConnectionTime = new Date();\r\n\r\n\r\n\r\n        let progress = (Temp - 25) * 5\r\n        let dataS = {\r\n          sample: clinicalIndex++,\r\n          data0: temp0,\r\n          data1: temp1\r\n        }\r\n        clinicalYuce.push(dataS)\r\n        if (clinicalIndex < 10) {\r\n          clinicalYuce.push({\r\n            sample: clinicalIndex++,\r\n            data0: temp0,\r\n            data1: temp1\r\n          })\r\n        }\r\n        this.setState({\r\n          Temp,\r\n          isMeasure: true,\r\n          // mearsurePart: 1,\r\n          measuerStatus: 'connented',\r\n          isconnected: true,\r\n          progress,\r\n          endMeasure: false,\r\n          initFlog: true,\r\n          isEarMeasure: false\r\n        })\r\n\r\n      },\r\n      208: () => {  //耳温\r\n\r\n        lastConnectionTime = new Date();\r\n        isMeasurement = true\r\n        if (firstEar) {\r\n          firstEar = false\r\n          console.log('去获取探头id');\r\n          ipcRenderer.send('usbdata', { command: '31', arr: [] })\r\n        }\r\n        //现在探头0可能不存在，所以把探头0改为探头1\r\n        let temp0 = parseFloat(`${dataArr1[7]}.${(dataArr1[8])}`)\r\n        let Temp = temp0\r\n\r\n        console.log(Temp, temp0);\r\n        let progress = (Temp - 25) * 5\r\n        this.setState({\r\n          Temp,\r\n          isMeasure: false,\r\n          mearsurePart: 3,\r\n          measuerStatus: '测量中',\r\n          isconnected: true,\r\n          progress,\r\n          endMeasure: false,\r\n          initFlog: true,\r\n          isEarMeasure: true,\r\n          petVitalTypeId: '03'\r\n        })\r\n\r\n      },\r\n      193: () => {  //硬件发送结束命令\r\n        this.time193 && clearTimeout(this.time193)\r\n        this.time193 = setTimeout(() => {\r\n          endflog = true\r\n          countdownTimer && clearInterval(countdownTimer)\r\n          this.setState({\r\n            isMeasure: false,\r\n            endMeasure: true,\r\n            isEarMeasure: false\r\n          })\r\n          lastConnectionTime = new Date();\r\n          if (saveHistoryTime != null) {\r\n            clearTimeout(saveHistoryTime)\r\n          }\r\n\r\n          clinicalYuce = []\r\n          clinicalIndex = 0\r\n          firstEar = true\r\n          this.time193 && clearTimeout(this.time193)\r\n          console.log('-----------=======最终结果值========---------', this.state.Temp);\r\n          let { Temp, units } = this.state\r\n          let temp = units === '℉' ? (Temp * 1.8 + 32).toFixed(1) : `${Temp}`.toFixed(1)\r\n          if (this.state.devicesType === 'mella') {\r\n            ipcRenderer.send('keyboardWriting', temp)\r\n          }\r\n\r\n        }, 1000);\r\n\r\n\r\n      },\r\n      // 194: () => {       //硬件收到机器学习结果并停止测量，通知我们一声\r\n      //   endflog = true\r\n      //   countdownTimer && clearInterval(countdownTimer)\r\n      //   this.setState({\r\n      //     isMeasure: false,\r\n      //     endMeasure: true,\r\n      //     isEarMeasure: false\r\n      //   })\r\n      //   lastConnectionTime = new Date();\r\n      //   if (saveHistoryTime != null) {\r\n      //     clearTimeout(saveHistoryTime)\r\n      //   }\r\n\r\n      //   clinicalYuce = []\r\n      //   clinicalIndex = 0\r\n      //   isMeasurement = false\r\n      // },\r\n\r\n      192: () => {   //开始测量返回结果\r\n        switch (newArr[3]) {\r\n          case 90: console.log('有探头，开始测量的返回指令·'); break;\r\n          case 11: console.log('没有探头，开始测量的返回值'); break;\r\n\r\n        }\r\n      },\r\n      129: () => {      //返回硬件版本号\r\n        console.log(`返回的版本号为${newArr[3]}`);\r\n        lastConnectionTime = new Date();\r\n        this.setState({\r\n          measuerStatus: 'connented',\r\n          isconnected: true,\r\n          isEarMeasure: false\r\n\r\n        })\r\n      },\r\n      135: () => {          //硬件的一些基本信息\r\n        /**\r\n         * ______________新版、旧版没法控制温度计__________________\r\n         * newArr[3]、newArr[4]、newArr[5]、newArr[6]是蓝牙温度计的修正系数\r\n         * newArr[7] 无操作关机时间\r\n         * newArr[8] 背光时间\r\n         * newArr[9] 是否提示音    ：00代表无提示音，11代表有提示音\r\n         * newArr[10] 测量单位    01代表℃，00代表℉\r\n         */\r\n\r\n        let hardSet = electronStore.get('hardwareConfiguration')\r\n        let beep = hardSet.isBeep ? '11' : '00'\r\n        let unit = hardSet.isHua ? '00' : '01'\r\n\r\n        if (dataArr1[7] === hardSet.autoOff.number && dataArr1[8] === hardSet.backlightTimer.number &&\r\n          dataArr1[9] === beep && dataArr1[10] === unit) {\r\n        } else {\r\n          console.log('不相同，去发送命令');\r\n          let setArr = ['03', 'ed', '07', 'dd', hardSet.autoOff.number, hardSet.isBacklight ? hardSet.backlightTimer.number : '00', hardSet.isBeep ? '11' : '00', hardSet.isHua ? '00' : '01']\r\n          ipcRenderer.send('usbdata', { command: '21', arr: setArr })\r\n        }\r\n        this.setState({\r\n          measuerStatus: 'connented',\r\n          isconnected: true\r\n        })\r\n\r\n      },\r\n      238: () => {     //探头松动\r\n        console.log('探头松动');\r\n        this.setState({\r\n          isMeasure: false,\r\n          endMeasure: true\r\n        })\r\n        message.error('The probe is loose, please re-install and measure again', 5)\r\n        clinicalYuce = []\r\n        clinicalIndex = 0\r\n        countdownTimer && clearInterval(countdownTimer)\r\n      },\r\n      194: () => {       //硬件收到了机器学习预测的温度\r\n        this.setState({\r\n          isMeasure: false,\r\n          endMeasure: true,\r\n          APIFlog: true,\r\n          isEarMeasure: false\r\n        })\r\n        clinicalYuce = []\r\n        clinicalIndex = 0\r\n        endflog = true\r\n        countdownTimer && clearInterval(countdownTimer)\r\n      },\r\n      98: () => { //蓝牙连接断开\r\n        console.log('断开连接---断开连接---断开连接---断开连接---断开连接---断开连接');\r\n        firstEar = true\r\n        console.log(new Date() - is97Time);\r\n        if (new Date() - is97Time < 1000) {\r\n          return\r\n        }\r\n\r\n        let hardSet = electronStore.get('hardwareConfiguration')\r\n        let countdown = hardSet.is15 ? 15 : 30\r\n        this.setState({\r\n          measuerStatus: 'disconnected',\r\n          countdown,\r\n          isMeasure: false,\r\n          isconnected: false,\r\n          isEarMeasure: false\r\n        })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      },\r\n      97: () => {       //蓝牙连接\r\n        console.log('连接成功---连接成功---连接成功---连接成功---连接成功---连接成功');\r\n        // disconnectedNum = 0\r\n        // lastConnectionTime = new Date();\r\n        //  disconnectedNum = 0\r\n        // lastConnectionTime = new Date();\r\n        this.setState({\r\n          measuerStatus: 'connented',\r\n          isconnected: true,\r\n          isEarMeasure: false\r\n\r\n        })\r\n        is97Time = new Date()\r\n      },\r\n      177: () => {         //探头id\r\n        let dataArr1 = newArr.map(item => {\r\n          if (item.toString(16).length < 2) {\r\n            return '0' + item.toString(16)\r\n          } else {\r\n            return item.toString(16)\r\n          }\r\n        })\r\n\r\n\r\n        let id = ''\r\n        for (let i = 3; i < dataArr1.length - 2; i++) {\r\n          id += dataArr1[i]\r\n\r\n        }\r\n        console.log(id, dataArr1[7]);\r\n\r\n        this.setState({\r\n          probeID: id,\r\n          petVitalTypeId: dataArr1[7]\r\n        })\r\n        if (dataArr1[7] === '01') {\r\n          this.setState({\r\n            mearsurePart: 1\r\n          })\r\n        } else if (dataArr1[7] === '02') {\r\n          this.setState({\r\n            mearsurePart: 2\r\n          })\r\n        } else if (dataArr1[7] === '03') {\r\n          this.setState({\r\n            mearsurePart: 3\r\n          })\r\n        }\r\n\r\n\r\n\r\n      },\r\n      7: () => {  //发什么收什么，需要去重新插拔底座\r\n        console.log('重新插拔底座');\r\n        if (num07 === 3 && this.state.err07Visible === false) {\r\n          this.setState({\r\n            err07Visible: true\r\n          })\r\n        }\r\n      },\r\n      99: () => { //体脂称的广播信息\r\n        function getVal(shi, xiaoshuo) {\r\n\r\n          if (shi.length < 2) {\r\n            shi = `0${shi}`\r\n          }\r\n          if (xiaoshuo.length < 2) {\r\n            xiaoshuo = `0${xiaoshuo}`\r\n          }\r\n          return `0x${shi}${xiaoshuo}`\r\n        }\r\n\r\n\r\n        let weight = getVal((dataArr1[3]).toString(16), (dataArr1[4]).toString(16))\r\n        let impedance = getVal((dataArr1[5]).toString(16), (dataArr1[6]).toString(16))\r\n        let sendWeight = null\r\n        try {\r\n          sendWeight = parseInt(weight) / 100\r\n          weight = parseInt(weight) / 100 * 2.2046\r\n          if (impedance) {\r\n            impedance = parseInt(impedance)\r\n          }\r\n          weight = weight.toFixed(1)\r\n\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n\r\n        if (weight) {\r\n          // console.log(sameBiggieNum, keyboardBiggieFlog);\r\n          if (weight === this.state.biggieDate && this.state.devicesType === 'biggie') {\r\n\r\n            sameBiggieNum++\r\n            if (!keyboardBiggieFlog && sameBiggieNum === 6) {\r\n              console.log('键盘写入');\r\n              let { units, sendWeight, biggieDate } = this.state\r\n\r\n              let weight = units === '℃' ? sendWeight : biggieDate\r\n              ipcRenderer.send('keyboardWriting', weight)\r\n            }\r\n\r\n          } else {\r\n            sameBiggieNum = 0\r\n            keyboardBiggieFlog = false\r\n          }\r\n\r\n          this.setState({\r\n            biggieDate: weight,\r\n            impedance,\r\n            sendWeight,\r\n            isHaveBigieDate: true\r\n          })\r\n        }\r\n\r\n      },\r\n      100: () => {//蓝牙软尺广播的数据\r\n        let confirmBtn = newArr[6]    //十进制数字，值为160代表尺子拉动，值为161代表按了尺子确认按钮\r\n        let rulerUnitNum = newArr[11] //十进制数字，值大于等于80代表单位为in，小于80代表单位为cm\r\n        let newVal = null             //为测量数值，和单位匹配对应\r\n        const ITEMINDEX = 6\r\n\r\n        //num1和num2组成测得的测量值，num的值为测量数值，单位恒为厘米\r\n        let num1 = dataArr1[7]\r\n        let num2 = dataArr1[8]\r\n        let num = getVal(num1, num2)\r\n        try {\r\n          newVal = (parseInt(num) / 100)\r\n          if (newVal < 3) {\r\n            newVal = 0\r\n          }\r\n\r\n          if (rulerUnitNum >= 80) {\r\n            newVal = (newVal * 0.3937).toFixed(2)\r\n\r\n          } else {\r\n            newVal = newVal.toFixed(1)\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n\r\n\r\n        function getVal(shi, xiaoshuo) {\r\n\r\n          if (shi.length < 2) {\r\n            shi = `0${shi}`\r\n          }\r\n          if (xiaoshuo.length < 2) {\r\n            xiaoshuo = `0${xiaoshuo}`\r\n          }\r\n          return `0x${shi}${xiaoshuo}`\r\n        }\r\n\r\n        //点击了确认按钮\r\n        let { itemIndex, l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n          h2tLength, torsoLength\r\n        } = this.state\r\n        if (confirmBtn === 161) {\r\n          if (!nextFlog) {\r\n            nextFlog = true\r\n\r\n\r\n            let units = rulerUnitNum >= 80 ? 'in' : 'cm'\r\n            if (itemIndex === ITEMINDEX) {\r\n              // this._next()\r\n              return\r\n            }\r\n            let newitemIndex = itemIndex >= ITEMINDEX ? ITEMINDEX : itemIndex + 1\r\n            let textValue = ''\r\n            switch (itemIndex) {\r\n              case 1: textValue = l2rarmDistance; break;\r\n              case 2: textValue = h2tLength; break;\r\n              case 3: textValue = torsoLength; break;\r\n              case 4: textValue = neckCircumference; break;\r\n              case 5: textValue = upperTorsoCircumference; break;\r\n              case 6: textValue = lowerTorsoCircumference; break;\r\n              default:\r\n                break;\r\n            }\r\n\r\n            if (newVal !== textValue && parseInt(newVal) > 0) {\r\n\r\n              switch (itemIndex) {\r\n                case 1: this.setState({ l2rarmDistance: newVal, itemIndex: newitemIndex, units }); break;\r\n                case 2: this.setState({ h2tLength: newVal, itemIndex: newitemIndex, units }); break;\r\n                case 3: this.setState({ torsoLength: newVal, itemIndex: newitemIndex, units }); break;\r\n                case 4: this.setState({ neckCircumference: newVal, itemIndex: newitemIndex, units }); break;\r\n                // case 5: this.setState({ bodyWidth: newVal, itemIndex: newitemIndex, units }); break;\r\n                case 5: this.setState({ upperTorsoCircumference: newVal, itemIndex: newitemIndex, units }); break;\r\n                case 6: this.setState({ lowerTorsoCircumference: newVal, itemIndex: newitemIndex, units }); break;\r\n                default: this.setState({\r\n                  itemIndex: newitemIndex\r\n                  , units\r\n                })\r\n                  break;\r\n              }\r\n            } else {\r\n              this.setState({\r\n                itemIndex: newitemIndex,\r\n                units\r\n              })\r\n            }\r\n\r\n\r\n\r\n          }\r\n        } else if (confirmBtn === 160) {\r\n          nextFlog = false\r\n          let textValue = ''\r\n          let units = rulerUnitNum >= 80 ? 'in' : 'cm'\r\n\r\n          switch (itemIndex) {\r\n            case 1: textValue = l2rarmDistance; break;\r\n            case 2: textValue = h2tLength; break;\r\n            case 3: textValue = torsoLength; break;\r\n            case 4: textValue = neckCircumference; break;\r\n            case 5: textValue = upperTorsoCircumference; break;\r\n            case 6: textValue = lowerTorsoCircumference; break;\r\n          }\r\n\r\n          if (newVal !== textValue && parseInt(newVal) > 0) {\r\n            if (!avoidRepetition) {\r\n              avoidRepetition = true\r\n              this.avoidRepetition = setTimeout(() => {\r\n                avoidRepetition = false\r\n                this.avoidRepetition && clearTimeout(this.avoidRepetition)\r\n              }, 100);\r\n              switch (itemIndex) {\r\n                case 1: this.setState({ l2rarmDistance: newVal, units }); break;\r\n                case 2: this.setState({ h2tLength: newVal, units }); break;\r\n                case 3: this.setState({ torsoLength: newVal, units }); break;\r\n                case 4: this.setState({ neckCircumference: newVal, units }); break;\r\n                case 5: this.setState({ upperTorsoCircumference: newVal, units }); break;\r\n                case 6: this.setState({ lowerTorsoCircumference: newVal, units }); break;\r\n                default:\r\n                  break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n\r\n\r\n      },\r\n      255: () => {\r\n        // console.log(dataArr1);\r\n        let length = newArr.length\r\n        let frameLength = newArr[1]   //帧长\r\n        let itemLength = newArr[3] + 1  //数据位的长度   13\r\n        let dataIndex = 0\r\n\r\n        let bluName = ''\r\n        let bluData = []\r\n        //[\"aa\", \"25\", \"ff\", |\"03\", \"03\", \"b0\", \"ff\",| \"0f\", \"ff\", \"ac\", \"d2\", \"0b\", \"72\", \"c1\", \"7d\", \"3e\", \"d0\", \"a0\", \"00\", \"05\", \"09\", \"00\", \"2e\",| \"05\", \"09\", \"54\", \"61\", \"70\", \"65\", |\"06\", \"ef\", \"d0\", \"3e\", \"7d\", \"c1\", \"72\", |\"0b\", \"5c\", \"55\"]\r\n        while (itemLength < length && (itemLength + 3 <= frameLength)) {\r\n          let itemData = []\r\n          for (let i = 0; i < newArr[dataIndex + 3] - 1; i++) {\r\n            itemData.push(dataArr1[i + dataIndex + 5])\r\n          }\r\n          // console.log('--剪切的数据---', itemData);\r\n          switch (newArr[dataIndex + 4]) {\r\n            case 9:\r\n            case 8:\r\n              let str = ''\r\n              for (let i = 0; i < itemData.length; i++) {\r\n                let item = parseInt(itemData[i], 16)\r\n                str += String.fromCharCode(item)\r\n\r\n              }\r\n              bluName = str\r\n              // console.log('--蓝牙名称:', bluName);\r\n\r\n\r\n              break;\r\n\r\n            case 255:\r\n              bluData = itemData\r\n              break;\r\n            case 7: console.log('---UUID'); break;\r\n            case 239:\r\n              // console.log('---mac地址');\r\n              break;\r\n\r\n            case 3: console.log('----尺子的,不知道什么用'); break;\r\n\r\n            default: console.log('直接跳出循环'); return;\r\n          }\r\n          dataIndex = itemLength\r\n          itemLength = itemLength + newArr[dataIndex + 3] + 1\r\n        }\r\n        console.log('硬件名称', bluName, '-----硬件数据', bluData);\r\n\r\n        if (bluName.indexOf('C19') !== -1 && bluData.length > 10) {\r\n\r\n          let weight = `0x${bluData[10]}${bluData[11]}`\r\n          let impedance = `0x${bluData[12]}${bluData[13]}`\r\n          let sendWeight = null\r\n          try {\r\n            //sendWeight的值单位是kg,weight的值为lb(磅)\r\n            sendWeight = parseInt(weight) / 100\r\n            weight = parseInt(weight) / 100 * 2.2046\r\n            if (impedance) {\r\n              impedance = parseInt(impedance)\r\n            }\r\n            weight = weight.toFixed(1)\r\n\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n          // console.log('----秤', weight, impedance);\r\n\r\n          if (weight) {\r\n            // console.log(sameBiggieNum, keyboardBiggieFlog);\r\n            if (weight === this.state.biggieDate && this.state.devicesType === 'biggie') {\r\n\r\n              sameBiggieNum++\r\n              if (!keyboardBiggieFlog && sameBiggieNum === 6) {\r\n                console.log('键盘写入');\r\n                let { units, sendWeight, biggieDate } = this.state\r\n\r\n                let weight = units === '℃' ? sendWeight : biggieDate\r\n                ipcRenderer.send('keyboardWriting', weight)\r\n              }\r\n\r\n            } else {\r\n              sameBiggieNum = 0\r\n              keyboardBiggieFlog = false\r\n            }\r\n\r\n            this.setState({\r\n              biggieDate: weight,\r\n              impedance,\r\n              sendWeight,\r\n              isHaveBigieDate: true\r\n            })\r\n          }\r\n        } else if (bluName.indexOf('Tape') !== -1) {\r\n\r\n          let confirmBtn = parseInt(bluData[8], 16)     //十进制数字，值为160代表尺子拉动，值为161代表按了尺子确认按钮\r\n          let rulerUnitNum = parseInt(bluData[13], 16) //十进制数字，值大于等于80代表单位为in，小于80代表单位为cm\r\n          let newVal = null             //为测量数值，和单位匹配对应\r\n          const ITEMINDEX = 7\r\n          let units = rulerUnitNum >= 80 ? 'in' : 'cm'\r\n\r\n          //num1和num2组成测得的测量值，num的值为测量数值，单位恒为厘米\r\n          let num1 = bluData[9]\r\n          let num2 = bluData[10]\r\n          let num = getVal(num1, num2)\r\n          try {\r\n            newVal = (parseInt(num) / 100)\r\n            if (newVal < 3) {\r\n              newVal = 0\r\n            }\r\n\r\n            if (rulerUnitNum >= 80) {\r\n              newVal = (newVal * 0.3937).toFixed(2)\r\n\r\n            } else {\r\n              newVal = newVal.toFixed(1)\r\n            }\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n\r\n\r\n\r\n          function getVal(shi, xiaoshuo) {\r\n\r\n            if (shi.length < 2) {\r\n              shi = `0${shi}`\r\n            }\r\n            if (xiaoshuo.length < 2) {\r\n              xiaoshuo = `0${xiaoshuo}`\r\n            }\r\n            return `0x${shi}${xiaoshuo}`\r\n          }\r\n\r\n          //点击了确认按钮\r\n          let { itemIndex, l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n            h2tLength, torsoLength\r\n          } = this.state\r\n          if (confirmBtn === 161) {\r\n            if (!nextFlog) {\r\n              nextFlog = true\r\n\r\n              if (itemIndex === ITEMINDEX) {\r\n                this._updatePetAttributes()\r\n                return\r\n              }\r\n              let newitemIndex = itemIndex >= ITEMINDEX ? 1 : itemIndex + 1\r\n\r\n              let textValue = ''\r\n              switch (itemIndex) {\r\n                case 1: textValue = l2rarmDistance; break;\r\n                case 2: textValue = h2tLength; break;\r\n                case 3: textValue = torsoLength; break;\r\n                case 4: textValue = neckCircumference; break;\r\n                case 5: textValue = upperTorsoCircumference; break;\r\n                case 6: textValue = lowerTorsoCircumference; break;\r\n                default:\r\n                  break;\r\n              }\r\n\r\n              if (newVal !== textValue && parseInt(newVal) > 0) {\r\n                switch (itemIndex) {\r\n                  case 1: this.setState({ l2rarmDistance: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  case 2: this.setState({ h2tLength: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  case 3: this.setState({ torsoLength: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  case 4: this.setState({ neckCircumference: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  // case 5: this.setState({ bodyWidth: newVal, itemIndex: newitemIndex, units }); break;\r\n                  case 5: this.setState({ upperTorsoCircumference: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  case 6: this.setState({ lowerTorsoCircumference: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  default: this.setState({\r\n                    itemIndex: newitemIndex\r\n                    , rulerUnit: units\r\n                  })\r\n                    break;\r\n                }\r\n              } else {\r\n                this.setState({\r\n                  itemIndex: newitemIndex,\r\n                  rulerUnit: units\r\n                })\r\n              }\r\n\r\n\r\n\r\n            }\r\n          } else if (confirmBtn === 160) {\r\n            nextFlog = false\r\n            let textValue = ''\r\n\r\n\r\n            switch (itemIndex) {\r\n              case 1: textValue = l2rarmDistance; break;\r\n              case 2: textValue = h2tLength; break;\r\n              case 3: textValue = torsoLength; break;\r\n              case 4: textValue = neckCircumference; break;\r\n              case 5: textValue = upperTorsoCircumference; break;\r\n              case 6: textValue = lowerTorsoCircumference; break;\r\n            }\r\n\r\n            if (newVal !== textValue && parseInt(newVal) > 0) {\r\n              if (!avoidRepetition) {\r\n                avoidRepetition = true\r\n                this.avoidRepetition = setTimeout(() => {\r\n                  avoidRepetition = false\r\n                  this.avoidRepetition && clearTimeout(this.avoidRepetition)\r\n                }, 100);\r\n                switch (itemIndex) {\r\n                  case 1: this.setState({ l2rarmDistance: newVal, rulerUnit: units }); break;\r\n                  case 2: this.setState({ h2tLength: newVal, rulerUnit: units }); break;\r\n                  case 3: this.setState({ torsoLength: newVal, rulerUnit: units }); break;\r\n                  case 4: this.setState({ neckCircumference: newVal, rulerUnit: units }); break;\r\n                  case 5: this.setState({ upperTorsoCircumference: newVal, rulerUnit: units }); break;\r\n                  case 6: this.setState({ lowerTorsoCircumference: newVal, rulerUnit: units }); break;\r\n                  default:\r\n                    break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n        } else if (bluName.indexOf('Mella Measure') !== -1 && this.state.devicesType === 'biggie') {\r\n          //255\r\n          let { itemIndex, l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n            h2tLength, torsoLength\r\n          } = this.state\r\n          // console.log('结束循环蓝牙名称', bluData)\r\n          let confirmBtn = bluData[8]     //十六进制数字，值为01代表尺子拉动，值为x2代表按了尺子确认按钮\r\n\r\n          let rulerUnitNum = parseInt(bluData[11], 16) //十进制数字，值等于11代表单位为in，00代表单位为cm\r\n          let newVal = null             //为测量数值，和单位匹配对应\r\n          const ITEMINDEX = 6\r\n          let units = rulerUnitNum === 0 ? 'cm' : 'in'\r\n\r\n\r\n          if (units !== this.state.rulerUnit) {\r\n            if (units === 'cm') {\r\n              l2rarmDistance = l2rarmDistance ? `${(parseFloat(l2rarmDistance) * 2.54).toFixed(1)}` : ''\r\n              neckCircumference = neckCircumference ? `${(parseFloat(neckCircumference) * 2.54).toFixed(1)}` : ''\r\n              upperTorsoCircumference = upperTorsoCircumference ? `${(parseFloat(upperTorsoCircumference) * 2.54).toFixed(1)}` : ''\r\n              lowerTorsoCircumference = lowerTorsoCircumference ? `${(parseFloat(lowerTorsoCircumference) * 2.54).toFixed(1)}` : ''\r\n              h2tLength = h2tLength ? `${(parseFloat(h2tLength) * 2.54).toFixed(1)}` : ''\r\n              torsoLength = torsoLength ? `${(parseFloat(torsoLength) * 2.54).toFixed(1)}` : ''\r\n            } else {\r\n              l2rarmDistance = l2rarmDistance ? `${(parseFloat(l2rarmDistance) / 2.54).toFixed(2)}` : ''\r\n              neckCircumference = neckCircumference ? `${(parseFloat(neckCircumference) / 2.54).toFixed(2)}` : ''\r\n              upperTorsoCircumference = upperTorsoCircumference ? `${(parseFloat(upperTorsoCircumference) / 2.54).toFixed(2)}` : ''\r\n              lowerTorsoCircumference = lowerTorsoCircumference ? `${(parseFloat(lowerTorsoCircumference) / 2.54).toFixed(2)}` : ''\r\n              h2tLength = h2tLength ? `${(parseFloat(h2tLength) / 2.54).toFixed(2)}` : ''\r\n              torsoLength = torsoLength ? `${(parseFloat(torsoLength) / 2.54).toFixed(2)}` : ''\r\n            }\r\n\r\n            this.setState({\r\n              l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n              h2tLength, torsoLength,\r\n              rulerUnit: units\r\n            })\r\n\r\n\r\n          }\r\n\r\n          //num1和num2组成测得的测量值，num的值为测量数值，单位恒为厘米\r\n          let num1 = bluData[9]\r\n          let num2 = bluData[10]\r\n          let num = getVal(num1, num2)\r\n          try {\r\n            newVal = parseFloat(num)\r\n            if (rulerUnitNum === 17) {\r\n              newVal = newVal.toFixed(2)\r\n\r\n            } else {\r\n              newVal = newVal.toFixed(1)\r\n            }\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n\r\n\r\n\r\n          function getVal(shi, xiaoshuo) {\r\n            let num1 = parseInt(shi, 16)\r\n            let num2 = parseInt(xiaoshuo, 16)\r\n\r\n            return `${num1}.${num2}`\r\n          }\r\n\r\n          //点击了确认按钮\r\n\r\n          if (confirmBtn[1] === '2' && confirmBtn[0] !== confirmBtnFlog) {\r\n            confirmBtnFlog = confirmBtn[0]\r\n            if (!nextFlog) {\r\n              nextFlog = true\r\n\r\n              if (itemIndex === ITEMINDEX) {\r\n                this._updatePetAttributes()\r\n                return\r\n              }\r\n              let newitemIndex = itemIndex >= ITEMINDEX ? 1 : itemIndex + 1\r\n\r\n              let textValue = ''\r\n              try {\r\n                switch (itemIndex) {\r\n                  case 1: textValue = l2rarmDistance; this.input2 && this.input2.focus(); break;\r\n                  case 2: textValue = h2tLength; this.input3 && this.input3.focus(); break;\r\n                  case 3: textValue = torsoLength; this.input4 && this.input4.focus(); break;\r\n                  case 4: textValue = neckCircumference; this.input5 && this.input5.focus(); break;\r\n                  case 5: textValue = upperTorsoCircumference; this.input6 && this.input6.focus(); break;\r\n                  case 6: textValue = lowerTorsoCircumference; this.input7 && this.input7.focus(); break;\r\n                  default:\r\n                    break;\r\n                }\r\n              } catch (error) {\r\n                console.log(error);\r\n              }\r\n\r\n\r\n\r\n\r\n              if (newVal !== textValue && parseInt(newVal) >= 0) {\r\n                switch (itemIndex) {\r\n                  case 1: this.setState({ l2rarmDistance: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  case 2: this.setState({ h2tLength: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  case 3: this.setState({ torsoLength: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  case 4: this.setState({ neckCircumference: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  // case 5: this.setState({ bodyWidth: newVal, itemIndex: newitemIndex, units }); break;\r\n                  case 5: this.setState({ upperTorsoCircumference: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  case 6: this.setState({ lowerTorsoCircumference: newVal, itemIndex: newitemIndex, rulerUnit: units }); break;\r\n                  default: this.setState({\r\n                    itemIndex: newitemIndex\r\n                    , rulerUnit: units\r\n                  })\r\n                    break;\r\n                }\r\n              } else {\r\n                this.setState({\r\n                  itemIndex: newitemIndex,\r\n                  rulerUnit: units\r\n                })\r\n              }\r\n\r\n\r\n\r\n            }\r\n          } else if (confirmBtn === '01') {\r\n            nextFlog = false\r\n            let textValue = ''\r\n\r\n\r\n            switch (itemIndex) {\r\n              case 1: textValue = l2rarmDistance; break;\r\n              case 2: textValue = h2tLength; break;\r\n              case 3: textValue = torsoLength; break;\r\n              case 4: textValue = neckCircumference; break;\r\n              case 5: textValue = upperTorsoCircumference; break;\r\n              case 6: textValue = lowerTorsoCircumference; break;\r\n            }\r\n\r\n            if (newVal !== textValue && parseInt(newVal) >= 0) {\r\n              if (!avoidRepetition) {\r\n                avoidRepetition = true\r\n                this.avoidRepetition = setTimeout(() => {\r\n                  avoidRepetition = false\r\n                  this.avoidRepetition && clearTimeout(this.avoidRepetition)\r\n                }, 100);\r\n                try {\r\n                  switch (itemIndex) {\r\n                    case 1: this.setState({ l2rarmDistance: newVal, rulerUnit: units }); this.input1 && this.input1.focus(); break;\r\n                    case 2: this.setState({ h2tLength: newVal, rulerUnit: units }); this.input2 && this.input2.focus(); break;\r\n                    case 3: this.setState({ torsoLength: newVal, rulerUnit: units }); this.input3 && this.input3.focus(); break;\r\n                    case 4: this.setState({ neckCircumference: newVal, rulerUnit: units }); this.input4 && this.input4.focus(); break;\r\n                    case 5: this.setState({ upperTorsoCircumference: newVal, rulerUnit: units }); this.input5 && this.input5.focus(); break;\r\n                    case 6: this.setState({ lowerTorsoCircumference: newVal, rulerUnit: units }); this.input6 && this.input6.focus(); break;\r\n                    default:\r\n                      break;\r\n                  }\r\n                } catch (error) {\r\n                  console.log(error);\r\n                }\r\n\r\n              }\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        // if (bluName.indexOf('C19') !== -1 && bluData.length > 10) {\r\n        // console.log(bluData);\r\n\r\n        else if (bluName.indexOf('Biggie') !== -1 && this.state.devicesType === 'biggie' && bluData.length > 10) {\r\n          function getVal(shi) {\r\n            if (`${shi}`.length < 2) {\r\n              return `0${shi}`\r\n            }\r\n            return `${shi}`\r\n\r\n          }\r\n\r\n          let newArr = bluData\r\n\r\n          let weight = `${getVal(newArr[9].toString(16))}${getVal(newArr[10].toString(16))}`\r\n          weight = parseInt(weight, 16)\r\n\r\n\r\n          let impedance = `${getVal(newArr[12].toString(16))}${getVal(newArr[13].toString(16))}`\r\n          impedance = parseInt(impedance, 16)\r\n\r\n          let arr11 = getVal(newArr[11].toString(16))\r\n\r\n          weight = weight / Math.pow(10, parseInt(arr11[0]))\r\n          // console.log('重量为', weight);\r\n          let weightUnits = 'kg'\r\n          let sendWeight, biggieDate\r\n          switch (arr11[1]) {\r\n            case '0':\r\n              weightUnits = 'kg';\r\n              sendWeight = weight;\r\n              biggieDate = (weight * 2.2046).toFixed(2)\r\n              break;\r\n            case '1':\r\n              weightUnits = 'lb';\r\n              sendWeight = weight;\r\n              biggieDate = (weight * 2).toFixed(2)\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n\r\n          // if (`${getVal(newArr[8].toString(16))}` === '03') {\r\n          //   //进入了结束测量\r\n          //   if (!biggieSave) {\r\n          //     //第一条测量完成指令\r\n          //     console.log('键盘写入');\r\n          //     let { units, } = this.state\r\n\r\n          //     let weight = units === '℃' ? sendWeight : biggieDate\r\n          //     ipcRenderer.send('keyboardWriting', weight)\r\n\r\n          //   }\r\n          //   biggieSave = true\r\n          // } else {\r\n          //   biggieSave = false\r\n          // }\r\n          if (weight === this.state.biggieDate && this.state.devicesType === 'biggie') {\r\n\r\n            sameBiggieNum++\r\n            if (!keyboardBiggieFlog && sameBiggieNum === 6) {\r\n              console.log('键盘写入');\r\n              let { units, } = this.state\r\n\r\n              let weight = units === '℃' ? sendWeight : biggieDate\r\n              ipcRenderer.send('keyboardWriting', weight)\r\n            }\r\n\r\n          } else {\r\n            sameBiggieNum = 0\r\n            keyboardBiggieFlog = false\r\n          }\r\n\r\n\r\n\r\n          if (weight >= 0) {\r\n\r\n            this.setState({\r\n              biggieDate,\r\n              impedance,\r\n              sendWeight,\r\n              isHaveBigieDate: true\r\n            })\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n    }\r\n    if (instruction.indexOf(newArr[2]) !== -1) {\r\n      return commandArr[newArr[2]]\r\n    } else {\r\n      return () => {\r\n        console.log('没有控制命令', commandArr);\r\n      }\r\n    }\r\n  }\r\n  testCheck = (arr) => {\r\n    if (arr.length < 7) {\r\n      return false\r\n    }\r\n    let i = 7\r\n    let checkFloag = arr[i];\r\n\r\n\r\n    for (i = 8; i < arr.length - 2; i++) {\r\n      checkFloag = checkFloag ^ arr[i];\r\n    }\r\n    return checkFloag;\r\n  }\r\n  getMac = (arr) => {\r\n    // console.log(arr);\r\n    let str = arr[1].toString(16)\r\n    if (str.length === 1) {\r\n      str = '0' + str\r\n    }\r\n    for (let i = 2; i < 7; i++) {\r\n\r\n      let item = arr[i].toString(16)\r\n      if (item.length === 1) {\r\n        item = '0' + item\r\n      }\r\n      str += `:${item}`\r\n      // }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return str\r\n  }\r\n  //15秒的预测程序\r\n  _time15 = (val) => {\r\n\r\n    let isDog = true\r\n    let { petSpeciesBreedId } = this.state\r\n    if (petSpeciesBreedId < 136) {\r\n      isDog = false\r\n    }\r\n    let parame = {\r\n      ambient_temperature: 25,\r\n      data: clinicalYuce,\r\n      deviceId: '11111111111111111111111111',\r\n\r\n      sampling_rate: '104ms'\r\n    }\r\n\r\n    console.log('预测传入数据', parame);\r\n\r\n    let url = !isDog ? '/clinical/dogPredict' : '/clinical/catPredict'\r\n    console.log(url)\r\n    console.log('预测发送只', parame);\r\n\r\n    fetchRequest(url, 'POST', parame)\r\n      .then((res) => {\r\n        // predictionFlog = false\r\n        if (res.message === 'Success') {\r\n          console.log('预测返回值：', res);\r\n\r\n          let prediction = res.result.prediction.toFixed(2)\r\n          temp15 = parseFloat(prediction)\r\n\r\n        } else {\r\n          console.log('system error')\r\n        }\r\n\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(`:${err}`)\r\n\r\n      })\r\n\r\n\r\n\r\n  }\r\n  //预测程序\r\n  _prediction = (val) => {\r\n\r\n    let isDog = true\r\n    let { petSpeciesBreedId } = this.state\r\n    if (petSpeciesBreedId < 136) {\r\n      isDog = false\r\n    }\r\n    let parame = {\r\n      // ambient_temperature: this.state.huanwen,\r\n      ambient_temperature: 17,\r\n\r\n      data: clinicalYuce,\r\n      deviceId: `${this.state.probeId}`,\r\n      // deviceId: '11111111111111111111111111',\r\n\r\n      sampling_rate: '135ms'\r\n    }\r\n\r\n    console.log('预测传入数据', parame);\r\n\r\n    clinicalYuce = []\r\n    clinicalIndex = 0\r\n\r\n    let url = isDog ? '/clinical/dogv12Predict' : '/clinical/catv12Predict'\r\n    console.log(url, petSpeciesBreedId)\r\n    console.log('预测发送只', parame);\r\n\r\n    fetchRequest(url, 'POST', parame)\r\n      .then((res) => {\r\n        console.log('预测结果：', res);\r\n        // predictionFlog = false\r\n        if (res.message === 'Success') {\r\n          console.log('预测返回值：', res);\r\n\r\n          let prediction = res.result.prediction.toFixed(2)\r\n          console.log(prediction);\r\n\r\n\r\n          let tempArr = prediction.split('.')\r\n          let intNum = tempArr[0]\r\n          let flotNum = tempArr[1]\r\n          if (intNum.length < 2) {\r\n            intNum = '0' + intNum\r\n          }\r\n          if (flotNum.length < 2) {\r\n            flotNum = '0' + flotNum\r\n          }\r\n          endflog = false\r\n\r\n\r\n          //1.这里先注释掉,后面忘了取消注释\r\n          const timeID1 = setInterval(() => {\r\n            if (endflog) {\r\n              let Temp = parseFloat(prediction)\r\n              let progress = (Temp - 25) * 5\r\n              this.setState({\r\n                Temp,\r\n                progress\r\n              })\r\n              endflog = false\r\n\r\n              timeID1 && clearInterval(timeID1)\r\n            } else {\r\n              const timeID = setTimeout(() => {\r\n                ipcRenderer.send('usbdata', { command: '42', arr: [intNum, flotNum] })\r\n                timeID && clearTimeout(timeID)\r\n              }, 10)\r\n\r\n            }\r\n          }, 200)\r\n\r\n\r\n\r\n        } else {\r\n          const timeID = setTimeout(() => {\r\n            // this.sendData('41', [])\r\n            ipcRenderer.send('usbdata', { command: '41', arr: [] })\r\n\r\n            clearTimeout(timeID)\r\n          }, 10)\r\n          console.log('system error')\r\n        }\r\n\r\n\r\n      })\r\n      .catch((err) => {\r\n        // predictionFlog = false\r\n        console.log(err);\r\n        const timeID = setTimeout(() => {\r\n          // this.sendData('41', [])\r\n          ipcRenderer.send('usbdata', { command: '41', arr: [] })\r\n\r\n          clearTimeout(timeID)\r\n        }, 10)\r\n        console.log(`:${err}`)\r\n\r\n      })\r\n\r\n\r\n\r\n  }\r\n  _mearsurePort = () => {\r\n    switch (this.state.devicesType) {\r\n      case 'mella':\r\n        switch (this.state.mearsurePart) {\r\n          case 1: return (\r\n            <div >\r\n              <div className='part'>\r\n                Axillary\r\n                <img src={ye} alt=\"\" width=\"50px\" />\r\n\r\n              </div>\r\n            </div>\r\n          );\r\n          case 2: return (\r\n            <div >\r\n              <div className='part'>\r\n                Rectal\r\n                <img src={gang} alt=\"\" width=\"50px\" />\r\n\r\n              </div>\r\n            </div>\r\n          );\r\n          default: return (\r\n            <div >\r\n              <div className='part'>\r\n                Ear\r\n                <img src={er} alt=\"\" width=\"50px\" />\r\n\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n      case 'biggie':\r\n        return (\r\n          <div className='part'>\r\n            Scale\r\n            <img src={scale} alt=\"\" width=\"50px\" />\r\n\r\n          </div>\r\n        )\r\n      default:\r\n        break;\r\n    }\r\n\r\n\r\n  }\r\n  _getHistory = () => {\r\n    let historys = []\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    fetchRequest(`/pet/getPetExamByPetId/${this.state.petId}`, 'GET', '')  //userID要自动的\r\n      .then(res => {\r\n        console.log(res);\r\n        this.setState({\r\n          loading: false\r\n        })\r\n        if (res.flag === true) {\r\n          let datas = res.data\r\n          console.log('-------', datas);\r\n          for (let i = datas.length - 1; i >= 0; i--) {\r\n            let data = datas[i]\r\n            let { petId, examId, userId, petVitalTypeId, temperature, roomTemperature, bloodPressure, memo,\r\n              bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, createTime,\r\n              modifiedTime, fat, weight } = data\r\n            // console.log(createTime);\r\n            let time = null\r\n            if (storage.vetspireOrEzyvet === '2') {\r\n              time = modifiedTime\r\n              if (modifiedTime === '' || modifiedTime === null) {\r\n                time = createTime\r\n              }\r\n            } else {\r\n              time = createTime\r\n            }\r\n            let json = {\r\n              time,\r\n              Temp: temperature,\r\n              placement: petVitalTypeId,\r\n              note: memo,\r\n              historyId: examId,\r\n              bodyConditionScore,\r\n              heartRate,\r\n              respiratoryRate,\r\n              referenceRectalTemperature,\r\n              furLength,\r\n              roomTemperature,\r\n              bloodPressure,\r\n              petId,\r\n              userId,\r\n              fat, weight\r\n            }\r\n            // console.log(json);\r\n            historys.push(json)\r\n\r\n\r\n          }\r\n          console.log('----', historys);\r\n          let historyData = []\r\n          for (let i = 0; i < historys.length; i++) {\r\n            let history = historys[i]\r\n            let { bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, roomTemperature, bloodPressure, petId, userId, examId, time, fat, weight } = history\r\n            let placement = history.placement\r\n            if (placement === null || placement === '') {\r\n              placement = 1\r\n            }\r\n            let str = {\r\n              date: moment(time).format('MMM DD'),\r\n              time: moment(time).format('hh:mm A'),\r\n              temp: history.Temp,\r\n              placement,\r\n              note: history.note,\r\n              historyId: history.historyId,\r\n              bodyConditionScore, heartRate, respiratoryRate, referenceRectalTemperature, furLength, roomTemperature, bloodPressure, petId, userId,\r\n              key: examId,\r\n              fat, weight\r\n            }\r\n            historyData.push(str)\r\n          }\r\n          console.log('historyData:', historyData);\r\n          this.setState({\r\n            historyData\r\n          })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          loading: false\r\n        })\r\n        console.log(err);\r\n      })\r\n\r\n  }\r\n\r\n\r\n\r\n  _getPetInfo = (value) => {\r\n    let datas = null\r\n\r\n    datas = {\r\n      patientId: this.state.patientId,\r\n      org: this.state.org\r\n    }\r\n\r\n\r\n\r\n    console.log('入参：', datas);\r\n    fetchRequest('/pet/getPetInfoByPatientIdAndPetId', 'POST', datas)\r\n      .then(res => {\r\n        console.log('宠物信息', res);\r\n        this.setState({\r\n          spin: false\r\n        })\r\n        if (res.flag === true) {\r\n          //有宠物，进入1\r\n          let { petId, petSpeciesBreedId } = res.data[0]\r\n          console.log('------------', petId);\r\n          this.setState({\r\n            petId,\r\n            petSpeciesBreedId\r\n          }, () => {\r\n            console.log('去获取历史记录');\r\n            this._getHistory()\r\n          })\r\n        } else {\r\n          //没有宠物，进入2\r\n\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          spin: false\r\n        })\r\n        console.log(err);\r\n      })\r\n\r\n  }\r\n\r\n  draggleRef = React.createRef();\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  onStart = (event, uiData) => {\r\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\r\n    const targetRect = this.draggleRef?.current?.getBoundingClientRect();\r\n    this.setState({\r\n      bounds: {\r\n        left: -targetRect?.left + uiData?.x,\r\n        right: clientWidth - (targetRect?.right - uiData?.x),\r\n        top: -targetRect?.top + uiData?.y,\r\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y)\r\n      }\r\n    });\r\n  };\r\n  _changeDeviceType = (val, e) => {\r\n    console.log(val, e)\r\n    this.setState({\r\n      devicesType: val\r\n    })\r\n\r\n    if (val === 'biggie' && this.state.isHaveBigieDate) {\r\n      this.setState({\r\n        isHaveBigieDate: false\r\n      })\r\n      keyboardBiggieFlog = false\r\n      sameBiggieNum = 0\r\n    }\r\n\r\n    temporaryStorage.devicesType = val\r\n\r\n\r\n\r\n\r\n  }\r\n  _refresh = () => {\r\n    console.log('点击了');\r\n    this.setState({\r\n      spin: true,  //\r\n      // addpatient_description: '',\r\n      // addpatient_petName: '',\r\n      // addpatient_species: 1\r\n    })\r\n    if (this.state.addpatient_patientId === '') {\r\n      this.setState({\r\n        spin: false\r\n      })\r\n    } else {\r\n      let list = electronStore.get('doctorExam')\r\n\r\n      let searchData = []\r\n      let keyWord = this.state.addpatient_patientId\r\n      for (let i = 0; i < list.length; i++) {\r\n        let patientId = list[i].patientId\r\n        if (`${patientId}` === keyWord) {\r\n          searchData.push(list[i])\r\n        }\r\n      }\r\n      console.log('搜索到的宠物为', searchData);\r\n      if (searchData.length > 0) {\r\n        let data = searchData[0]\r\n        let { l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n          h2tLength, torsoLength } = data\r\n\r\n        l2rarmDistance = l2rarmDistance ? `${l2rarmDistance}` : ''\r\n        neckCircumference = neckCircumference ? `${neckCircumference}` : ''\r\n        upperTorsoCircumference = upperTorsoCircumference ? `${upperTorsoCircumference}` : ''\r\n        lowerTorsoCircumference = lowerTorsoCircumference ? `${lowerTorsoCircumference}` : ''\r\n        h2tLength = h2tLength ? `${h2tLength}` : ''\r\n        torsoLength = torsoLength ? `${torsoLength}` : ''\r\n        let weight = data.weight\r\n        if (weight && weight !== 'unknown') {\r\n          weight = parseFloat(weight).toFixed(1)\r\n        }\r\n        let breedName = data.breed\r\n        if (!breedName) {\r\n          breedName = 'unknown'\r\n        }\r\n        switch (breedName) {\r\n          case 'defaultdog':\r\n            breedName = 'Dog'\r\n\r\n            break;\r\n          case 'defaultother':\r\n            breedName = 'Other'\r\n\r\n            break;\r\n          case 'defaultcat':\r\n            breedName = 'Cat'\r\n            break;\r\n\r\n        }\r\n        console.log('-----------', weight);\r\n        this.setState({\r\n          petName: data.petName,\r\n          owner: data.owner,\r\n          breedName,\r\n          weight,\r\n          age: data.age,\r\n          patientId: data.patientId,\r\n          petId: data.petId,\r\n          itemIndex: 1,\r\n          l2rarmDistance,\r\n          neckCircumference,\r\n          upperTorsoCircumference,\r\n          lowerTorsoCircumference,\r\n          h2tLength,\r\n          torsoLength,\r\n          isWalkIn: false\r\n        }, () => {\r\n          this._getHistory()\r\n        })\r\n      } else {\r\n        this.setState({\r\n          spin: false\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  selectWZ = (val) => {\r\n    switch (val) {\r\n      case 'dog':\r\n        this.setState({\r\n          catImg: cat1,\r\n          dogImg: redDog1,\r\n          otherImg: other,\r\n          selectWZ: val,\r\n        })\r\n\r\n        break;\r\n\r\n      case 'cat':\r\n        this.setState({\r\n          catImg: redCat1,\r\n          dogImg: dog1,\r\n          otherImg: other,\r\n          selectWZ: val,\r\n        })\r\n\r\n        break;\r\n\r\n      case 'other':\r\n        this.setState({\r\n          catImg: cat1,\r\n          dogImg: dog1,\r\n          otherImg: redother,\r\n          selectWZ: val,\r\n        })\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  _topLeft = () => {\r\n    let { patientId, breedName, isMix, age, petName, owner, weight, url, speciesId, petId, isWalkIn, spin, dogImg, catImg, otherImg, addpatient_patientId } = this.state\r\n    if (isWalkIn) {\r\n\r\n      return (\r\n        <div className=\"l\">\r\n          <div className=\"petinfo\">\r\n            <div className=\"heard\"\r\n              style={{ height: px(50), marginTop: px(10), fontSize: px(24) }}\r\n            >\r\n\r\n              <div className=\"ltitle\" style={{ marginLeft: px(30) }}>\r\n                <p > {`Walk-In Exam`}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"walkPetinfo\"\r\n              style={{ marginTop: mTop(10), marginBottom: mTop(10), fontSize: px(16), paddingLeft: px(30), }}\r\n            >\r\n              <div className=\"patirntID\"\r\n                style={{ marginTop: px(10), }}\r\n              >\r\n                <p style={{ width: '80px', }}>Patient ID:</p>\r\n                <Input\r\n                  style={{ width: px(150), height: mTop(33), marginLeft: px(25), fontSize: px(18), marginRight: px(6) }}\r\n\r\n                  value={addpatient_patientId}\r\n                  bordered={false}\r\n                  onChange={(item) => {\r\n                    this.setState({\r\n                      addpatient_patientId: item.target.value.replace(/\\s/g, \"\")\r\n                    })\r\n                  }}\r\n                  onKeyDown={(e) => {\r\n                    // console.log('------', e);\r\n                    if (e.keyCode === 13) {\r\n                      this._refresh()\r\n                    }\r\n                  }}\r\n                />\r\n                <SyncOutlined className='refresh'\r\n                  style={{ fontSize: px(25) }}\r\n                  onClick={this._refresh} spin={spin} />\r\n              </div>\r\n\r\n              <div className='newPet'>\r\n                <div className=\"patirntID\"\r\n                  style={{ marginTop: px(10) }}\r\n                >\r\n                  <p style={{ width: '80px' }}>Pet Name*:</p>\r\n                  <Input\r\n                    // style={{ border: 'none', outline: 'medium' }}\r\n                    style={{ width: px(150), height: mTop(33), marginLeft: px(25), fontSize: px(18), marginRight: px(6) }}\r\n\r\n                    value={this.state.addpatient_petName}\r\n                    bordered={false}\r\n                    onChange={(item) => {\r\n                      // console.log(item);\r\n                      this.setState({\r\n                        addpatient_petName: item.target.value\r\n                      })\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\"patirntID\"\r\n                  style={{ marginTop: px(10) }}\r\n                >\r\n                  <p style={{ width: '80px' }}>Description:</p>\r\n                  <Input\r\n                    // style={{ border: 'none', outline: 'medium' }}\r\n                    style={{ width: px(150), height: mTop(33), marginLeft: px(25), fontSize: px(18), marginRight: px(6) }}\r\n\r\n                    value={this.state.addpatient_description}\r\n                    bordered={false}\r\n                    onChange={(item) => {\r\n                      // console.log(item);\r\n                      this.setState({\r\n                        addpatient_description: item.target.value\r\n                      })\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n\r\n                <div className=\"species\" style={{ marginBottom: px(20), height: px(70), marginTop: px(10) }}>\r\n\r\n                  <ul>\r\n                    <li >\r\n                      <div className='speciesChild' >\r\n                        <div className='dog'\r\n\r\n                          onClick={() => { this.selectWZ('dog') }}>\r\n                          <img src={dogImg} alt=\"\" style={{ width: px(40) }} />\r\n                        </div>\r\n                        Dog\r\n                      </div>\r\n                    </li>\r\n                    <li>\r\n                      <div className='speciesChild' >\r\n                        <div className='dog' onClick={() => { this.selectWZ('cat') }} >\r\n                          <img src={catImg} alt=\"\" style={{ height: px(40) }} />\r\n                        </div>\r\n                        Cat\r\n                      </div>\r\n                    </li>\r\n                    <li >\r\n                      <div className='speciesChild' >\r\n                        <div className='dog' onClick={() => { this.selectWZ('other') }} >\r\n                          <img src={otherImg} alt=\"\" style={{ width: px(40) }} />\r\n                        </div>\r\n                        Other\r\n                      </div>\r\n                    </li>\r\n\r\n                  </ul>\r\n                </div>\r\n\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n          <div className=\"deviceInfo\">\r\n            <div className=\"heard1\"\r\n              style={{ height: px(40), marginTop: px(10), paddingRight: px(10), paddingLeft: px(30) }}\r\n            >\r\n              <span>Device Info</span>\r\n            </div>\r\n            <div className=\"devicesBody\"\r\n              style={{ marginTop: mTop(23) }}\r\n            >\r\n              <div className=\"devices\"\r\n                style={{ paddingLeft: px(31) }}\r\n              >\r\n                <p>Device:</p>\r\n                <Select\r\n                  value={this.state.devicesType}\r\n                  style={{ width: 120 }}\r\n                  size={'small'}\r\n                  onChange={this._changeDeviceType}\r\n                >\r\n                  <Option value=\"mella\">Mella</Option>\r\n                  <Option value=\"biggie\">Biggie</Option>\r\n                </Select>\r\n              </div>\r\n              {this._mearsurePort()}\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      )\r\n\r\n    }\r\n\r\n    if (breedName === null) {\r\n      breedName = ''\r\n    }\r\n    let mix = ''\r\n    if (isMix === true) {\r\n      mix = 'Mix'\r\n    }\r\n    let title = ''\r\n    if (petName && `${petName}`.toLowerCase() !== 'unknown') {\r\n      title += `${petName}`\r\n    }\r\n    if (petName && `${petName}`.toLowerCase() !== 'unknown' && patientId && `${patientId}`.toLowerCase() !== 'unknown') {\r\n      title += `, \\xa0 `\r\n    }\r\n    if (patientId && `${patientId}`.toLowerCase() !== 'unknown') {\r\n      title += `ID: ${patientId}`\r\n    }\r\n\r\n    let wei = (weight && `${weight}`.toLowerCase() !== 'unknown') ? `${weight}` : ''\r\n    if (wei && wei.indexOf(`kg`) === -1) {\r\n      wei += 'kg'\r\n    }\r\n    let image = `url(${other})`\r\n    if (url) {\r\n      image = `url(${url}?download=0&width=80)`\r\n    } else {\r\n      switch (speciesId) {\r\n        case 1: image = `url(${cat})`; break;\r\n        case 2: image = `url(${dog})`; break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n      <div className=\"l\">\r\n        <div className=\"petinfo\">\r\n          <div className=\"heard\"\r\n            style={{ height: px(50), marginTop: px(10), fontSize: px(24) }}\r\n          >\r\n            <div className=\"avaterBox\">\r\n              <div className='avatar'\r\n                style={{\r\n                  width: px(50),\r\n                  height: px(50),\r\n                  // marginRight: px(20),\r\n                  backgroundImage: image,\r\n                  marginLeft: px(20)\r\n\r\n\r\n                }}\r\n                onClick={() => {\r\n                  storage.goEditPet = 'nomalmeasurement'\r\n                  this.props.history.push({ pathname: '/page9', participate: { patientId, petName, petId } })\r\n                }}\r\n              >\r\n                {(storage.identity === '3') &&\r\n                  <img className='edit' src={edit} alt=\"\" width='18px' />}\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"ltitle\">\r\n              <p > {title}</p>\r\n            </div>\r\n\r\n\r\n\r\n          </div>\r\n\r\n          <div className=\"info\"\r\n            style={{ marginTop: mTop(10), marginBottom: mTop(10), fontSize: px(16), paddingLeft: px(60) }}\r\n          >\r\n            <p>Owner: {(owner && `${owner}`.toLowerCase() !== 'unknown') ? `${owner}` : ''}</p>\r\n            <p>Breed: {(breedName && `${breedName}`.toLowerCase() !== 'unknown') ? `${breedName}  ${mix}` : ''}</p>\r\n            <p>Age: {((age && `${age}`.toLowerCase() !== 'unknown') || age === 0) ? `${age} yrs` : ''} </p>\r\n            <p>Weight: {wei}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"deviceInfo\">\r\n          <div className=\"heard1\"\r\n            style={{ height: mTop(40), marginTop: mTop(10), paddingRight: px(10), paddingLeft: px(30) }}\r\n          >\r\n            <span>Device Info</span>\r\n          </div>\r\n          <div className=\"devicesBody\"\r\n            style={{ marginTop: mTop(23) }}\r\n          >\r\n            <div className=\"devices\"\r\n              style={{ paddingLeft: px(31) }}\r\n            >\r\n              <p>Device:</p>\r\n              <Select\r\n                value={this.state.devicesType}\r\n                style={{ width: 120 }}\r\n                size={'small'}\r\n                onChange={this._changeDeviceType}\r\n              >\r\n                <Option value=\"mella\">Mella</Option>\r\n                <Option value=\"biggie\">Biggie</Option>\r\n              </Select>\r\n            </div>\r\n            {this._mearsurePort()}\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n\r\n\r\n  }\r\n  handleChange = index => {\r\n    console.log('---------', index);\r\n    this.setState({\r\n      furLength: index\r\n    })\r\n  };\r\n  handleChange1 = index => {\r\n    console.log('---------', index);\r\n    this.setState({\r\n      bodyType: index\r\n    })\r\n  };\r\n\r\n  _foot = () => {\r\n\r\n    // console.log('所有的历史记录：', historyData);\r\n\r\n\r\n\r\n    let lbgc = '', rbgc = ''\r\n    if (this.state.isNotes) {\r\n      lbgc = 'rgba(25,173,228,0.5)'; rbgc = 'rgba(105,201,237,1)'\r\n    } else {\r\n      lbgc = 'rgba(105,201,237,1)'; rbgc = 'rgba(25,173,228,0.5)'\r\n    }\r\n\r\n    return (\r\n      <div className=\"clinical_foot\">\r\n        <div className=\"top\"\r\n          style={{ height: '10%', }}\r\n        >\r\n          <div className=\"foot_l\" style={{ backgroundColor: lbgc }} onClick={() => this.setState({ isNotes: true })}>\r\n            Notes\r\n          </div>\r\n          <div className=\"foot_l\" style={{ backgroundColor: rbgc }} onClick={() => this.setState({ isNotes: false })}>\r\n            History\r\n          </div>\r\n        </div>\r\n        {(this.state.isNotes) ? (\r\n          this._notes()\r\n        ) : (this._history())}\r\n\r\n      </div >\r\n    )\r\n  }\r\n  _notes = () => {\r\n    let { l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n      h2tLength, torsoLength, rulerUnit, updatePetAttributes } = this.state\r\n    function num(val) {\r\n      let weight = val.target.value\r\n      let newText = weight.replace(/[^\\d.]/g, \"\");\r\n      newText = newText.replace(/^\\./g, \"\");\r\n      newText = newText.replace(/\\.{2,}/g, \".\");\r\n      newText = newText.replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\");\r\n      newText = newText.replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3');//只能输入两个小数\r\n      if (newText.indexOf(\".\") < 0 && newText != \"\") {//以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额\r\n        newText = parseFloat(newText)\r\n      }\r\n      return `${newText}`\r\n\r\n    }\r\n    if (this.state.devicesType === 'mella') {\r\n      return (\r\n        <div className=\"note\" style={{ height: mTop(256), marginTop: mTop(10) }}>\r\n          <textarea\r\n            rows=\"10\"\r\n            cols=\"30\"\r\n            value={this.state.notes}\r\n            onChange={(val) => {\r\n              console.log(val);\r\n              this.setState({\r\n                notes: val.target.value\r\n              })\r\n            }}\r\n          >\r\n          </textarea>\r\n        </div>\r\n      )\r\n    } else {\r\n      let { speciesId } = this.state\r\n      let species = speciesId === 1 ? catcareacte : careacte\r\n      return (\r\n        <div className=\"characteristics flex\">\r\n          <div className=\"careacterL flex\">\r\n            <div className=\"item flex\">\r\n              <div className=\"textTitle\" style={{ fontSize: px(15) }}>Head Circumference:</div>\r\n              <div className=\"input flex\" style={{ height: px(30), borderRadius: px(40) }}>\r\n                <input type=\"text\"\r\n                  style={{\r\n                    borderRadius: px(40), fontSize: px(17),\r\n                    paddingRight: px(20)\r\n                  }}\r\n                  value={l2rarmDistance}\r\n                  ref={(input) => { this.input1 = input }}\r\n                  // autoFocus={true}\r\n                  onChange={(val) => {\r\n                    let data = num(val)\r\n                    console.log(data);\r\n                    this.setState({\r\n                      l2rarmDistance: data\r\n                    })\r\n\r\n\r\n                  }}\r\n                  onFocus={() => {\r\n                    this.setState({\r\n                      itemIndex: 1\r\n                    })\r\n                  }}\r\n                />\r\n                <div className=\"unit\" style={{ right: px(8), fontSize: px(15) }}>{rulerUnit}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"item flex\">\r\n              <div className=\"textTitle\" style={{ fontSize: px(15) }}>Heard to Tail Length:</div>\r\n              <div className=\"input flex\" style={{ height: px(30), borderRadius: px(40) }}>\r\n                <input type=\"text\"\r\n                  style={{ borderRadius: px(40), fontSize: px(17), paddingRight: px(20) }}\r\n                  ref={(input) => { this.input2 = input }}\r\n                  value={h2tLength}\r\n                  onChange={(val) => {\r\n                    let data = num(val)\r\n                    this.setState({\r\n                      h2tLength: data\r\n                    })\r\n                  }}\r\n                  onFocus={() => {\r\n                    this.setState({\r\n                      itemIndex: 2\r\n                    })\r\n                  }}\r\n                />\r\n                <div className=\"unit\" style={{ right: px(8), fontSize: px(17) }}>{rulerUnit}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"item flex\">\r\n              <div className=\"textTitle\" style={{ fontSize: px(15) }}>Neck to Tail Length:</div>\r\n              <div className=\"input flex\" style={{ height: px(30), borderRadius: px(40) }}>\r\n                <input type=\"text\"\r\n                  style={{ borderRadius: px(40), fontSize: px(17), paddingRight: px(20) }}\r\n                  ref={(input) => { this.input3 = input }}\r\n                  value={torsoLength}\r\n                  onChange={(val) => {\r\n                    let data = num(val)\r\n                    this.setState({\r\n                      torsoLength: data\r\n                    })\r\n\r\n\r\n                  }}\r\n                  onFocus={() => {\r\n                    this.setState({\r\n                      itemIndex: 3\r\n                    })\r\n                  }}\r\n                />\r\n                <div className=\"unit\" style={{ right: px(8), fontSize: px(17) }}>{rulerUnit}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"item flex\">\r\n              <div className=\"textTitle\" style={{ fontSize: px(15) }}>Neck:</div>\r\n              <div className=\"input flex\" style={{ height: px(30), borderRadius: px(40) }}>\r\n                <input type=\"text\"\r\n                  style={{ borderRadius: px(40), fontSize: px(17), paddingRight: px(20) }}\r\n                  ref={(input) => { this.input4 = input }}\r\n                  value={neckCircumference}\r\n                  onChange={(val) => {\r\n                    let data = num(val)\r\n                    this.setState({\r\n                      neckCircumference: data\r\n                    })\r\n\r\n\r\n                  }}\r\n                  onFocus={() => {\r\n                    this.setState({\r\n                      itemIndex: 4\r\n                    })\r\n                  }}\r\n                />\r\n                <div className=\"unit\" style={{ right: px(8), fontSize: px(17) }}>{rulerUnit}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"item flex\">\r\n              <div className=\"textTitle\" style={{ fontSize: px(15) }}>Upper Torso:</div>\r\n              <div className=\"input flex\" style={{ height: px(30), borderRadius: px(40) }}>\r\n                <input type=\"text\"\r\n                  style={{ borderRadius: px(40), fontSize: px(17), paddingRight: px(20) }}\r\n                  value={upperTorsoCircumference}\r\n                  ref={(input1) => { this.input5 = input1 }}\r\n                  onChange={(val) => {\r\n                    let data = num(val)\r\n                    this.setState({\r\n                      upperTorsoCircumference: data\r\n                    })\r\n\r\n\r\n                  }}\r\n                  onFocus={() => {\r\n                    this.setState({\r\n                      itemIndex: 5\r\n                    })\r\n                  }}\r\n                />\r\n                <div className=\"unit\" style={{ right: px(8), fontSize: px(17) }}>{rulerUnit}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"item flex\">\r\n              <div className=\"textTitle\" style={{ fontSize: px(15) }}>Lower Torso:</div>\r\n              <div className=\"input flex\" style={{ height: px(30), borderRadius: px(40) }}>\r\n                <input type=\"text\"\r\n                  style={{ borderRadius: px(40), fontSize: px(17), paddingRight: px(20) }}\r\n                  value={`${lowerTorsoCircumference}`}\r\n                  ref={(input) => { this.input6 = input }}\r\n                  onChange={(val) => {\r\n                    let data = num(val)\r\n                    this.setState({\r\n                      lowerTorsoCircumference: data\r\n                    })\r\n                  }}\r\n                  onFocus={() => {\r\n                    this.setState({\r\n                      itemIndex: 6\r\n                    })\r\n                  }}\r\n                />\r\n                <div className=\"unit\" style={{ right: px(8), fontSize: px(17) }}>{rulerUnit}</div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n          <div className=\"careacterR flex\">\r\n            <div className=\"imgBox flex\" style={{ borderRadius: px(20) }}>\r\n              <img src={species} alt=\"\" style={{ width: '80%' }} />\r\n            </div>\r\n          </div>\r\n\r\n          <MyModal\r\n            visible={updatePetAttributes}\r\n            text={'Uploading pet information to database'}\r\n          />\r\n        </div >\r\n      )\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n  //更新宠物的属性值，比如头尾、上躯干周长等\r\n  _updatePetAttributes = () => {\r\n    let { l2rarmDistance, lowerTorsoCircumference, upperTorsoCircumference, neckCircumference, rulerUnit, petId, h2tLength, torsoLength } = this.state\r\n\r\n\r\n    l2rarmDistance = newNum(l2rarmDistance)\r\n    lowerTorsoCircumference = newNum(lowerTorsoCircumference)\r\n    upperTorsoCircumference = newNum(upperTorsoCircumference)\r\n    neckCircumference = newNum(neckCircumference)\r\n    h2tLength = newNum(h2tLength)\r\n    torsoLength = newNum(torsoLength)\r\n\r\n    function newNum(val) {\r\n      if (val) {\r\n        if (rulerUnit === 'in') {\r\n          return parseFloat((parseFloat(val) * 2.54).toFixed(1))\r\n\r\n        } else {\r\n          return parseFloat(val)\r\n        }\r\n\r\n      } else {\r\n        return ''\r\n      }\r\n\r\n\r\n    }\r\n\r\n    let prams = {\r\n      l2rarmDistance: l2rarmDistance || null,\r\n      lowerTorsoCircumference: lowerTorsoCircumference || null,\r\n      upperTorsoCircumference: upperTorsoCircumference || null,\r\n      neckCircumference: neckCircumference || null,\r\n      h2tLength: h2tLength || null,\r\n      torsoLength: torsoLength || null,\r\n    }\r\n    this.setState({\r\n      updatePetAttributes: true\r\n    })\r\n    let url = `/pet/updatePetInfo/${storage.userId}/${this.state.petId}`\r\n    console.log('入参:', prams);\r\n    fetchRequest(url, 'POST', prams)\r\n      .then(res => {\r\n        console.log(res);\r\n        this.setState({\r\n          updatePetAttributes: false,\r\n          itemIndex: 1\r\n        })\r\n        this.input1.focus();\r\n\r\n        if (res.flag) {\r\n          message.success('Uploaded successfully')\r\n        } else {\r\n          message.error('upload failed')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          updatePetAttributes: false\r\n        })\r\n        message.error('update failed')\r\n        console.log(err);\r\n      })\r\n  }\r\n  _history = () => {\r\n    const _del = (key, record) => {\r\n      console.log('删除', key, record);\r\n      /**------------这里还要删除后台的数据------------ */\r\n      fetchRequest(`/pet/deletePetExamByExamId/${key}`, 'DELETE')\r\n        .then(res => {\r\n          if (res.flag === true) {\r\n            console.log('删除成功');\r\n            const historyData = [...this.state.historyData];\r\n            console.log(historyData);\r\n            this.setState({\r\n              historyData: historyData.filter((item) => item.historyId !== key)\r\n            });\r\n          } else {\r\n            console.log('删除失败');\r\n          }\r\n        })\r\n    }\r\n    const _edit = (key, record) => {\r\n      console.log('编辑', key, record);\r\n      this.setState({\r\n        visible: true,\r\n        editId: key,\r\n        memo: record.note\r\n      })\r\n\r\n\r\n\r\n    }\r\n\r\n    let { historyData, devicesType } = this.state\r\n    let listData = [], columns = []\r\n    switch (devicesType) {\r\n      case 'biggie':\r\n        for (let i = 0; i < historyData.length; i++) {\r\n          const element = historyData[i];\r\n          if (element.weight) {\r\n            listData.push(element)\r\n          }\r\n\r\n        }\r\n\r\n        columns = [\r\n          {\r\n            title: '',\r\n            dataIndex: 'operation',\r\n            key: 'operation',\r\n            width: '15%',\r\n            render: (text, record, index) => {\r\n              // console.log('狩猎:', text, record, index);\r\n              //record:\r\n              return (\r\n                <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around', padding: `${px(18)}px 0` }}>\r\n                  <Popconfirm title=\"Sure to delete?\" onConfirm={() => _del(record.historyId, record)}>\r\n                    <img src={del} alt=\"\" style={{ width: px(25) }} />\r\n                  </Popconfirm>\r\n                  <img src={edit} alt=\"\" style={{ width: px(25) }}\r\n                    onClick={() => _edit(record.historyId, record)}\r\n                  />\r\n                </div>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'Date',\r\n            dataIndex: 'date',\r\n            key: 'date',\r\n            width: '17%',\r\n            render: (text, record, index) => {\r\n\r\n              return (\r\n                <p style={{ textAlign: 'center' }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'Time',\r\n            dataIndex: 'time',\r\n            key: 'time',\r\n            width: '17%',\r\n            render: (text, record, index) => {\r\n\r\n              return (\r\n                <p style={{ textAlign: 'center' }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: `Weight`,\r\n            key: 'weight',\r\n            dataIndex: 'weight',\r\n            width: '13%',\r\n            render: (text, record, index) => {\r\n\r\n\r\n              let bag = '#58BDE6', tem = ''\r\n\r\n              if (this.state.units === '℃') {\r\n                if (text) {\r\n                  tem = `${text.toFixed(1)}kgs`\r\n                }\r\n              } else {\r\n\r\n                tem = `${(text * 2.2046).toFixed(1)}lbs`\r\n\r\n              }\r\n              return (\r\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n\r\n                  <p style={{ margin: 0, padding: 0, color: bag }}>{tem}</p>\r\n                </div>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'BF%',\r\n            dataIndex: 'fat',\r\n            key: 'fat',\r\n            align: 'center',\r\n            width: '11%',\r\n            render: (text, record, index) => {\r\n\r\n              return (\r\n                <p style={{ textAlign: 'center', color: '#58BDE6' }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'BCS',\r\n            dataIndex: 'bodyConditionScore',\r\n            key: 'bodyConditionScore',\r\n            align: 'center',\r\n            width: '18%',\r\n            render: (text, record, index) => {\r\n\r\n              return (\r\n                <p style={{ textAlign: 'center', color: '#58BDE6' }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'Note',\r\n            dataIndex: 'note',\r\n            key: 'note',\r\n            width: '11%',\r\n            render: (text, record, index) => {\r\n\r\n              return (\r\n                <p style={{ width: '70px' }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n        ];\r\n\r\n\r\n        break;\r\n      case 'mella':\r\n        for (let i = 0; i < historyData.length; i++) {\r\n          const element = historyData[i];\r\n          if (element.temp) {\r\n            listData.push(element)\r\n          }\r\n\r\n        }\r\n        columns = [\r\n          {\r\n            title: '',\r\n            dataIndex: 'operation',\r\n            key: 'operation',\r\n            width: '15%',\r\n            render: (text, record, index) => {\r\n              // console.log('狩猎:', text, record, index);\r\n              //record:\r\n              return (\r\n                <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around', padding: `${px(18)}px 0` }}>\r\n                  <Popconfirm title=\"Sure to delete?\" onConfirm={() => _del(record.historyId, record)}>\r\n                    <img src={del} alt=\"\" style={{ width: px(25) }} />\r\n                  </Popconfirm>\r\n                  <img src={edit} alt=\"\" style={{ width: px(25) }}\r\n                    onClick={() => _edit(record.historyId, record)}\r\n                  />\r\n                </div>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'Date',\r\n            dataIndex: 'date',\r\n            key: 'date',\r\n            width: '17%',\r\n            render: (text, record, index) => {\r\n\r\n              return (\r\n                <p style={{ textAlign: 'center' }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'Time',\r\n            dataIndex: 'time',\r\n            key: 'time',\r\n            width: '17%',\r\n            render: (text, record, index) => {\r\n\r\n              return (\r\n                <p style={{ textAlign: 'center' }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: `Temp(${this.state.units})`,\r\n            key: 'temp',\r\n            dataIndex: 'temp',\r\n            width: '17%',\r\n            render: (text, record, index) => {\r\n              // console.log(text, record);\r\n\r\n\r\n              /**\r\n              * bag：温度数值前的圆圈的背景颜色\r\n              * tem：展示的温度\r\n              * endvalue:将从后台得到的数据全部转化成华氏度\r\n              * min：猫的正常体温的左区间,单位℉，后期要做的猫狗都行，这需要告诉我此宠物是猫还是狗\r\n              * max：猫的正常体温的右区间,单位℉，后期要做的猫狗都行，这需要告诉我此宠物是猫还是狗\r\n              *\r\n              */\r\n\r\n              let bag = '', tem = ''\r\n\r\n              let endValue = text > 55 ? text : parseInt((text * 1.8 + 32) * 10) / 10\r\n              let min = 99.5, max = 102.2\r\n              //99.5 = 37.5   102.2=39\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n              if (endValue > max) {\r\n                bag = '#E1206D'\r\n              } else if (endValue < min) {\r\n                bag = '#98DA86'\r\n              } else {\r\n                bag = '#58BDE6'\r\n              }\r\n\r\n\r\n\r\n              if (this.state.units === '℃') {\r\n                if (text) {\r\n                  tem = `${text.toFixed(1)}${this.state.units}`\r\n                }\r\n              } else {\r\n                if (text) {\r\n                  if (text > 55) {\r\n                    tem = `${text}${this.state.units}`\r\n                  } else {\r\n                    tem = `${parseInt((text * 1.8 + 32) * 10) / 10}${this.state.units}`\r\n                  }\r\n\r\n                }\r\n              }\r\n              return (\r\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                  {tem ? <div style={{ width: '8px', height: '8px', borderRadius: '8px', backgroundColor: bag, marginRight: '3px' }} /> : null}\r\n                  <p style={{ margin: 0, padding: 0 }}>{tem}</p>\r\n                </div>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'Placement',\r\n            dataIndex: 'placement',\r\n            key: 'placement',\r\n            align: 'center',\r\n            width: '18%',\r\n            render: (text, record, index) => {\r\n              // console.log(text, record, index);\r\n              /**\r\n               * old:   1:腋温  2：肛温 3：耳温\r\n               * new:   1.腋温  2：大腿温度 3.肛温  4：耳温\r\n               */\r\n              switch (record.placement) {\r\n                case 0: return (    //腋温\r\n                  <div>\r\n                    <img src={placement_er} alt=\"\" />\r\n                  </div>\r\n                )\r\n                case 1: return (    //腋温\r\n                  <div>\r\n                    <img src={palcement_ye} alt=\"\" />\r\n                  </div>\r\n                )\r\n                case 3: return (     //肛温\r\n                  <div>\r\n                    <img src={placement_gang} alt=\"\" />\r\n                  </div>\r\n                )\r\n                case 2: return (     //肛温\r\n                  <div>\r\n                    <img src={placement_gang} alt=\"\" />\r\n                  </div>\r\n                )\r\n                case 4: return (    //耳温\r\n                  <div>\r\n                    <img src={placement_er} alt=\"\" />\r\n                  </div>\r\n                )\r\n                default: break;\r\n              }\r\n              return (\r\n                <p style={{ textAlign: 'center' }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n          {\r\n            title: 'Note',\r\n            dataIndex: 'note',\r\n            key: 'note',\r\n            width: '16%',\r\n            render: (text, record, index) => {\r\n\r\n              return (\r\n                <p style={{ width: '100%', textAlign: 'left', }}>{text}</p>\r\n              )\r\n\r\n            }\r\n          },\r\n        ];\r\n\r\n\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    const pas = window.screen.height < 1000 ? 2 : 3\r\n\r\n    let hisHe = mTop(200)\r\n    try {\r\n      let historyElement = document.querySelectorAll('#clinicalMeasure .historyTable')\r\n      hisHe = historyElement[0].clientHeight - mTop(100)\r\n    } catch (error) {\r\n\r\n    }\r\n\r\n\r\n    return (\r\n      <div className='historyTable' style={{ height: '85%' }}>\r\n        <Table\r\n          loading={this.state.loading}\r\n          columns={columns}\r\n          dataSource={listData}\r\n          rowKey={columns => columns.historyId}\r\n          pagination={false}\r\n          scroll={{\r\n            y: hisHe\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  _ciral = () => {\r\n\r\n    let num = px(280)\r\n    let windowWidth = document.documentElement.clientHeight\r\n    if (windowWidth) {\r\n      num = windowWidth * 0.30\r\n    }\r\n    return (\r\n      <div className=\"crial\" style={{ marginTop: mTop(50), }}>\r\n        {!this.state.isconnected && <div className=\"bb1\"\r\n          style={{ top: mTop(-40) }}\r\n        >\r\n          <div className=\"btn5\"\r\n            style={{ width: px(230), height: mTop(30), fontSize: px(16), }}\r\n            onClick={() => {\r\n              console.log('点击了切换按钮');\r\n\r\n              if (isClick === true) {\r\n                isClick = false\r\n                console.log('发送给主进程切换按钮');\r\n                ipcRenderer.send('qiehuan')\r\n                // ipcRenderer.send('getSerialPort')\r\n                const time = setTimeout(() => {\r\n                  isClick = true\r\n                  clearTimeout(time)\r\n                }, 2500)\r\n              }\r\n            }}\r\n          >Re-sync Base</div>\r\n        </div>}\r\n        <div className='flex' >\r\n          <Progress\r\n\r\n            type=\"dashboard\"\r\n\r\n            strokeColor={{\r\n              \"100%\": \"#108ee9\",\r\n              \"30%\": \"#87d068\"\r\n            }}\r\n            format={() => ``}\r\n            percent={this.state.progress}\r\n            gapDegree={30}\r\n            width={num}\r\n            strokeWidth={10}\r\n            success={{ strokeColor: 'red' }}\r\n\r\n          />\r\n          <div className=\"crialtext\"\r\n          // style={{ height: mTop(50), top: mTop(135) }}\r\n          >\r\n            {this._crialText()}\r\n          </div>\r\n        </div>\r\n\r\n\r\n        {this._btnEndTime()}\r\n      </div>\r\n    )\r\n  }\r\n  _save = () => {\r\n    if (this.state.isWalkIn) {\r\n      let { Temp, addpatient_description, addpatient_petName, addpatient_species } = this.state\r\n      let petVitalId = null\r\n      switch (this.state.petVitalTypeId) {\r\n        case '01': petVitalId = 1; break;\r\n        case '02': petVitalId = 3; break;\r\n        case '03': petVitalId = 4; break;\r\n        default: petVitalId = 1; break;\r\n      }\r\n      let datas = {\r\n\r\n        temperature: parseFloat(Temp),  //测量温度\r\n        doctorId: storage.userId,\r\n        memo: this.state.notes,\r\n        clinicalDataEntityList: [{\r\n          data0: parseFloat(Temp),\r\n          data1: parseFloat(Temp),\r\n          data2: parseFloat(Temp),\r\n        }],\r\n        petVitalTypeId: petVitalId,\r\n        petName: addpatient_petName,\r\n        description: addpatient_description,\r\n        speciesId: addpatient_species,\r\n\r\n      }\r\n      this.setState({\r\n        isWeightSave: true\r\n      })\r\n      console.log('入参', datas);\r\n\r\n      fetchRequest(`/clinical/addAllClinical`, 'POST', datas)\r\n        .then(res => {\r\n          if (res.flag === true) {\r\n\r\n            let hardSet = electronStore.get('hardwareConfiguration')\r\n            let countdown = hardSet.is15 ? 15 : 30\r\n\r\n            this.setState({\r\n              initFlog: false,\r\n              endMeasure: false,\r\n              Temp: 0,\r\n              progress: 0,\r\n              countdown,\r\n              isWeightSave: false\r\n            })\r\n            temp15 = 0\r\n            message.success('Data successfully saved in Mella')\r\n\r\n          } else {\r\n            message.error('Save failed')\r\n            this.setState({\r\n              isWeightSave: false\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          message.error('Save failed')\r\n          this.setState({\r\n            isWeightSave: false\r\n          })\r\n        })\r\n\r\n\r\n      return\r\n    }\r\n    console.log(storage.vetspireOrEzyvet);\r\n    if (storage.identity === '2') {\r\n      let parames = {\r\n        consult_id: this.state.consult_id,\r\n        temperature: this.state.Temp\r\n      }\r\n      if (this.state.macAddr) {\r\n        parames.macAddr = this.state.macAddr\r\n      }\r\n      console.log(parames, storage.ezyVetToken);\r\n      //petVitalId是宠物测量部位\r\n      let petVitalId = null\r\n      switch (this.state.petVitalTypeId) {\r\n        case '01': petVitalId = 1; break;\r\n        case '02': petVitalId = 3; break;\r\n        case '03': petVitalId = 4; break;\r\n        default: petVitalId = 1; break;\r\n      }\r\n      console.log('ezy请求地址：', `/EzyVet/healthstatus/${this.state.healthStatus}/${this.state.probeID}/${this.state.petVitalTypeId}/${petVitalId}`);\r\n      fetchToken(`/EzyVet/healthstatus/${this.state.healthStatus}/${petVitalId}`, 'PATCH', parames, `Bearer ${storage.ezyVetToken}`)\r\n        .then(res => {\r\n          console.log(res);\r\n          if (res.msg === 'success') {\r\n            console.log('成功');\r\n            message.success('Saved successfully')\r\n            let hardSet = electronStore.get('hardwareConfiguration')\r\n            let countdown = hardSet.is15 ? 15 : 30\r\n            this.setState({\r\n              initFlog: false,\r\n              endMeasure: false,\r\n              Temp: 0,\r\n              progress: 0,\r\n              countdown,\r\n            })\r\n            temp15 = 0\r\n            this._getHistory()\r\n\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n      return\r\n    } else if (storage.identity === '1') {\r\n      //这是vetspire的保存测量记录\r\n      let parames = {\r\n        APIkey: storage.API,\r\n        vitalId: storage.selectExamId,\r\n        temp: parseInt((this.state.Temp * 1.8 + 32) * 10) / 10\r\n\r\n\r\n      }\r\n\r\n      console.log('------------------', parames);\r\n\r\n      fetchRequest1('/VetSpire/updateVitalsTemperatureByVitalId', 'POST', parames)\r\n        .then(res => {\r\n          console.log(res);\r\n          if (res.flag === true) {\r\n            if (res.data.updateVitals !== null) {\r\n              message.success('Saved successfully')\r\n            } else {\r\n              message.error('Save failed')\r\n            }\r\n            let sendData = {\r\n              petId: this.state.petId,\r\n              temperature: this.state.Temp,\r\n              memo: this.state.notes,\r\n              petVitalTypeId: this.state.petVitalTypeId\r\n            }\r\n            console.log('send', sendData);\r\n            fetchRequest('/pet/savePetExam', 'POST', sendData)\r\n              .then(res => {\r\n                console.log(res);\r\n                if (res.flag === true) {\r\n                  let hardSet = electronStore.get('hardwareConfiguration')\r\n                  let countdown = hardSet.is15 ? 15 : 30\r\n                  this.setState({\r\n                    initFlog: false,\r\n                    endMeasure: false,\r\n                    Temp: 0,\r\n                    progress: 0,\r\n                    countdown,\r\n                  })\r\n                  temp15 = 0\r\n                  this._getHistory()\r\n                }\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n              })\r\n          } else {\r\n            message.error('Save failed')\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n    } else {\r\n\r\n      //现在Rhapsody组织数据还没有集成到后台，因此这里就先做临时处理\r\n      if (storage.lastOrganization === '34') {\r\n        console.log(this.state.patientId, this.state.petId);\r\n        let params = { query: `query { patient (id:\"${this.state.patientId}\") {  vitals { data{ id, weight{value}, temperature{value}, createdAt, updatedAt}}}}` }\r\n\r\n        this.setState({\r\n          isWeightSave: true\r\n        })\r\n        fetchRhapsody('', 'POST', params, storage.connectionKey)\r\n          .then(res => {\r\n            console.log('---', res);\r\n\r\n\r\n            if (res.errors) {\r\n              message.error('Failed to obtain case list')\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n            } else {\r\n              let { vitals } = res.data.patient\r\n              let vitalArr = vitals.data\r\n              if (vitalArr.length > 0) {\r\n                vitalArr.sort((a, b) => {\r\n                  return moment(parseInt(a.createdAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.createdAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\r\n                })\r\n                let temperature = parseInt((this.state.Temp * 1.8 + 32) * 10) / 10\r\n\r\n                let params = {}\r\n                if (vitalArr[0].weight && vitalArr[0].weight.value) {\r\n                  params = {\r\n                    query: `mutation {\r\n                      updateVital(\r\n                          id:\"${vitalArr[0].id}\"\r\n                          input:{\r\n                            weight:{value:${vitalArr[0].weight.value}}\r\n                              temperature:{value:${temperature}}\r\n                              patientId:\"${this.state.patientId}\"\r\n                          }\r\n                      )\r\n                      {\r\n                          id,\r\n                          weight{value},\r\n                          temperature{value}\r\n                      }\r\n                  }`}\r\n                } else {\r\n                  params = {\r\n                    query: `mutation {\r\n                      updateVital(\r\n                          id:\"${vitalArr[0].id}\"\r\n                          input:{\r\n                              temperature:{value:${temperature}}\r\n                              patientId:\"${this.state.patientId}\"\r\n                          }\r\n                      )\r\n                      {\r\n                          id,\r\n                          weight{value},\r\n                          temperature{value}\r\n                      }\r\n                  }`}\r\n\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n\r\n                console.log('---入参---', { patientID: this.state.patientId, vitalId: vitalArr[0].id, temperature });\r\n\r\n                fetchRhapsody('', 'POST', params, storage.connectionKey)\r\n                  .then(res => {\r\n                    console.log(res);\r\n                    if (res.errors) {\r\n                      message.error('Data saving failed')\r\n                      this.setState({\r\n                        isWeightSave: false\r\n                      })\r\n                    } else {\r\n                      let hardSet = electronStore.get('hardwareConfiguration')\r\n                      let countdown = hardSet.is15 ? 15 : 30\r\n                      this.setState({\r\n                        initFlog: false,\r\n                        endMeasure: false,\r\n                        Temp: 0,\r\n                        progress: 0,\r\n                        countdown,\r\n                        isWeightSave: false\r\n                      })\r\n                      message.success('Data saved successfully')\r\n                    }\r\n\r\n\r\n                  })\r\n                  .catch(err => {\r\n                    message.error('Data saving failed')\r\n                    this.setState({\r\n                      isWeightSave: false\r\n                    })\r\n                    console.log(err);\r\n                  })\r\n\r\n              } else {\r\n                this.setState({\r\n                  isWeightSave: false\r\n                })\r\n                message.error('There is no case sheet for this pet')\r\n              }\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.setState({\r\n              isWeightSave: false\r\n            })\r\n            message.error('Failed to obtain case list')\r\n            console.log(err);\r\n          })\r\n        return\r\n      }\r\n\r\n\r\n\r\n\r\n      console.log('我是普通医生，不带集成的');\r\n      let petVitalId = null\r\n      switch (this.state.petVitalTypeId) {\r\n        case '01': petVitalId = 1; break;\r\n        case '02': petVitalId = 3; break;\r\n        case '03': petVitalId = 4; break;\r\n        default: petVitalId = 1; break;\r\n      }\r\n      let params = {\r\n        petId: this.state.petId,\r\n        doctorId: storage.userId,\r\n        temperature: this.state.Temp,\r\n        petVitalTypeId: petVitalId,\r\n        memo: this.state.notes\r\n      }\r\n      this.setState({\r\n        isWeightSave: true\r\n      })\r\n\r\n\r\n\r\n\r\n\r\n\r\n      fetchRequest('/exam/addClamantPetExam', 'POST', params)\r\n        .then(res => {\r\n          console.log('res', res);\r\n          if (res.flag === true) {\r\n\r\n            let hardSet = electronStore.get('hardwareConfiguration')\r\n            let countdown = hardSet.is15 ? 15 : 30\r\n\r\n            let copyTemp = this.state.Temp\r\n            this.setState({\r\n              initFlog: false,\r\n              endMeasure: false,\r\n              Temp: 0,\r\n              progress: 0,\r\n              countdown,\r\n            })\r\n            temp15 = 0\r\n            switch (storage.lastOrganization) {\r\n              case '3'://vetspire\r\n                this.updataVetspire(copyTemp)\r\n\r\n                break;\r\n\r\n              case '4'://ezyVet\r\n                this.updataEzyvet(copyTemp)\r\n                break;\r\n\r\n              default: message.success('Data successfully saved in Mella')\r\n                this.setState({\r\n                  isWeightSave: false\r\n                })\r\n                break;\r\n            }\r\n            this._getHistory()\r\n          } else {\r\n            message.error('Save failed')\r\n            this.setState({\r\n              isWeightSave: false\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          message.error('Save failed')\r\n          this.setState({\r\n            isWeightSave: false\r\n          })\r\n        })\r\n    }\r\n  }\r\n\r\n  updataEzyvet = (Temp) => {\r\n    let { patientId } = this.state\r\n\r\n    let params = {\r\n      id: patientId\r\n    }\r\n    // this.setState({\r\n    //   isWeightSave: false\r\n    // })\r\n    console.log('入参:', params, storage.connectionKey);\r\n\r\n    fetchRequest4('/EzyVet/ezyvetGetPetLatestExam', \"GET\", params, `Bearer ${storage.connectionKey}`)\r\n      .then(res => {\r\n        console.log('宠物最新病历单获取:', res);\r\n        if (res.flag && res.data && res.data.items.length > 0) {\r\n          let data = res.data.items[0]\r\n          let { consult_id } = data\r\n          if (!consult_id) {\r\n            console.log('最新病历单获取失败');\r\n            this.setState({\r\n              isWeightSave: false\r\n            })\r\n            message.error('Failed to obtain the latest medical record, the data is saved in Mella')\r\n            return\r\n          }\r\n          let paramId = data.id\r\n          let temperature = Temp\r\n          // if (this.state.units === '℉') {\r\n          //   temperature = ((Temp - 32) / 1.8).toFixed(1)\r\n          // } else {\r\n          //   temperature = Temp\r\n          // }\r\n          let parames1 = {\r\n            consult_id,\r\n            temperature\r\n          }\r\n          let petVitalId = null\r\n          switch (this.state.petVitalTypeId) {\r\n            case '01': petVitalId = 1; break;\r\n            case '02': petVitalId = 3; break;\r\n            case '03': petVitalId = 4; break;\r\n            default: petVitalId = 1; break;\r\n          }\r\n          console.log('入参', parames1, storage.connectionKey);\r\n          fetchRequest2(`/EzyVet/healthstatus/${paramId}/${petVitalId}`, \"PATCH\", parames1, `Bearer ${storage.connectionKey}`)\r\n            .then(res => {\r\n              console.log('更新ezyvet的体重', res);\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n              if (res.flag) {\r\n                console.log('更新ezyvet的体重成功');\r\n                message.success('Data successfully saved in EzyVet')\r\n\r\n                //Toast.success('Temperature update successful')\r\n              } else {\r\n                //Toast.fail('Temperature update failed')\r\n                console.log('更新ezyvet的体重失败');\r\n                message.error('Data failed saved in EzyVet')\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n              //Toast.fail('Temperature update failed')\r\n              console.log('更新ezyvet的体重', err);\r\n              message.error('Data failed saved in EzyVet')\r\n            })\r\n        } else {\r\n          this.setState({\r\n            isWeightSave: false\r\n          })\r\n          //Toast.fail('Temperature update failed')\r\n          message.error('Failed to obtain the latest medical record, the data is saved in Mella')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          isWeightSave: false\r\n        })\r\n        console.log('宠物最新病历单获取', err);\r\n        message.error('Failed to obtain the latest medical record, the data is saved in Mella')\r\n\r\n        //Toast.fail('Temperature update failed')\r\n      })\r\n\r\n\r\n  }\r\n  updataVetspire = (Temp) => {\r\n    let datas = {\r\n      APIkey: storage.connectionKey,\r\n      patientId: this.state.patientId\r\n    }\r\n    console.log('更新vetspire的数值', datas);\r\n    fetchRequest4('/VetSpire/vetspireGetPetLatestExam', \"POST\", datas)\r\n      .then(res => {\r\n        console.log(res);\r\n        if (res.flag) {\r\n          let data = res.data.encounters[0].vitals\r\n          let encountersId = data.id\r\n\r\n          let temperature = parseInt((Temp * 1.8 + 32) * 10) / 10\r\n          // if (this.state.units === '℉') {\r\n          //   temperature = Temp\r\n          // } else {\r\n          //   temperature = (Temp * 1.8 + 32).toFixed(1)\r\n          // }\r\n          let params = {\r\n            vitalId: encountersId,\r\n            APIkey: storage.connectionKey,\r\n            temp: temperature\r\n          }\r\n          console.log('写数据到vetspire', params);\r\n          fetchRequest2(`/VetSpire/updateVitalsTemperatureByVitalId`, \"POST\", params)\r\n            .then(res => {\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n\r\n              console.log('写数据到vetspire', res);\r\n              if (res.flag) {\r\n                console.log('vetspire写成功');\r\n                message.success('Data successfully saved in Vetspire')\r\n              } else {\r\n                message.error('Data failed saved in Vetspire')\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n\r\n              console.log('vetspire写失败', err);\r\n              message.error('Data failed saved in Vetspire')\r\n              //Toast.fail('Temperature update failed')\r\n            })\r\n        } else {\r\n          console.log('最新病历单获取失败');\r\n          this.setState({\r\n            isWeightSave: false\r\n          })\r\n          message.error('Failed to obtain the latest medical record, the data is saved in Mella')\r\n\r\n          //Toast.fail('Temperature update failed')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          isWeightSave: false\r\n        })\r\n\r\n\r\n        console.log('最新病历单获取失败', err);\r\n        message.error('Failed to obtain the latest medical record, the data is saved in Mella')\r\n      })\r\n\r\n  }\r\n\r\n\r\n  _btnEndTime = () => {\r\n    let { endMeasure, isconnected, initFlog } = this.state\r\n    if (initFlog === false) {\r\n      return\r\n    }\r\n\r\n    if (endMeasure === true) {\r\n      // if (isconnected === true) {\r\n      return (\r\n        <>\r\n          <div className=\"btn\"\r\n            style={{ marginTop: mTop(30) }}\r\n          >\r\n            <div className=\"btn1\"\r\n              style={{ width: px(120), height: mTop(35) }}\r\n              onClick={() => {\r\n                console.log('点击了Discard');\r\n                let hardSet = electronStore.get('hardwareConfiguration') || {}\r\n                let countdown = hardSet.is15 ? 15 : 30\r\n                this.setState({\r\n                  endMeasure: false,\r\n                  Temp: 0,\r\n                  progress: 0,\r\n                  countdown,\r\n                  initFlog: false\r\n                })\r\n                temp15 = 0\r\n              }}\r\n            >\r\n              Discard\r\n            </div>\r\n\r\n            <div className=\"btn1\"\r\n              style={{ width: px(120), height: mTop(35) }}\r\n              onClick={() => {\r\n                this.timer && clearTimeout(this.timer)\r\n                this.timer = setTimeout(() => {\r\n                  this._save()\r\n                  clearTimeout(this.timer)\r\n                }, 500);\r\n              }}>\r\n              Save\r\n            </div>\r\n          </div>\r\n          {isconnected === true ? null : <p style={{ fontSize: px(30), color: '#3B3A3A', marginTop: mTop(10) }}> disconnected</p>}\r\n        </>\r\n      )\r\n    } else {\r\n      if (isconnected === true) {\r\n        if (this.state.isEarMeasure) {\r\n          return\r\n        }\r\n        return (\r\n          <div className=\"time\"\r\n            style={{ fontSize: px(32), marginTop: mTop(35) }}\r\n          >\r\n            <p>{`Measuring time  ${this.state.countdown}  s`}</p>\r\n          </div>\r\n        )\r\n      } else {\r\n        return (\r\n          null\r\n        )\r\n      }\r\n    }\r\n  }\r\n  _crialText = () => {\r\n    let { endMeasure, isMeasure, isconnected, Temp } = this.state\r\n    Temp = parseFloat(Temp)\r\n\r\n    let temp = this.state.units === '℉' ? parseInt((Temp * 1.8 + 32) * 10) / 10 : Temp.toFixed(1)\r\n    let text = '', temColor = ''\r\n    if (Temp > 15) {\r\n      if (Temp > 39) {\r\n        text = 'High'\r\n        temColor = '#E1206D'\r\n      } else if (Temp < 31) {\r\n        text = 'Low'\r\n        temColor = '#47C2ED'\r\n\r\n      } else {\r\n        text = 'Normal'\r\n        temColor = '#78D35D'\r\n      }\r\n    }\r\n    if (endMeasure === true) {\r\n      if (`${Temp}` === 'NaN' || `${Temp}` === '0') {\r\n        if (isconnected === true) {\r\n\r\n          return (\r\n            <p style={{ fontSize: px(30), color: '#3B3A3A' }}>connected</p>\r\n          )\r\n        }\r\n        else {\r\n          return (\r\n            <p style={{ fontSize: px(30), color: '#3B3A3A' }}>disconnected</p>\r\n          )\r\n        }\r\n      } else {\r\n\r\n\r\n        return (\r\n          <div style={{ color: temColor }}>\r\n            <span >{temp} <sup style={{ fontSize: px(18) }}>{this.state.units}</sup></span>\r\n            <span style={{ fontSize: px(22) }}>{text}</span>\r\n          </div>\r\n        )\r\n      }\r\n    } else {\r\n      if (isMeasure === true) {\r\n        return (\r\n          <>\r\n            <span style={{ fontSize: px(36), color: temColor, display: 'flex', alignItems: 'center' }}>\r\n              {temp} <sup style={{ fontSize: px(18) }}>{this.state.units}</sup></span>\r\n          </>\r\n        )\r\n      } else {\r\n        if (this.state.isEarMeasure) {\r\n          return (\r\n            <p style={{ fontSize: px(30), color: '#3B3A3A' }}>measuring</p>\r\n          )\r\n        } else {\r\n          if (isconnected === true) {\r\n\r\n            return (\r\n              <p style={{ fontSize: px(30), color: '#3B3A3A' }}>connected</p>\r\n            )\r\n          }\r\n          else {\r\n            return (\r\n              <p style={{ fontSize: px(30), color: '#3B3A3A' }}>disconnected</p>\r\n            )\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  handleCancel = (e) => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n      emerPatientID: ''\r\n    });\r\n  };\r\n  _modal = () => {\r\n    let that = this\r\n\r\n    function save() {\r\n      let datas = {\r\n        memo: that.state.memo\r\n      }\r\n\r\n      console.log('入参：', datas, that.state.editId);\r\n      fetchRequest(`/pet/updatePetExam/${that.state.editId}`, 'POST', datas)\r\n        .then(res => {\r\n          console.log(res);\r\n          that.setState({\r\n            visible: false,\r\n          })\r\n          that._getHistory()\r\n\r\n        })\r\n        .catch(err => {\r\n          that.setState({\r\n            spin: false\r\n          })\r\n          console.log(err);\r\n        })\r\n\r\n    }\r\n\r\n\r\n    let { disabled, bounds, visible } = this.state\r\n    return (\r\n      <Modal\r\n        title={\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              cursor: 'move',\r\n              height: '20px',\r\n              textAlign: 'center'\r\n            }}\r\n            onMouseOver={() => {\r\n              if (disabled) {\r\n                this.setState({\r\n                  disabled: false,\r\n                });\r\n              }\r\n            }}\r\n            onMouseOut={() => {\r\n              this.setState({\r\n                disabled: true,\r\n              });\r\n            }}\r\n\r\n            onFocus={() => { }}\r\n            onBlur={() => { }}\r\n          // end\r\n          >\r\n            Edit Note\r\n          </div>\r\n        }\r\n        visible={visible}\r\n        // visible={true}\r\n        onCancel={this.handleCancel}\r\n        modalRender={(modal) => (\r\n          <Draggable\r\n            disabled={disabled}\r\n            bounds={bounds}\r\n            onStart={(event, uiData) => this.onStart(event, uiData)}\r\n          >\r\n            <div ref={this.draggleRef}>{modal}</div>\r\n          </Draggable>\r\n        )}\r\n        footer={\r\n          [] // 设置footer为空，去掉 取消 确定默认按钮\r\n        }\r\n        destroyOnClose={true}\r\n      >\r\n        <div id=\"selectEmergenciesModal\">\r\n          <div className=\"selectEmergenciesModal\">\r\n            <p style={{ width: '80px' }}>Notes</p>\r\n            {/* <Input\r\n              style={{ border: 'none', outline: 'medium' }}\r\n              bordered={false}\r\n              onChange={(item) => {\r\n              }}\r\n\r\n            /> */}\r\n            <textarea\r\n              rows=\"5\"\r\n              cols=\"40\"\r\n              style={{ textIndent: '10px' }}\r\n              value={that.state.memo}\r\n              onChange={(val) => {\r\n                that.setState({\r\n                  memo: val.target.value\r\n                })\r\n              }}\r\n\r\n            >\r\n            </textarea>\r\n          </div>\r\n          <div className=\"btn\" style={{ width: '60%' }} onClick={save}>Save Changes</div>\r\n        </div>\r\n\r\n      </Modal>\r\n\r\n    )\r\n\r\n  }\r\n\r\n  biggie = () => {\r\n    let { isHaveBigieDate, biggieDate, sendWeight, impedance, units } = this.state\r\n    if (isHaveBigieDate) {\r\n      let bodyFat = impedance ? 20 : null\r\n      let score = impedance ? 5 : null\r\n\r\n      let isIbs = units === '℃' ? false : true\r\n      let weight = units === '℃' ? sendWeight : biggieDate\r\n\r\n      let issave = storage.connectionKey ? false : true\r\n      return (\r\n        <Biggie\r\n          issave={issave}\r\n          weight={`${weight}`}\r\n          onPress={this._saveWeight}\r\n          bodyFat={bodyFat}\r\n          score={score}\r\n          impedance={impedance}\r\n          isIbs={isIbs}\r\n          discardOnPress={() => {\r\n            this.setState({\r\n              isHaveBigieDate: false\r\n            })\r\n            keyboardBiggieFlog = false\r\n            sameBiggieNum = 0\r\n          }}\r\n        />\r\n      )\r\n    } else {\r\n      return (\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', width: '100%', height: '100%' }}>\r\n          <h1 style={{ fontWeight: 'bold', width: '80%', textAlign: 'center', }}>Ready, place pet onto scale</h1>\r\n        </div>\r\n\r\n      )\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  _saveWeight = () => {\r\n    console.log('开始去保存了', storage.lastOrganization, storage.connectionKey);\r\n\r\n\r\n    //现在Rhapsody组织数据还没有集成到后台，因此这里就先做临时处理\r\n    if (storage.lastOrganization === '34') {\r\n      let params = { query: `query { patient (id:\"${this.state.patientId}\") {  vitals { data{ id, weight{value}, temperature{value}, createdAt, updatedAt}}}}` }\r\n\r\n      this.setState({\r\n        isWeightSave: true\r\n      })\r\n\r\n      fetchRhapsody('', 'POST', params, storage.connectionKey)\r\n        .then(res => {\r\n          console.log('---', res);\r\n          if (res.errors) {\r\n            message.error('Failed to obtain case list')\r\n            this.setState({\r\n              isWeightSave: false\r\n            })\r\n          } else {\r\n            let { vitals } = res.data.patient\r\n            let vitalArr = vitals.data\r\n            if (vitalArr.length > 0) {\r\n              vitalArr.sort((a, b) => {\r\n                return moment(parseInt(a.createdAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.createdAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\r\n              })\r\n\r\n              console.log('-----', vitalArr);\r\n\r\n\r\n              let params = {}\r\n              if (vitalArr[0].temperature && vitalArr[0].temperature.value) {\r\n                params = {\r\n                  query: `mutation {\r\n                      updateVital(\r\n                          id:\"${vitalArr[0].id}\"\r\n                          input:{\r\n                            weight:{value:${this.state.biggieDate}}\r\n                            temperature:{value:${vitalArr[0].temperature.value}}\r\n                              patientId:\"${this.state.patientId}\"\r\n                          }\r\n                      )\r\n                      {\r\n                          id,\r\n                          weight{value},\r\n                          temperature{value}\r\n                      }\r\n                  }`}\r\n              } else {\r\n                params = {\r\n                  query: `mutation {\r\n                      updateVital(\r\n                          id:\"${vitalArr[0].id}\"\r\n                          input:{\r\n                            weight:{value:${this.state.biggieDate}}\r\n\r\n                              patientId:\"${this.state.patientId}\"\r\n                          }\r\n                      )\r\n                      {\r\n                          id,\r\n                          weight{value},\r\n                          temperature{value}\r\n                      }\r\n                  }`}\r\n              }\r\n\r\n              console.log('---入参---', params);\r\n\r\n\r\n\r\n              fetchRhapsody('', 'POST', params, storage.connectionKey)\r\n                .then(res => {\r\n                  console.log(res);\r\n                  if (res.errors) {\r\n                    this.setState({\r\n                      isWeightSave: false\r\n                    })\r\n                    message.error('Data saving failed')\r\n                  } else {\r\n                    this.setState({\r\n                      isHaveBigieDate: false,\r\n                      isWeightSave: false\r\n                    })\r\n                    keyboardBiggieFlog = false\r\n                    sameBiggieNum = 0\r\n                    message.success('Data saved successfully')\r\n                  }\r\n\r\n\r\n                })\r\n                .catch(err => {\r\n                  this.setState({\r\n                    isWeightSave: false\r\n                  })\r\n                  message.error('Data saving failed')\r\n                  console.log(err);\r\n                })\r\n\r\n\r\n            } else {\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n              message.error('There is no case sheet for this pet')\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          }\r\n        })\r\n        .catch(err => {\r\n          message.error('Failed to obtain case list')\r\n          this.setState({\r\n            isWeightSave: false\r\n          })\r\n          console.log(err);\r\n        })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      return\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    this.setState({\r\n      isWeightSave: true\r\n    })\r\n    let fat = this.state.impedance ? 20 : null\r\n    let bodyConditionScore = this.state.impedance ? 5 : null\r\n\r\n    let params = {\r\n      petId: this.state.petId,\r\n      doctorId: storage.userId,\r\n      weight: this.state.sendWeight,\r\n      memo: this.state.notes,\r\n      fat,\r\n      bodyConditionScore\r\n    }\r\n    console.log('---体重保存入参--：', params);\r\n    fetchRequest('/exam/addClamantPetExam', 'POST', params)\r\n      .then(res => {\r\n        console.log('res', res);\r\n        if (res.flag === true) {\r\n          switch (storage.lastOrganization) {\r\n            case '3'://vetspire\r\n              this.updataWeightVetspire()\r\n\r\n              break;\r\n\r\n            case '4'://ezyVet\r\n              this.updataWeightEzyvet()\r\n              break;\r\n\r\n            default:\r\n              this.setState({\r\n                isHaveBigieDate: false,\r\n                isWeightSave: false\r\n              })\r\n              keyboardBiggieFlog = false\r\n              sameBiggieNum = 0\r\n              message.success('Data successfully saved in Mella')\r\n              break;\r\n          }\r\n\r\n          this._getHistory()\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  updataWeightVetspire = () => {\r\n    console.log('保存到vetspire');\r\n    this.setState({\r\n      isWeightSave: true\r\n    })\r\n\r\n    let datas = {\r\n      APIkey: storage.connectionKey,\r\n      patientId: this.state.patientId\r\n    }\r\n    console.log('更新vetspire的数值', datas);\r\n    fetchRequest4('/VetSpire/vetspireGetPetLatestExam', \"POST\", datas)\r\n      .then(res => {\r\n        console.log(res);\r\n        if (res.flag) {\r\n\r\n          let data = res.data.encounters[0].vitals\r\n          let encountersId = data.id\r\n\r\n          let params = {\r\n            vitalId: encountersId,\r\n            APIkey: storage.connectionKey,\r\n            weight: this.state.biggieDate\r\n          }\r\n          console.log('写数据到vetspire', params);\r\n          fetchRequest4(`/VetSpire/vetspireUpdateWeight`, \"POST\", params)\r\n            .then(res => {\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n\r\n\r\n              console.log('写数据到vetspire', res);\r\n              if (res.flag) {\r\n                console.log('vetspire写成功');\r\n                this.setState({\r\n                  isHaveBigieDate: false\r\n                })\r\n                keyboardBiggieFlog = false\r\n                sameBiggieNum = 0\r\n                message.success('Data successfully saved in Vetspire')\r\n              } else {\r\n                message.error('Data failed saved in Vetspire')\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n\r\n              console.log('vetspire写失败', err);\r\n              message.error('Data failed saved in Vetspire')\r\n              //Toast.fail('Temperature update failed')\r\n            })\r\n        } else {\r\n          console.log('最新病历单获取失败');\r\n          message.error('Failed to obtain the latest medical record')\r\n\r\n          // Toast.fail('Update failed')\r\n          this.setState({\r\n            isWeightSave: false\r\n          })\r\n\r\n        }\r\n      })\r\n      .catch(err => {\r\n\r\n        console.log('最新病历单获取失败', err);\r\n        message.error('Failed to obtain the latest medical record')\r\n        this.setState({\r\n          isWeightSave: false\r\n        })\r\n      })\r\n\r\n  }\r\n  updataWeightEzyvet = () => {\r\n    console.log('保存到ezyVet');\r\n    this.setState({\r\n      isWeightSave: true\r\n    })\r\n\r\n    let { patientId } = this.state\r\n\r\n    let params = {\r\n      id: patientId\r\n    }\r\n    console.log('入参:', params, storage.connectionKey);\r\n\r\n    fetchRequest4('/EzyVet/ezyvetGetPetLatestExam', \"GET\", params, `Bearer ${storage.connectionKey}`)\r\n      .then(res => {\r\n        console.log('宠物最新病历单获取:', res);\r\n        if (res.flag && res.data && res.data.items.length > 0) {\r\n          let data = res.data.items[0]\r\n          let { consult_id } = data\r\n          if (!consult_id) {\r\n            console.log('最新病历单获取失败');\r\n            message.error('Failed to obtain the latest medical record, the data is saved in Mella')\r\n            return\r\n          }\r\n          let paramId = data.id\r\n          let parames1 = {\r\n            consult_id,\r\n            weight: this.state.sendWeight\r\n          }\r\n\r\n          console.log('入参', parames1, storage.connectionKey);\r\n          fetchRequest4(`/EzyVet/ezyvetUpdateWeight/${paramId}`, \"PATCH\", parames1, `Bearer ${storage.connectionKey}`)\r\n            .then(res => {\r\n              console.log('更新ezyvet的体重', res);\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n\r\n              if (res.flag) {\r\n                console.log('更新ezyvet的体重成功');\r\n                message.success('Data successfully saved in EzyVet')\r\n                this.setState({\r\n                  isHaveBigieDate: false\r\n                })\r\n                keyboardBiggieFlog = false\r\n                sameBiggieNum = 0\r\n                //Toast.success('Temperature update successful')\r\n              } else {\r\n                //Toast.fail('Temperature update failed')\r\n                console.log('更新ezyvet的体重失败');\r\n                message.error('Data failed saved in EzyVet')\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.setState({\r\n                isWeightSave: false\r\n              })\r\n\r\n              //Toast.fail('Temperature update failed')\r\n              console.log('更新ezyvet的体重', err);\r\n              message.error('Data failed saved in EzyVet')\r\n            })\r\n        } else {\r\n          this.setState({\r\n            isWeightSave: false\r\n          })\r\n\r\n          //Toast.fail('Temperature update failed')\r\n          message.error('Failed to obtain the latest medical record')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log('宠物最新病历单获取', err);\r\n        message.error('Failed to obtain the latest medical record')\r\n        this.setState({\r\n          isWeightSave: false\r\n        })\r\n        //Toast.fail('Temperature update failed')\r\n      })\r\n\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    const { closeColor, closebgc, minbgc, isWeightSave } = this.state\r\n    // console.dir(this.input1)\r\n    // try {\r\n    //   console.log(this.input1.checked)\r\n    // } catch (error) {\r\n\r\n    // }\r\n\r\n    return (\r\n      <div id=\"clinicalMeasure\">\r\n\r\n        <div style={{ height: '60%', }}>\r\n          <div className=\"heard\">\r\n            <Heard\r\n              onSearch={(data) => {\r\n                console.log('搜索到的宠物', data);\r\n                let { l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n                  h2tLength, torsoLength } = data\r\n\r\n                l2rarmDistance = l2rarmDistance ? `${l2rarmDistance}` : ''\r\n                neckCircumference = neckCircumference ? `${neckCircumference}` : ''\r\n                upperTorsoCircumference = upperTorsoCircumference ? `${upperTorsoCircumference}` : ''\r\n                lowerTorsoCircumference = lowerTorsoCircumference ? `${lowerTorsoCircumference}` : ''\r\n                h2tLength = h2tLength ? `${h2tLength}` : ''\r\n                torsoLength = torsoLength ? `${torsoLength}` : ''\r\n                let weight = data.weight\r\n                if (weight && weight !== 'unknown') {\r\n                  weight = parseFloat(weight).toFixed(1)\r\n                }\r\n                let breedName = data.breed\r\n                if (!breedName) {\r\n                  breedName = 'unknown'\r\n                }\r\n                switch (breedName) {\r\n                  case 'defaultdog':\r\n                    breedName = 'Dog'\r\n\r\n                    break;\r\n                  case 'defaultother':\r\n                    breedName = 'Other'\r\n\r\n                    break;\r\n                  case 'defaultcat':\r\n                    breedName = 'Cat'\r\n                    break;\r\n\r\n                }\r\n                console.log('-----------', weight);\r\n                this.setState({\r\n                  petName: data.petName,\r\n                  owner: data.owner,\r\n                  breedName,\r\n                  weight,\r\n                  age: data.age,\r\n                  patientId: data.patientId,\r\n                  petId: data.petId,\r\n                  itemIndex: 1,\r\n                  l2rarmDistance,\r\n                  neckCircumference,\r\n                  upperTorsoCircumference,\r\n                  lowerTorsoCircumference,\r\n                  h2tLength,\r\n                  torsoLength,\r\n                  isWalkIn: false\r\n                }, () => {\r\n                  this._getHistory()\r\n                })\r\n\r\n              }}\r\n              menu8Click={() => {\r\n                switch (storage.identity) {\r\n                  case '2': this.props.history.push({ pathname: '/EzyVetSelectExam', listDate: storage.ezyVetList, defaultCurrent: storage.defaultCurrent })\r\n\r\n                    break;\r\n                  case '1': this.props.history.push('/VetSpireSelectExam')\r\n\r\n                    break;\r\n                  case '3': this.props.history.push({ pathname: '/uesr/selectExam', listDate: storage.doctorList, defaultCurrent: storage.defaultCurrent })\r\n\r\n                    break;\r\n\r\n                  default:\r\n                    break;\r\n                }\r\n              }}\r\n              onReturn={() => {\r\n                this.props.history.goBack()\r\n              }}\r\n\r\n            />\r\n          </div>\r\n\r\n\r\n\r\n          {/* 宠物信息与圆环部分部分 */}\r\n          <div className='clinical_top'\r\n          // style={{ height: mTop(480) }}\r\n          >\r\n            {this._topLeft()}\r\n            <div className=\"r\"\r\n\r\n            >\r\n              {\r\n                this.state.devicesType === 'mella' ?\r\n                  this._ciral() :\r\n                  this.biggie()\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n        {/* 底部宠物信息 */}\r\n        {this._foot()}\r\n        {this._modal()}\r\n        {/* {this._table()} */}\r\n\r\n        <Modal\r\n\r\n          visible={this.state.err07Visible}\r\n          // visible={true}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          width={330}\r\n          closable={false}\r\n          footer={[\r\n\r\n          ]}\r\n          destroyOnClose={true}\r\n          wrapClassName=\"vetPrifileModal\"\r\n        >\r\n          <div id='vetPrifileModal'>\r\n            <div className=\"title\">prompt\r\n            </div>\r\n\r\n            <div className='text'>Please re-plug the base device</div>\r\n\r\n\r\n            <div className=\"btn\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '5px' }}>\r\n\r\n              <button\r\n                onClick={() => {\r\n                  this.setState({\r\n                    err07Visible: false,\r\n\r\n                  })\r\n                  num07 = 0\r\n                }}\r\n              >OK</button>\r\n\r\n\r\n            </div>\r\n          </div>\r\n\r\n        </Modal>\r\n\r\n        <Modal\r\n\r\n          visible={this.state.err07Visible}\r\n          // visible={true}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          width={330}\r\n          closable={false}\r\n          footer={[\r\n\r\n          ]}\r\n          destroyOnClose={true}\r\n          wrapClassName=\"vetPrifileModal\"\r\n        >\r\n          <div id='vetPrifileModal'>\r\n            <div className=\"title\">prompt\r\n            </div>\r\n\r\n            <div className='text'>Please re-plug the base device</div>\r\n\r\n\r\n            <div className=\"btn\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '5px' }}>\r\n\r\n              <button\r\n                onClick={() => {\r\n                  this.setState({\r\n                    err07Visible: false,\r\n\r\n                  })\r\n                  num07 = 0\r\n                }}\r\n              >OK</button>\r\n\r\n\r\n            </div>\r\n          </div>\r\n\r\n        </Modal>\r\n\r\n\r\n        <MyModal\r\n          visible={isWeightSave}\r\n          element={\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', flexDirection: 'column' }}>\r\n              <div className=\"loadIcon\" style={{ marginBottom: px(5) }}>\r\n                <LoadingOutlined style={{ fontSize: 30, color: '#fff', marginTop: mTop(-30), }} />\r\n              </div>\r\n              <p>\r\n                Data is being saved\r\n              </p>\r\n            </div>\r\n          }\r\n        />\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n",["451","452"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\settings\\Settings.jsx",["453","454","455","456","457","458","459","460","461","462"],"\nimport React, { Component } from 'react'\nimport {\n  Switch,\n  Select,\n  message\n} from 'antd'\n\n\n\n\nimport Heart from '../../../utils/heard/Heard'\nimport Slider from '../../../utils/slider/Slider'\nimport Button from './../../../utils/button/Button'\nimport electronStore from './../../../utils/electronStore'\nimport temporaryStorage from './../../../utils/temporaryStorage'\nimport { mTop, px, win } from '../../../utils/px';\nimport MyModal from './../../../utils/myModal/MyModal'\nimport redJinggao from './../../../assets/img/redjinggao.png'\nimport './settings.less'\n\nimport SelectionBox from './../../../utils/selectionBox/SelectionBox'\nconst { Option } = Select;\nlet storage = window.localStorage\n\nexport default class Settings extends Component {\n\n  state = {\n    self_tarting: false,      //自启动，\n    isHua: true,              //为true代表为华氏度，为false代表℃\n    is15: true,               //腋温测量时长，为true则是15秒，为false则是35秒\n    isClicleStudy: false,     //是否处于临床测试，为true则在处于，false则不处于\n    isBacklight: true,        //是否开启背光，为true则是开启背光，为false则是关闭背光\n    isBeep: true,             //是否开启蜂鸣器，为true则是开启蜂鸣器，反之则是关闭蜂鸣器\n    backlightTimer: { length: 140, number: '45' },//背光时长，长度指的是在滑轨上面的距离，number指的是显示的秒数\n    autoOff: { length: 0, number: '30' },  //无操作自动关机，长度指的是在滑轨上面的距离，number指的是关闭的秒数\n\n\n    oldIsHua: true,\n    oldIs15: true,\n    oldIsBacklight: true,\n    oldIsBeep: true,\n    oldBacklightTimer: { length: 140, number: '45' },\n    oldAutoOff: { length: 0, number: '30' },\n    oldIsClicleStudy: false,\n\n    isSave: false,\n\n    num0: '',\n    num1: '',\n    num2: '',\n    num3: '',\n    num4: '',\n    num5: '',\n    verifyNum: '',\n\n    maxLength: 1, //验证码长度\n    valueA: \"\", //验证码第一位\n    valueB: \"\", //二\n    valueC: \"\", //三\n    valueD: \"\", //四\n    valueE: \"\", //5\n    valueF: \"\", //6\n    isClicleStudyModal: false\n  }\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    // if (windowsHeight < 900) {\n    //   ipcRenderer.send('table', win())\n    // } else {\n    //   ipcRenderer.send('setting', win())\n    // }\n    ipcRenderer.send('big', win())\n    //这里要根据保存的时候存到哪个位置的，然后拿出来更新state\n    let hardSet = electronStore.get(`${storage.userId}-hardwareConfiguration`)\n    console.log('----', hardSet);\n    let isClicleStudy = storage.isClinical === 'true' ? true : false\n    if (hardSet) {\n      console.log('不是第一次进来，有设置的');\n      let { isHua, is15, isBacklight, isBeep, backlightTimer, autoOff } = hardSet\n\n      this.setState({\n        isHua,\n        is15,\n        isBacklight,\n        isBeep,\n        backlightTimer,\n        autoOff,\n        // isClicleStudy: temporaryStorage.isClicleStudy,\n        isClicleStudy,\n\n        oldIsHua: isHua,\n        oldIs15: is15,\n        oldIsBacklight: isBacklight,\n        oldIsBeep: isBeep,\n        oldBacklightTimer: backlightTimer,\n        oldAutoOff: autoOff,\n        // oldIsClicleStudy: temporaryStorage.isClicleStudy,\n        oldIsClicleStudy: isClicleStudy,\n\n      })\n    } else {\n      let settings = {\n        isHua: true,\n        is15: true,\n        self_tarting: false,  //自启动\n        isBacklight: true,\n        isBeep: true,\n        backlightTimer: { length: 140, number: '45' },\n        autoOff: { length: 0, number: '30' },\n      }\n      electronStore.set(`${storage.userId}-hardwareConfiguration`, settings)\n      let { isHua, is15, isBacklight, isBeep, backlightTimer, autoOff } = settings\n      this.setState({\n        isHua,\n        is15,\n        isBacklight,\n        isBeep,\n        backlightTimer,\n        autoOff,\n        // isClicleStudy: temporaryStorage.isClicleStudy,\n        isClicleStudy,\n\n        oldIsHua: isHua,\n        oldIs15: is15,\n        oldIsBacklight: isBacklight,\n        oldIsBeep: isBeep,\n        oldBacklightTimer: backlightTimer,\n        oldAutoOff: autoOff,\n        // oldIsClicleStudy: temporaryStorage.isClicleStudy,\n        oldIsClicleStudy: isClicleStudy\n\n\n      })\n    }\n\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    let { height, width } = window.screen\n    let windowsHeight = height > width ? width : height\n    if (windowsHeight < 900) {\n      ipcRenderer.send('table', win())\n    } else {\n      ipcRenderer.send('big', win())\n    }\n    this.setState({\n\n    })\n  }\n\n  _save = () => {\n    console.log('点击保存');\n    /**\n     * 分别两部分保存保存，\n     * 本地存储：程序自启动、测量单位、背光、蜂鸣器、背光时间、硬件自动关机时间、腋温测量时间\n     * 临时存储：处于临床测试状态\n     */\n    this.setState({\n      isSave: false\n    })\n    let { self_tarting, isHua, isClicleStudy, isBacklight, isBeep, backlightTimer, autoOff, is15 } = this.state\n    // console.log({ self_tarting, isHua, isClicleStudy, isBacklight, isBeep, backlightTimer, autoOff, is15 });\n    let settings = {\n      isHua,\n      is15,\n      self_tarting,\n      isBacklight,\n      isBeep,\n      backlightTimer,\n      autoOff,\n    }\n    electronStore.set(`${storage.userId}-hardwareConfiguration`, settings)\n    // temporaryStorage.isClicleStudy = isClicleStudy\n    storage.isClinical = `${isClicleStudy}`\n    let ipcRenderer = window.electron.ipcRenderer\n    if (self_tarting) {\n      ipcRenderer.send('openAutoStart')\n    } else {\n      ipcRenderer.send('closeAutoStart')\n    }\n    let setArr = ['03', 'ed', '07', 'dd', autoOff.number, isBacklight ? backlightTimer.number : '00', isBeep ? '11' : '00', isHua ? '00' : '01']\n    console.log('setArr', setArr);\n\n\n\n    ipcRenderer.send('usbdata', { command: '21', arr: setArr })\n\n    this.props.history.goBack()\n  }\n  _goback = () => {\n    console.log('返回');\n    let { isHua, is15, isBacklight, isBeep, backlightTimer, autoOff, isClicleStudy,\n      oldAutoOff, oldBacklightTimer, oldIs15, oldIsBacklight, oldIsBeep, oldIsClicleStudy, oldIsHua, } = this.state\n    if (isHua !== oldIsHua || is15 !== oldIs15 || isBacklight !== oldIsBacklight || isBeep !== oldIsBeep || backlightTimer !== oldBacklightTimer\n      || autoOff !== oldAutoOff || isClicleStudy !== oldIsClicleStudy) {\n      console.log('做了更改');\n      this.setState({\n        isSave: true\n      })\n\n    } else {\n      this.props.history.goBack()\n    }\n\n  }\n\n  //验证码光标后移\n  handleInputValue = (e, type) => {\n\n    const { value = \"\" } = e.target;\n    switch (type) {\n      case \"A\":\n        if (value) this.secondFoucs.focus();\n\n        this.setState({\n          valueA: value.slice(0, 1)\n        });\n\n\n        break;\n\n\n      case \"B\":\n        if (value) this.tridFoucs.focus();\n\n        this.setState({\n          valueB: value.slice(0, 1)\n        });\n\n\n        break;\n\n      case \"C\":\n        if (value) this.fourFoucs.focus();\n\n        this.setState({\n          valueC: value.slice(0, 1)\n        });\n\n\n        break;\n\n      case \"D\":\n        if (value) this.fiveFoucs.focus();\n\n        this.setState({\n          valueD: value.slice(0, 1)\n        });\n\n\n        break;\n\n      case \"E\":\n        if (value) this.sixFoucs.focus();\n\n        this.setState({\n          valueE: value.slice(0, 1)\n        });\n\n\n        break;\n      default:\n        this.setState({\n          valueF: value.slice(0, 1),\n          isShow: true\n        });\n        break;\n    }\n\n  };\n  //删除验证码\n  handleDel = e => {\n    const BACK_SPACE = 8;\n    const isBackSpaceKey = e.keyCode === BACK_SPACE;\n    if (isBackSpaceKey && e.target.value.length === 0) {\n      let previous = e.target;\n      //上一个兄弟节点\n      previous = previous.previousElementSibling;\n      if (previous !== null && previous.tagName.toLowerCase() === \"input\") {\n        previous.focus();\n      }\n    }\n  };\n\n\n  moceCursor = (index) => {\n    let inputs = document.querySelectorAll('#settings .verify input')\n    if (index < 5) {\n      inputs[++index].focus()\n    }\n  }\n  backCursor = (index) => {\n    let inputs = document.querySelectorAll('#settings .verify input')\n    inputs[--index].focus()\n  }\n  _device = () => {\n\n    let userId = storage.userId\n    let deviceList = electronStore.get(`${userId}-deviceList`)\n    console.log('---', deviceList);\n    if (!deviceList) {\n      let str = `${getRamNumber()}`\n      for (let i = 0; i < 5; i++) {\n        str += `:${getRamNumber()}`\n      }\n      console.log('随机生成的mac地址:', str);\n      deviceList = [{ name: 'MellaPro', deviceType: 'mellaPro', macId: str }]\n      electronStore.set(`${userId}-deviceList`, deviceList)\n    }\n\n\n    function getRamNumber() {\n      var result = '';\n      for (var i = 0; i < 2; i++) {\n        result += Math.floor(Math.random() * 16).toString(16);//获取0-15并通过toString转16进制\n      }\n      //默认字母小写，手动转大写\n      return result.toLowerCase();//另toLowerCase()转小写\n    }\n    let deviceArr = []\n    let selectDevice = electronStore.get(`${storage.userId}-selectDevice`)\n    let selectDeviceName = ''\n    for (let i = 0; i < deviceList.length; i++) {\n      const element = deviceList[i];\n      let json = {\n        key: element.macId, value: element.name\n      }\n      deviceArr.push(json)\n      if (selectDevice === element.macId) {\n        selectDeviceName = element.name\n      }\n    }\n\n\n\n    return (\n      // <div className=\"item\" style={{ marginTop: px(15) }}>\n      <div className=\"title\">\n        <div className=\"hardSetting\">{`Hardware Settings`}</div>\n      </div>\n      // </div>\n    )\n  }\n\n\n  render() {\n    let { isClicleStudy, isBacklight, isBeep, backlightTimer, valueA, valueB, valueC, valueD, isClicleStudyModal, valueE, valueF, maxLength, sortBy, showsortBy } = this.state\n\n    let bodyHeight = '90%'\n    try {\n      bodyHeight = document.getElementById('settings').clientHeight - document.querySelectorAll('#settings .heard')[0].clientHeight\n    } catch (error) {\n\n    }\n\n\n    return (\n      <div id=\"settings\">\n        <div className=\"heard\">\n          <Heart\n            onReturn={this._goback}\n            // onSearch={(val) => { console.log(val); }}\n            menu8Click={() => {\n              switch (storage.identity) {   //1是vetspire   2是ezyvet   3是医生\n                case '1': this.props.history.push('/VetSpireSelectExam')\n\n                  break;\n                case '2': this.props.history.push({ pathname: '/EzyVetSelectExam', listDate: storage.ezyVetList, defaultCurrent: storage.defaultCurrent })\n\n                  break;\n\n                case '3': this.props.history.push({ pathname: '/uesr/selectExam', listDate: storage.doctorList, defaultCurrent: storage.defaultCurrent })\n\n                  break;\n                default:\n                  break;\n              }\n            }}\n          />\n        </div>\n\n\n        <div className=\"body\">\n          <div className=\"setting\">\n            {/* 桌面设计 */}\n            <div className=\"desk\">\n              <div className=\"title\">Desktop Settings</div>\n\n              <div className=\"item\" style={{ marginBottom: px(10) }}>\n                <div className=\"l\">\n                  <div className=\"text\">Launch Mella on Computer Startup</div>\n                  <div className=\"icon\"\n                    onClick={() => this.setState({ self_tarting: !this.state.self_tarting })}\n                  >\n                    {(this.state.self_tarting) && <span  >&#xe619;</span>}\n\n                  </div>\n\n                </div>\n\n\n                <div className=\"l\" style={{ paddingLeft: px(50), paddingRight: px(50) }}>\n                  <div className=\"text\">Units:</div>\n                  <div className=\"unit\">\n\n\n                    <div className=\"one\"\n\n                      onClick={() => { this.setState({ isHua: true }) }}\n                    >\n                      <div className=\"check\">\n                        {(this.state.isHua) && <div className=\"ciral\" />}\n                      </div>\n                      <div className=\"unitsText\">°F / lbs</div>\n                    </div>\n                    <div className=\"one\"\n\n                      onClick={() => { this.setState({ isHua: false }) }}\n                    >\n                      <div className=\"check\">\n                        {(!this.state.isHua) && <div className=\"ciral\" />}\n                      </div>\n                      <div className=\"unitsText\">°C / kg</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"item\" style={{ marginBottom: px(10) }}>\n                {/* <div className=\"l\">\n                  <div className=\"text\">Clinical Study Mode</div>\n                  <div className=\"switch\">\n                    <Switch\n                      checked={isClicleStudy}\n                      onClick={() => {\n                        if (isClicleStudy === false) {\n                          this.setState({\n                            isClicleStudy: !isClicleStudy,\n                            isClicleStudyModal: true\n                          })\n                        } else {\n                          this.setState({\n                            isClicleStudy: !isClicleStudy\n                          })\n                          // temporaryStorage.isClicleStudy = false\n                          storage.isClinical = `${false}`\n\n                          this.props.history.push({ pathname: '/page10' })\n                        }\n\n                      }}\n                      size='small'\n                    />\n                  </div>\n\n                </div> */}\n\n                {/*\n                <div className=\"l\" style={{ height: '50px' }}>\n\n                </div> */}\n              </div>\n\n            </div>\n\n            {/* 用户设计 */}\n            {\n              // storage.roleId === '3' &&\n              <div className=\"desk\">\n                <div className=\"title user\">User Admin</div>\n\n                <div className=\"item\" style={{ marginBottom: px(10) }}>\n                  <div className=\"l\" onClick={() => { this.props.history.push('/menuOptions/ConnectWorkplace') }}>\n                    <div className=\"text\">{`Org & Practice Profiles`}</div>\n                    <div className=\"rightIcon\">&#xe60c;</div>\n\n                  </div>\n\n\n                  <div className=\"l\" onClick={() => { this.props.history.push('/menuOptions/invite') }}>\n                    <div className=\"text\">Invite Your Team</div>\n                    <div className=\"rightIcon\">&#xe60c;</div>\n                  </div>\n                </div>\n\n                <div className=\"item\" style={{ marginBottom: px(10) }}>\n                  <div className=\"l\"\n                    onClick={() => {\n                      console.log(storage.roleId);\n                      message.destroy()\n                      if (storage.roleId === '3') {\n                        this.props.history.push('/menuOptions/veterinarians')\n                      } else {\n                        message.error('You do not have administrator rights')\n                      }\n                    }}\n\n                  >\n                    <div className=\"text\">Vet Profile Management</div>\n                    <div className=\"rightIcon\">&#xe60c;</div>\n                  </div>\n\n\n                  <div className=\"l \"\n                    onClick={() => this.props.history.push('/menuOptions/petAndParents')}\n\n                    style={{ marginTop: '25px', }}>\n                    <div className=\"text\">Pet and Parents Profile Management</div>\n                    <div className=\"rightIcon\">&#xe60c;</div>\n                  </div>\n                </div>\n\n              </div>\n            }\n\n\n            {/* 硬件设置 */}\n\n            <div className=\"desk\">\n\n              {this._device()}\n              <div className=\"item\">\n                <div className=\"l\">\n                  <div className=\"text\">Backlight</div>\n                  <Switch\n                    checked={isBacklight}\n                    onClick={() => this.setState({ isBacklight: !isBacklight })}\n                    size='small'\n                  />\n                </div>\n\n\n                <div className=\"l\">\n                  <div className=\"text\">Action Beep</div>\n                  <Switch\n                    checked={isBeep}\n                    onClick={() => this.setState({ isBeep: !isBeep })}\n                    size='small'\n                  />\n                </div>\n              </div>\n\n\n              <div className=\"item\">\n                <div className=\"l\">\n                  <div className=\"backlight\" style={{ width: px(300) }} >\n                    <div className=\"text\">Backlight Timer</div>\n                    <div className=\"solid\">\n                      10 Secs\n                      <div className=\"slider\" >\n                        <Slider\n                          min={10}\n                          max={60}\n                          railWidth={px(200)}\n                          getData={(e) => { console.log(e); this.setState({ backlightTimer: e }) }}\n                          left={backlightTimer.length}\n                        />\n                      </div>\n                      60 Secs\n                    </div>\n\n                  </div>\n                </div>\n\n\n                <div className=\"l\" >\n                  <div className=\"backlight\" style={{ width: px(300) }} >\n                    <div className=\"text\">Auto Off After</div>\n                    <div className=\"solid\">\n                      30 Secs\n                      <div className=\"slider\">\n                        <Slider\n                          min={30}\n                          max={60}\n                          railWidth={px(200)}\n                          getData={(e) => { this.setState({ autoOff: e }) }}\n                          left={this.state.autoOff.length}\n                        />\n                      </div>\n                      60 Secs\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"item\">\n\n\n\n                <div className=\"l\" style={{ flexDirection: 'column', alignItems: 'flex-start' }}>\n                  <div className=\"text\">Measurement Time for Axillary Sensor</div>\n                  <div className=\"unit\">\n\n\n                    <div className=\"one\"\n                      onClick={() => { this.setState({ is15: true }) }}\n                    >\n                      <div className=\"check\">\n                        {(this.state.is15) && <div className=\"ciral\" />}\n                      </div>\n                      <div className=\"unitsText\">15 Secs</div>\n                    </div>\n                    <div className=\"one\"\n                      onClick={() => { this.setState({ is15: false }) }}\n                    >\n                      <div className=\"check\">\n                        {(!this.state.is15) && <div className=\"ciral\" />}\n                      </div>\n                      <div className=\"unitsText\">30 Secs</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"l\" onClick={() => this.props.history.push('/menuOptions/advancedsettings')}>\n                  <div className=\"text\">Advanced Settings</div>\n                  <div className=\"rightIcon\">&#xe60c;</div>\n                </div>\n              </div>\n\n\n            </div>\n\n          </div>\n\n\n          <div className=\"btnSave\">\n            <Button\n              text={'Save Changes'}\n              onClick={this._save}\n            />\n          </div>\n        </div>\n\n        <MyModal\n          visible={this.state.isSave}\n          element={\n            <div className='isSave'\n            //  style={{ borderRadius: `${px(20)}px`, backgroundColor: '#fff' }}\n            >\n              <img src={redJinggao} alt=\"\" style={{ width: px(50), margin: `${px(25)}px 0` }} />\n              <p>Settings changed - save?</p>\n              <div className=\"btn\" style={{ margin: `${px(30)}px 0` }} >\n                <Button\n                  text={'Cancel'}\n                  onClick={() => {\n                    this.setState({\n                      isSave: false\n                    })\n                  }}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n                <Button\n                  text={'OK'}\n                  onClick={this._save}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n              </div>\n            </div>\n          }\n        />\n\n\n        <MyModal\n          visible={isClicleStudyModal}\n          element={\n            <div className='isSave'\n              style={{ width: '40%' }}\n            >\n\n              <div className=\"title\" style={{ marginTop: px(60) }}>\n                Are you sure you want to enter<br />\n                Clinical Study Mode?<br />\n                Please enter code to enter.\n              </div>\n\n\n\n              <div className='verify' style={{ margin: `${px(20)}px 0` }}>\n\n                <input\n\n                  ref={ref => {\n                    this.firstFoucs = ref;\n                  }}\n                  value={valueA}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"A\")}\n                  autoFocus={'autofocus'}\n                />\n                <input\n\n                  ref={ref => {\n                    this.secondFoucs = ref;\n                  }}\n                  value={valueB}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"B\")}\n                />\n                <input\n                  foucs\n\n                  ref={ref => {\n                    this.tridFoucs = ref;\n                  }}\n                  value={valueC}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"C\")}\n                />\n                <input\n\n                  ref={ref => {\n                    this.fourFoucs = ref;\n                  }}\n                  value={valueD}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"D\")}\n                />\n\n\n\n                <input\n\n                  ref={ref => {\n                    this.fiveFoucs = ref;\n                  }}\n                  value={valueE}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"E\")}\n                />\n                <input\n\n                  ref={ref => {\n                    this.sixFoucs = ref;\n                  }}\n                  value={valueF}\n                  maxLength={maxLength}\n                  onKeyDown={maxLength ? this.handleDel : null}\n                  onChange={e => this.handleInputValue(e, \"F\")}\n                />\n              </div>\n\n\n\n\n              <div className=\"btn\" style={{ margin: `${px(30)}px 0` }} >\n                <Button\n                  text={'Cancel'}\n                  onClick={() => {\n                    this.setState({\n                      isClicleStudyModal: false,\n                      isClicleStudy: false,\n                      valueA: '',\n                      valueB: '',\n                      valueC: '',\n                      valueD: '',\n                      valueE: '',\n                      valueF: ''\n                    })\n                  }}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n                <Button\n                  text={'OK'}\n                  onClick={() => {\n                    if (valueA && valueB && valueC && valueD && valueE && valueF) {\n                      this.setState({\n                        isClicleStudyModal: false\n                      })\n                      // temporaryStorage.isClicleStudy = true\n\n                      // let storage = window.localStorage;\n                      storage.isClinical = `${true}`\n                      this.props.history.push({ pathname: '/page8', identity: storage.identity });\n                    }\n\n\n                  }}\n                  textBoxStyle={{\n                    width: '40%',\n                    height: px(40)\n                  }}\n                />\n              </div>\n            </div>\n          }\n        />\n\n\n      </div>\n    )\n  }\n}\n",["463","464"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\minClose\\MinClose.js",["465","466","467"],"\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './minClose.less'\r\nimport { px, mTop } from './../px'\r\nimport rMin_red from './../../assets/img/min-red.png'\r\nimport rClose_red from './../../assets/img/close-red.png'\r\n\r\nimport rMin_white from './../../assets/img/min-white.png'\r\nimport rClose_white from './../../assets/img/close-white.png'\r\n\r\nlet ipcRenderer = window.electron.ipcRenderer\r\n\r\n/**\r\n * \r\n * @param {string} minHeight 最小化、最大化方块的宽高 \r\n * @param {number} imgWidth 最小化、最大化图片的高度 \r\n * @returns  封装了最小化和关闭按钮，有鼠标移入、移出的动画\r\n */\r\nconst MinClose = ({ minHeight, imgWidth }) => {\r\n  const [minbgc, setMinbgc] = useState('')\r\n  const [rMin, setRMin] = useState(rMin_red)\r\n  const [closebgc, setClosebgc] = useState('')\r\n  const [rClose, setRClose] = useState(rClose_red)\r\n\r\n  const minMouseEnter = () => {\r\n    setMinbgc('rgba(70, 70, 70, 0.5)')\r\n    setRMin(rMin_white)\r\n  }\r\n  const minMouseLeave = () => {\r\n    setMinbgc('')\r\n    setRMin(rMin_red)\r\n  }\r\n  const minClock = () => {\r\n    setMinbgc('')\r\n    setRMin(rMin_red)\r\n    ipcRenderer.send('window-min')\r\n\r\n  }\r\n\r\n\r\n  const closeMouseEnter = () => {\r\n    setClosebgc('rgba(232,17,35)')\r\n    setRClose(rClose_white)\r\n  }\r\n  const closeMouseLeave = () => {\r\n    setClosebgc('')\r\n    setRClose(rClose_red)\r\n  }\r\n  const closeClock = () => {\r\n    ipcRenderer.send('window-close')\r\n  }\r\n\r\n\r\n  return (\r\n    <div\r\n      id='minClose'\r\n    >\r\n      <div\r\n        className='min_icon'\r\n        onClick={minClock}\r\n        style={{ backgroundColor: minbgc, height: minHeight, width: minHeight }}\r\n        onMouseEnter={minMouseEnter}\r\n        onMouseLeave={minMouseLeave}\r\n      >\r\n        <img src={rMin} alt=\"\" style={{ width: imgWidth }} />\r\n      </div>\r\n      <div\r\n        className='min_icon'\r\n        onClick={closeClock}\r\n        style={{ backgroundColor: closebgc, height: minHeight, width: minHeight }}\r\n        onMouseEnter={closeMouseEnter}\r\n        onMouseLeave={closeMouseLeave}\r\n      >\r\n        <img src={rClose} alt=\"\" style={{ width: imgWidth }} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nMinClose.propTypes = {\r\n  minHeight: PropTypes.string,\r\n  imgWidth: PropTypes.string,\r\n}\r\nMinClose.defaultProps = {\r\n  minHeight: '40px',\r\n  imgWidth: `${px(20)}px`\r\n\r\n}\r\n\r\nexport default MinClose","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\AddDevice.jsx",["468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483"],"import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { Input, Button, message, Spin, BackTop } from 'antd';\r\nimport { createFromIconfontCN, SyncOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport { devicesTitleHeight } from '../../utils/InitDate'\r\nimport electronStore from '../../utils/electronStore';\r\nimport blueSearch from './../../assets/img/blueSerch.png'\r\nimport biggieHome from './../../assets/img/searchType-biggieHome.png'\r\nimport biggiePro from './../../assets/img/searchType-biggiePro.png'\r\nimport mellaHome from './../../assets/img/searchType-home.png'\r\nimport mellaPro from './../../assets/img/searchType-mellaPro.png'\r\nimport maeBowl from './../../assets/img/searchType-maeBowl.png'\r\nimport other from './../../assets/img/searchType-other.png'\r\nimport possum from './../../assets/img/searchType-possum.png'\r\nimport rfid from './../../assets/img/searchType-rfid.png'\r\nimport MinClose from '../../utils/minClose/MinClose'\r\nimport MouseDiv from '../../utils/mouseDiv/MouseDiv'\r\nimport back_white from '../../assets/img/back-white.png'\r\nimport back_hui from '../../assets/img/back-hui.png'\r\nimport redclose from '../../assets/img/redclose.png'\r\nimport MyModal from './../../utils/myModal/MyModal'\r\nimport { mTop, px, MTop, pX } from '../../utils/px';\r\nimport './mainbody.less'\r\nimport { setReceiveBroadcastHardwareInfoFun, setHardwareList, changeselectHardwareIndex, setSelectHardwareType, selectHardwareList } from '../../store/actions';\r\n\r\n\r\nlet storage = window.localStorage;\r\nconst AddDevice = ({ bodyHeight, hardwareReducer, isHaveUsbDevice, receiveBroadcastHardwareInfo, hardwareList, setReceiveBroadcastHardwareInfoFun, setHardwareList, changeselectHardwareIndex, setSelectHardwareType, selectHardwareList }) => {\r\n    //是否有底座设备\r\n    const [noUSB, setNoUSB] = useState(false)\r\n    //设备列表\r\n    const [devicesList, setDevicesList] = useState([])\r\n    //选择的设备\r\n    const [selectDevice, setSelectDevice] = useState(null)\r\n    //重命名\r\n    const [reName, setReName] = useState('')\r\n    //房间号\r\n    const [examRoom, setExamRoom] = useState('')\r\n    //已经保存过的设备的macid\r\n    const [saveDeviceMac, setSaveDeviceMac] = useState([])\r\n    //顶部文本\r\n    const [topText, setTopText] = useState(' Pair Device')\r\n\r\n    //初始化\r\n    useEffect(() => {\r\n        setNoUSB(false)\r\n        setDevicesList([])\r\n        setSelectDevice(null)\r\n        setReName('')\r\n        setSaveDeviceMac([])\r\n        setTopText(' Pair Device')\r\n        //组件渲染完毕后要先清空广播的硬件信息\r\n        setReceiveBroadcastHardwareInfoFun({\r\n            deviceType: '',\r\n            macId: '',\r\n            name: ''\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        if (hardwareList.length > 0) {\r\n            let saveDeviceMac = []\r\n            for (let i = 0; i < hardwareList.length; i++) {\r\n                const element = hardwareList[i];\r\n                for (let j = 0; j < element.devices.length; j++) {\r\n                    const device = element.devices[j];\r\n                    saveDeviceMac.push(device.mac)\r\n                }\r\n            }\r\n            setSaveDeviceMac(saveDeviceMac)\r\n\r\n        }\r\n    }, [hardwareList])\r\n    useEffect(() => {\r\n        if (!selectDevice) {\r\n            setTopText(' Pair Device')\r\n        } else {\r\n            setTopText('Device Connected')\r\n        }\r\n\r\n    }, [selectDevice])\r\n    useEffect(() => {\r\n        setNoUSB(!isHaveUsbDevice)\r\n    }, [isHaveUsbDevice])\r\n    useEffect(() => {\r\n        let sameFlog = devicesList.some((device, index) => {\r\n            return device.macId === receiveBroadcastHardwareInfo.macId\r\n        })\r\n        if (sameFlog || !receiveBroadcastHardwareInfo.macId) {   //重复直接退出\r\n            return\r\n        }\r\n        console.log('receiveBroadcastHardwareInfo', devicesList, receiveBroadcastHardwareInfo);\r\n        let deviceArr = [].concat(devicesList)\r\n        deviceArr.push(receiveBroadcastHardwareInfo)\r\n        setDevicesList(deviceArr)\r\n\r\n\r\n\r\n    }, [receiveBroadcastHardwareInfo])\r\n\r\n    const addDevice = () => {\r\n        //从redux拿到列表中的所有硬件设备 hardwareList\r\n        console.log('hardwareList', hardwareList);\r\n        //拿到硬件的macid 类型 名称 房间号\r\n        console.log('selectDevice', selectDevice);\r\n        let sameFlog = hardwareList.some((item, index) => {\r\n            return item.type === selectDevice.deviceType\r\n        })\r\n        let hardwareArr = [].concat(hardwareList)\r\n        let { deviceType, macId, name } = selectDevice\r\n        let newDevice = {\r\n            name: reName || name,\r\n            mac: macId,\r\n            deviceType,\r\n            examRoom: examRoom || '',\r\n        }\r\n        console.log('newDevice', newDevice);\r\n        if (sameFlog) {\r\n            //相同就代表有这个硬件类型,可以直接去push\r\n\r\n            for (let i = 0; i < hardwareArr.length; i++) {\r\n                if (hardwareArr[i].type === selectDevice.deviceType) {\r\n                    hardwareArr[i].devices.push(newDevice)\r\n                    break\r\n                }\r\n            }\r\n\r\n        } else {\r\n            //没有就要新建一个硬件类型\r\n            let json = {\r\n                type: selectDevice.deviceType,\r\n                devices: [newDevice]\r\n            }\r\n            hardwareArr.push(json)\r\n        }\r\n        setReName('')\r\n        setExamRoom('')\r\n        setHardwareList(hardwareArr)\r\n\r\n        return newDevice\r\n\r\n\r\n    }\r\n\r\n    const body = () => {\r\n\r\n        if (selectDevice) {\r\n            return <div className=\"addDevice1 flex\">\r\n                <div className=\"addDeviceTop flex\">\r\n                    <div className=\"title\" style={{ fontSize: px(28), marginBottom: px(20), marginTop: px(20) }}>Would you like to name<br />\r\n                        {`this ${selectDevice.name} device?`}</div>\r\n\r\n                    <div className=\"title\" style={{ fontSize: px(24), marginBottom: px(40), }}>\r\n                        {`SN: ${selectDevice.macId}`}</div>\r\n\r\n\r\n                    <div className=\"input flex\" style={{ marginBottom: px(20), width: px(400) }}>\r\n                        <input type=\"text\" style={{ height: px(45) }}\r\n                            value={reName}\r\n                            onChange={(value) => {\r\n                                setReName(value.target.value)\r\n\r\n                            }}\r\n                            placeholder={`${selectDevice.name} Device Name`}\r\n                        />\r\n                    </div>\r\n                    <div className=\"input flex\" style={{ marginBottom: px(60), width: px(400) }}>\r\n                        <input type=\"text\" style={{ height: px(45) }}\r\n                            value={examRoom}\r\n                            onChange={(value) => {\r\n                                setExamRoom(value.target.value)\r\n\r\n                            }}\r\n                            placeholder={`Exam Room Name`}\r\n                        />\r\n                    </div>\r\n                    <div className=\"text\" style={{ fontSize: px(18) }}>* We recommend naming based\r\n                        on the Exam Room. Write<br /> the name\r\n                        on the sticker provided so it is easy\r\n                        to select<br /> your device in the future.</div>\r\n                </div>\r\n                <div className=\"addDeviceFoot flex\">\r\n                    <div className=\"btn\"\r\n                        onClick={() => {\r\n                            addDevice()\r\n                            setSelectDevice(null)\r\n                            setSelectHardwareType('add')\r\n\r\n                        }}\r\n                    >\r\n                        <p className='btnText'>Add Another Device</p>\r\n                    </div>\r\n                    <div className=\"btn\"\r\n                        onClick={() => {\r\n                            let newDevice = addDevice()\r\n                            setSelectHardwareType(selectDevice.deviceType)\r\n\r\n\r\n                            electronStore.set(`${storage.lastOrganization}-${storage.userId}-${selectDevice.deviceType}-selectDeviceInfo`, newDevice)\r\n                            setSelectDevice(null)\r\n                        }}\r\n                    >\r\n                        <p className='btnText'>Finish</p>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        } else {\r\n            if (noUSB) {\r\n                return <div className='flex' style={{ width: '100%', marginBottom: px(120), height: '50%', }}>\r\n                    <img src={redclose} alt=\"\" style={{ width: px(80) }} />\r\n\r\n                    <p style={{ textAlign: 'center', fontSize: px(30), marginTop: px(50) }}>The base is not detected.<br />Please insert the base</p>\r\n                </div>\r\n            } else {\r\n                if (devicesList.length === 0) {\r\n                    let options = (val) => {\r\n                        let arr = []\r\n                        if (val === 1) {\r\n                            arr = [mellaPro, mellaHome, biggiePro, biggieHome, rfid]\r\n                        } else {\r\n                            arr = [possum, maeBowl, other]\r\n                        }\r\n                        let option = arr.map((item, index) => {\r\n                            let imgWidth = px(80)\r\n                            imgWidth = index === 2 ? px(65) : imgWidth\r\n                            return (<li key={index.toString()} style={{ margin: `${px(20)}px` }}>\r\n                                <div className=\"searchType-item\" key={index} >\r\n                                    <img src={item} alt=\"\" width={imgWidth} />\r\n                                </div>\r\n                            </li>)\r\n                        })\r\n                        return (\r\n                            <ul>\r\n                                {option}\r\n                            </ul>\r\n                        )\r\n                    }\r\n                    return <div className=\"flex\" style={{ width: '100%', height: '100%', position: 'relative' }}>\r\n\r\n\r\n                        <div className=\"addDeviceContent\">\r\n                            <div className=\"blueAnimal\" style={{ marginTop: px(50) }}>\r\n                                {/* <img src={blueSearch} alt=\"\" width={px(150)} /> */}\r\n                                <div className=\"loadIcon\" style={{ marginBottom: MTop(5) }}>\r\n                                    <LoadingOutlined style={{ fontSize: 30, color: '#8a8a8a', marginTop: mTop(-30), }} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"openText\" style={{ margin: `${px(15)}px 0` }}>\r\n                                Make sure your bluetooth and wifi is<br /> activated and turn on your device.\r\n                            </div>\r\n                            <div className=\"btn\" style={{ width: px(350), height: px(40) }}>\r\n                                <div className=\"btnText\">\r\n                                    Scan For Devices\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"or\" style={{ marginTop: px(10), marginBottom: px(15) }}>\r\n                                Or\r\n                            </div>\r\n                            <div className=\"select\">\r\n                                Select device type to\r\n                            </div>\r\n                            <div className=\"add\">\r\n                                add manually\r\n                            </div>\r\n\r\n                            <div className=\"item\">\r\n                                {options(1)}\r\n                                {options(2)}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', flexDirection: 'column', marginBottom: px(130) }}>\r\n                          \r\n                            <p>\r\n                                {'searching...'}\r\n                            </p>\r\n                        </div> */}\r\n                    </div>\r\n                } else {\r\n                    let options = devicesList.map((item, index) => {\r\n\r\n                        let flog = saveDeviceMac.some((device, index) => {\r\n                            return device === item.macId\r\n                        })\r\n                        let fontColor = flog ? '#D1C4C4' : '#4a4a4a'\r\n                        return <li\r\n                            className='flex'\r\n                            style={{ marginBottom: px(20) }}\r\n                            key={`${index}`}\r\n                            onClick={() => {\r\n                                if (!flog) {\r\n                                    setSelectDevice(item)\r\n\r\n                                } else {\r\n                                    message.destroy();\r\n                                    message.error('This device has already been added')\r\n                                }\r\n\r\n                            }}\r\n                        >\r\n\r\n                            <div className=\"deviceName\" style={{ fontSize: px(24), color: fontColor }}>{item.name}</div>\r\n                            <div className=\"deviceMacId\" style={{ fontSize: px(18), color: fontColor }}>{item.macId}</div>\r\n\r\n                        </li>\r\n                    })\r\n                    return <div className='deviceList ' >\r\n                        <ul>\r\n                            {options}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='addDevice' style={{ height: bodyHeight }}>\r\n            <div className=\"addDeviceTitle\" style={{ height: px(100), fontSize: 26, paddingLeft: px(20) }}>\r\n                {topText}\r\n            </div>\r\n\r\n            {body()}\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\n\r\nAddDevice.propTypes = {\r\n    bodyHeight: PropTypes.number,\r\n    devicesTypeList: PropTypes.array\r\n}\r\n//默认值\r\nAddDevice.defaultProps = {\r\n    bodyHeight: 0,\r\n    devicesTypeList: []\r\n}\r\nexport default connect(\r\n    state => ({\r\n        hardwareReducer: state.hardwareReduce,\r\n        isHaveUsbDevice: state.hardwareReduce.isHaveUsbDevice,\r\n        receiveBroadcastHardwareInfo: state.hardwareReduce.receiveBroadcastHardwareInfo,\r\n        hardwareList: state.hardwareReduce.hardwareList,\r\n    }),\r\n    { setReceiveBroadcastHardwareInfoFun, setHardwareList, changeselectHardwareIndex, setSelectHardwareType, selectHardwareList }\r\n)(AddDevice)","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\index.jsx",["484","485"],"import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Layout } from \"antd\";\nimport LinkEquipment from \"./components/linkEquipment\";\nimport Measurement from \"./components/measurement\";\nimport MeasuredData from \"./components/measuredData\";\nimport {\n  selectHardwareModalShowFun,\n  petSortTypeFun,\n  petDetailInfoFun,\n  setMellaConnectStatusFun,\n  setMellaMeasureValueFun,\n  setMellaPredictValueFun,\n  setMellaMeasurePartFun,\n} from \"../../store/actions\";\nimport _ from \"lodash\";\nimport HeaderItem from \"./components/headerItem\";\nimport { px } from \"../../utils/px\";\nimport PropTypes from 'prop-types';\nimport \"./index.less\";\n\nconst TemperaturePage = ({ petMessage, hardwareMessage,bodyHeight }) => {\n  let { mellaConnectStatus } = hardwareMessage;\n  //测量温度中的页面变化\n  const changePage = () => {\n    // return <MeasuredData />\n    switch (mellaConnectStatus) {\n      case \"isMeasuring\":\n        return <Measurement />;\n      case \"complete\":\n        return <MeasuredData />;\n      case \"connected\":\n        return <LinkEquipment />;\n      case \"disconnected\":\n        return <LinkEquipment />;\n      default:\n        break;\n    }\n  };\n  return (\n    <>\n      <Layout className=\"homeBox\" style={{ height: bodyHeight }}>\n        <div style={{ height: px(100), background: \"#fff\", position: 'relative' }}>\n          <div style={{ height: '100%' }}>\n            <HeaderItem />\n          </div>\n        </div>\n        {_.isEmpty(petMessage) ? (\n          <div className=\"chackPatientBox\">\n            <p className=\"chackPatientTitle\">Select a patient</p>\n          </div>\n        ) : (\n          changePage()\n        )}\n      </Layout>\n    </>\n  );\n};\n\nTemperaturePage.propTypes = {\n  bodyHeight: PropTypes.number,\n  devicesTypeList: PropTypes.array\n}\n\nexport default connect(\n  (state) => ({\n    petMessage: state.petReduce.petDetailInfo,\n    hardwareMessage: state.hardwareReduce,\n  }),\n  {\n    selectHardwareModalShowFun,\n    petSortTypeFun,\n    petDetailInfoFun,\n    setMellaConnectStatusFun,\n    setMellaMeasureValueFun,\n    setMellaPredictValueFun,\n    setMellaMeasurePartFun,\n  }\n)(TemperaturePage);\n",["486","487"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scanPage\\index.jsx",["488","489","490","491"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scheduledPetsPage\\index.js",["492","493","494","495","496","497","498","499","500","501","502","503"],"import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Input, Button, message, Spin, BackTop } from 'antd';\nimport { createFromIconfontCN, SyncOutlined, LoadingOutlined } from '@ant-design/icons';\n\nimport { devicesTitleHeight } from '../../utils/InitDate'\n\nimport { mTop, px, MTop, pX } from '../../utils/px';\nimport PetTable from '../../components/petTable';\nimport './scheduled.less'\nimport { petDetailInfoFun, setMenuNum, setPetListArrFun } from '../../store/actions';\nimport moment from 'moment'\nimport { fetchRequest } from '../../utils/FetchUtil1';\n\n\nlet storage = window.localStorage;\nconst ScheduledPetPage = ({ bodyHeight, petDetailInfoFun, setMenuNum, setPetListArrFun }) => {\n\n  //初始化获取宠物列表数据\n  const [petListArr, setPetListArr] = useState([])\n  //定义宠物列表是否加载中\n  const [loading, setLoading] = useState(true)\n\n  const [spin, setSpin] = useState(false)\n\n\n  const _getExam = async () => {\n    console.log('进来了');\n\n\n    let startDay = moment().startOf('day').format('YYYY-MM-DD HH:mm:ss')\n    let endDay = moment().endOf('day').format('YYYY-MM-DD HH:mm:ss')\n    let chazhi = new Date().getTimezoneOffset()\n    let newstartTime = moment(startDay).add(chazhi, 'm').format('YYYY-MM-DD HH:mm:ss');\n    let newendTime = moment(endDay).add(chazhi, 'm').format('YYYY-MM-DD HH:mm:ss');\n\n\n    let params = {\n      doctorId: storage.userId,\n      offset: 0,\n      size: 100,\n      subStartTime: newstartTime,\n      subEndTime: newendTime\n    }\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      params.organizationId = storage.lastOrganization\n    }\n\n\n    console.log('查询宠物的入参', params);\n    const isUnKnow = (val) => {\n      if (val) {\n        return val\n      } else {\n        return 'unknown'\n      }\n    }\n    setLoading(true)\n\n    fetchRequest('/new/pet/subscribe/page', 'POST', params)\n\n      .then(res => {\n        if (res.flag === true && res.data) {\n          let data = []\n          let oldList = res.data.list\n          for (let i = 0; i < oldList.length; i++) {\n            let { age, url, createTime, patientId, speciesId, petName, firstName, birthday, lastName, breedName, gender, petId, weight, rfid, l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference, pethubId, macId,\n              h2tLength, torsoLength } = oldList[i]\n            let owner = ''\n            patientId = isUnKnow(patientId)\n            petName = isUnKnow(petName)\n            breedName = isUnKnow(breedName)\n            age = isUnKnow(age)\n            weight = isUnKnow(weight)\n            if (!firstName) {\n              firstName = ''\n            }\n            if (!lastName) {\n              lastName = ''\n            }\n            if (lastName === '' && firstName === '') {\n              owner = 'unknown'\n            } else {\n              owner = `${lastName} ${firstName}`\n            }\n            createTime = moment(createTime).format('X')\n            let petGender = ''\n            switch (`${gender}`) {\n              case '1': petGender = 'F'\n\n                break;\n              case '0': petGender = \"M\"\n                break;\n              default: petGender = 'unknown'\n                break;\n            }\n            let petAge = 'unknown'\n            if (birthday) {\n              petAge = moment(new Date()).diff(moment(birthday), 'years')\n            }\n\n            let json = {\n              insertedAt: createTime,\n              patientId,\n              petName,\n              owner,\n              breed: breedName,\n              gender: petGender,\n              age: petAge,\n              petId,\n              id: i,\n              weight,\n              rfid,\n              url,\n              speciesId,\n              l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\n              h2tLength, torsoLength,\n              pethubId, macId,\n\n            }\n            data.push(json)\n\n          }\n          data.sort((a, b) => {\n            return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n          })\n          console.log('列表的数据：', data);\n          setPetListArr(data)\n          setLoading(false)\n          setSpin(false)\n\n\n\n\n        } else {\n          setLoading(false)\n          setSpin(false)\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        setLoading(false)\n        setSpin(false)\n      })\n\n\n\n  }\n  const _refresh = () => {\n    console.log('点击了');\n    setSpin(true)\n    _getExam()\n  }\n\n  useEffect(() => {\n    //获取宠物列表\n    _getExam()\n  }, [])\n\n  return (\n    <div id='scheduled' style={{ height: bodyHeight }}>\n      <div className=\"allPetHeard\">\n        <div className=\"addDeviceTitle flex\" style={{ height: px(100), fontSize: 26, paddingLeft: px(20) }}>\n          <div className=\"title\">Scheduled Patients</div>\n          <div className=\"refresh flex\"\n            style={{ fontSize: px(25), marginLeft: px(10) }}\n          >\n            <SyncOutlined onClick={_refresh} spin={spin} />\n          </div>\n\n        </div>\n\n        <div className=\"walkBtn1\" style={{ marginRight: px(80) }}>\n          <div\n            className=\"walkbtnBox\"\n            style={{ height: px(40), width: px(200) }}\n            onClick={() => {\n              let json = {\n                isWalkIn: true,\n                petId: null,\n                petName: null,\n                owner: null,\n                breed: null,\n\n              }\n              petDetailInfoFun(json)\n              setMenuNum(\"1\")\n            }}\n          >\n            <div className=\"walkText\">Walk-In</div>\n          </div>\n        </div>\n\n      </div>\n      <div className=\"body111\" style={{ height: bodyHeight - px(100) }}>\n\n        <PetTable\n          // bodyHeight={bodyHeight - devicesTitleHeight}\n          petListArr={petListArr}\n          loading={loading}\n          resetPetList={(val) => setPetListArr(val)}\n          type={'scheduled'}\n\n        />\n        <div className=\"hread flex\" style={{ alignItem: 'center' }}>\n          <div className=\"hread1\" style={{ marginTop: px(10), justifyContent: 'flex-end', display: 'flex', }}>\n            <div className=\"walkin flex\"\n              style={{ borderRadius: px(50), height: px(45), fontSize: px(20), marginRight: px(10) }}\n              onClick={() => {\n                setMenuNum('AddScheduledPet')\n\n              }}\n            >Create New Scheduled</div>\n\n          </div>\n        </div>\n      </div>\n\n    </div >\n\n  )\n}\n\n\nScheduledPetPage.propTypes = {\n\n}\n//默认值\nScheduledPetPage.defaultProps = {\n  bodyHeight: 0,\n}\nexport default connect(\n  state => ({\n\n  }),\n  { petDetailInfoFun, setMenuNum, setPetListArrFun }\n)(ScheduledPetPage)\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\index.jsx",["504","505"],"import React, { useEffect, useState } from \"react\";\nimport { Layout } from \"antd\";\nimport LinkEquipment from \"./components/linkEquipment\";\nimport SwabPetEar from \"./components/swabPetEar\";\nimport ExperimentalPage from \"./components/experimental\";\nimport TimerPage from \"./components/timer\";\nimport HeaderItem from \"./../temperaturePage/components/headerItem\";\nimport { px } from \"../../utils/px\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport {\n  selectHardwareModalShowFun,\n  petSortTypeFun,\n  petDetailInfoFun,\n} from \"../../store/actions\";\nimport PropTypes from 'prop-types';\nimport \"./index.less\";\n\nconst { Content, Header } = Layout;\nconst OtterEQPage = ({ petMessage, hardwareMessage,bodyHeight }) => {\n  const [cutPageType, setCutPageType] = useState('linkPage');\n  const changePage = () => {\n    switch (cutPageType) {\n      case \"linkPage\":\n        return <LinkEquipment cutPageType={getCutPageType} />;\n      case \"swabPetEarPage\":\n        return <SwabPetEar cutPageType={getCutPageType} />;\n      case \"experimentalPage\":\n        return <ExperimentalPage cutPageType={getCutPageType} />;\n      case \"timerPage\":\n        return <TimerPage cutPageType={getCutPageType} />;\n      default:\n        break;\n    }\n  };\n\n  const getCutPageType = (type) => {\n    console.log('type: ', type);\n    if (!_.isEmpty(type)) {\n      setCutPageType(type);\n    }\n  }\n\n  return (\n    <Layout className=\"ottterEQBox\" style={{ height: bodyHeight }}>\n      <div style={{ height: px(100), background: \"#fff\", position: 'relative' }}>\n        <div style={{ height: '100%' }}>\n          <HeaderItem />\n        </div>\n      </div>\n      {_.isEmpty(petMessage) ? (\n        <div className=\"chackPatientBox\">\n          <p className=\"chackPatientTitle\">Select a patient</p>\n        </div>\n      ) : (\n        <Content className={\"otterEQcontent\"}>\n          {changePage()}\n        </Content>\n      )}\n    </Layout>\n  );\n};\n\nOtterEQPage.propTypes = {\n  bodyHeight: PropTypes.number,\n  devicesTypeList: PropTypes.array\n}\n\nexport default connect(\n  (state) => ({\n    petMessage: state.petReduce.petDetailInfo,\n    hardwareMessage: state.hardwareReduce,\n  }),\n  {\n    selectHardwareModalShowFun,\n    petSortTypeFun,\n    petDetailInfoFun,\n  }\n)(OtterEQPage);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\uploadImg\\UploadImg.js",["506"],"\r\nimport React, { useState } from 'react'\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './uploadImg.less'\r\nimport selectphoto from './../../assets/images/sel.png'\r\n\r\nconst UploadImg = ({ imgWidth, text, getImg, imgUrl, disable }) => {\r\n\r\n  const url = 'http://ec2-3-214-224-72.compute-1.amazonaws.com:8080/mellaserver'\r\n  let backgroundImage = imgUrl ? `url(${imgUrl})` : `url(${selectphoto})`\r\n  let cursor = !disable ? 'default' : 'no-drop'\r\n  return (\r\n\r\n    <div id=\"uploadImg\">\r\n      <div className=\"ciral\"\r\n        onClick={() => {\r\n          if (disable) {\r\n            return\r\n          }\r\n          let file = document.getElementById('img')\r\n          file.click();\r\n        }}\r\n        style={{\r\n          width: imgWidth,\r\n          height: imgWidth,\r\n          borderRadius: imgWidth,\r\n          backgroundImage: backgroundImage,\r\n          backgroundPosition: 'center',\r\n          backgroundRepeat: 'no-repeat',\r\n          backgroundSize: `auto ${imgWidth}`,\r\n          cursor: cursor\r\n\r\n        }}\r\n      >\r\n\r\n        <input type=\"file\"\r\n          accept=\"image/gif,image/jpeg,image/jpg,image/png,image/svg\"\r\n          className=\"uploadImg\"\r\n          id=\"img\"\r\n          style={{ display: 'none' }}\r\n          onChange={(e) => {\r\n            console.log(e);\r\n            let $target = e.target || e.srcElement\r\n            if ($target.files.length === 0) {\r\n              return;\r\n            }\r\n            let file = $target.files[0]\r\n            var reader = new FileReader()                   //创建文件阅读器实例\r\n            reader.readAsDataURL(file)\r\n            reader.onload = (data) => {\r\n              let res = data.target || data.srcElement\r\n              console.dir(document.getElementsByClassName('ciral')[0]);\r\n              document.getElementsByClassName('ciral')[0].style.backgroundImage = `url(${res.result})`\r\n              // document.getElementById('touxiang').src = res.result\r\n\r\n\r\n              const formData = new FormData();\r\n              formData.append('img', file);\r\n              fetch(`${url}/image/uploadImage`, {\r\n                method: 'POST',\r\n                headers: {\r\n                },\r\n                body: formData\r\n              })\r\n                .then((response) => response.json())\r\n                .then((res) => {\r\n                  console.log('上传的结果', res);\r\n                  if (res.flag === true) {\r\n                    getImg(res.data)\r\n                  }\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err);\r\n                });\r\n            }\r\n\r\n          }} />\r\n        <p>{text}</p>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\nUploadImg.propTypes = {\r\n  imgWidth: PropTypes.string,\r\n  text: PropTypes.string,\r\n  getImg: PropTypes.func,\r\n  imgUrl: PropTypes.string,\r\n  disable: PropTypes.bool\r\n}\r\nUploadImg.defaultProps = {\r\n  imgWidth: '120px',\r\n  text: 'Add Photo',\r\n  disable: false\r\n  // imgUrl: 'http://ec2-3-214-224-72.compute-1.amazonaws.com:18886/group1/image/0_email.png'\r\n}\r\nexport default UploadImg","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\HardListModal.jsx",["507"],"import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { px } from \"../../utils/px\";\r\nimport {\r\n  selectHardwareInfoFun,\r\n  selectHardwareModalShowFun,\r\n  setMenuNum,\r\n} from \"./../../store/actions\";\r\nimport electronStore from \"../../utils/electronStore\";\r\n\r\nimport deviceBiggie from \"./../../assets/img/deviceIcon-biggie.png\";\r\nimport nextImg from \"./../../assets/img/nextImg.png\";\r\nimport dui from \"./../../assets/img/dui.png\";\r\nimport deviceMella from \"./../../assets/img/deviceIcon-mella.png\";\r\nimport deviceRfid from \"./../../assets/img/deviceIcon-rfid.png\";\r\nimport deviceMaeBowl from \"./../../assets/img/deviceIcon-maeBowl.png\";\r\nimport deviceTape from \"./../../assets/img/deviceIcon-tape.png\";\r\nimport deivceAdd from \"./../../assets/img/hardList-add.png\";\r\nimport scales from \"./../../assets/img/scales.png\";\r\nimport \"./mainbody.less\";\r\nimport { compareObject } from \"../../utils/current\";\r\n\r\nlet storage = window.localStorage;\r\nconst HardAndPetsUI = ({\r\n  hardwareList,\r\n  selectHardwareType,\r\n  selectHardwareInfoFun,\r\n  selectHardwareModalShowFun,\r\n  setInfo,\r\n  setMenuNum,\r\n  hardwareMessage,\r\n}) => {\r\n  let { selectHardwareInfo } = hardwareMessage;\r\n  //定义数组hardwareList\r\n  const [hardwareListArr, setHardwareList] = useState([]);\r\n  //定义选择的硬件详细信息\r\n  const [selectHardwareDetail, setSelectHardwareDetail] = useState({});\r\n\r\n  let options = hardwareListArr.map((item, index) => {\r\n    let { name, mac, deviceType } = item;\r\n    let deviceTypeStr = \"\",\r\n      img = null;\r\n    switch (deviceType) {\r\n      case \"biggie\":\r\n        deviceTypeStr = \"Biggie Pro Scale\";\r\n        img = <img src={deviceBiggie} alt=\"\" width={px(75)} />;\r\n        break;\r\n      case \"rfid\":\r\n        deviceTypeStr = \"RFID\";\r\n        img = <img src={deviceRfid} alt=\"\" width={px(40)} />;\r\n        break;\r\n      case \"tape\":\r\n        deviceTypeStr = \"Tabby\";\r\n        img = <img src={deviceTape} alt=\"\" width={px(50)} />;\r\n        break;\r\n      case \"maeBowl\":\r\n        deviceTypeStr = \"MaeBowl\";\r\n        img = <img src={deviceMaeBowl} alt=\"\" width={px(40)} />;\r\n\r\n        break;\r\n      case \"otterEQ\":\r\n        deviceTypeStr = \"Otter EQ\";\r\n\r\n        break;\r\n      case \"mellaPro\":\r\n        deviceTypeStr = \"Mella Pro\";\r\n        img = <img src={deviceMella} alt=\"\" width={px(20)} />;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    //判断对象是否相等\r\n\r\n    let isEqual = compareObject(item, selectHardwareDetail);\r\n    // console.log(\"判断两个对象是否相同\", isEqual, item, selectHardwareDetail);\r\n    return (\r\n      <li\r\n        key={`${index}`}\r\n        onClick={() => {\r\n          setSelectHardwareDetail(item);\r\n          electronStore.set(\r\n            `${storage.lastOrganization}-${storage.userId}-${deviceType}-selectDeviceInfo`,\r\n            item\r\n          );\r\n          selectHardwareInfoFun(item);\r\n          setInfo && setInfo(item);\r\n        }}\r\n      >\r\n        <div\r\n          className=\"hardListInfo\"\r\n          style={{ paddingTop: px(15), paddingBottom: px(15) }}\r\n        >\r\n          <div className=\"deviceL\">\r\n            <div\r\n              className=\"hardIcon\"\r\n              style={{ marginLeft: px(3), marginRight: px(3), width: px(75) }}\r\n            >\r\n              {img}\r\n            </div>\r\n            <div className=\"deviceInfo\">\r\n              <div className=\"deviceName\">{`Device Name: ${name}`}</div>\r\n              <div className=\"deviceName\">{deviceTypeStr}</div>\r\n              <div className=\"deviceName\">{`SN: ${mac}`}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"deviceR\" style={{ marginRight: px(20) }}>\r\n            <img src={nextImg} alt=\"\" width={px(13)} />\r\n            {isEqual && (\r\n              <div\r\n                className=\"seleIcon\"\r\n                style={{ width: px(18), height: px(18), top: px(-30) }}\r\n              >\r\n                <img src={dui} alt=\"\" width={px(12)} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </li>\r\n    );\r\n  });\r\n  const otherItems = () => {\r\n    let deviceType = selectHardwareDetail.deviceType;\r\n    let isBiggie = deviceType === \"biggie\",\r\n      deviceTypeStr = \"\";\r\n    switch (deviceType) {\r\n      case \"biggie\":\r\n        deviceTypeStr = \"Biggie\";\r\n        break;\r\n      case \"rfid\":\r\n        deviceTypeStr = \"RFID\";\r\n        break;\r\n      case \"tape\":\r\n        deviceTypeStr = \"Tabby\";\r\n\r\n        break;\r\n      case \"maeBowl\":\r\n        deviceTypeStr = \"MaeBowl\";\r\n\r\n        break;\r\n      case \"otterEQ\":\r\n        deviceTypeStr = \"Otter EQ\";\r\n        break;\r\n      case \"mellaPro\":\r\n        deviceTypeStr = \"Mella\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    // console.log(\"selectHardwareDetail\", selectHardwareDetail);\r\n    return (\r\n      <div>\r\n        {isBiggie && (\r\n          <div\r\n            className=\"addNewDevice\"\r\n            style={{ paddingTop: px(10), paddingBottom: px(10) }}\r\n            onClick={() => setMenuNum(\"CombineScales\")}\r\n          >\r\n            <div\r\n              className=\"addNewDeviceText\"\r\n              style={{ paddingLeft: px(25) }}\r\n            >{`Combine Scales`}</div>\r\n            <div className=\"addNewDeviceImg\">\r\n              <img\r\n                src={scales}\r\n                alt=\"\"\r\n                width={px(30)}\r\n                style={{ marginRight: px(20) }}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div\r\n          className=\"addNewDevice\"\r\n          style={{ paddingTop: px(10), paddingBottom: px(10) }}\r\n        >\r\n          <div\r\n            className=\"addNewDeviceText\"\r\n            style={{ paddingLeft: px(25) }}\r\n          >{`Add New ${deviceTypeStr}`}</div>\r\n          <div className=\"addNewDeviceImg\">\r\n            <img\r\n              src={deivceAdd}\r\n              alt=\"\"\r\n              width={px(30)}\r\n              style={{ marginRight: px(20) }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    //根据设备类型获取到此类型下的所有硬件,并用来展示\r\n    for (let i = 0; i < hardwareList.length; i++) {\r\n      const element = hardwareList[i];\r\n      if (element.type === selectHardwareType) {\r\n        let list = element.devices || [];\r\n        setHardwareList(list);\r\n        //获取被选中的硬件的详细信息\r\n        let selectHardwareInfoData = selectHardwareInfo || {};\r\n        if (selectHardwareInfoData === {}) {\r\n          let selectHardwareInfoData = list[0] || {};\r\n          setSelectHardwareDetail(selectHardwareInfoData);\r\n        } else {\r\n          let sameFlag = false;\r\n          for (let i = 0; i < list.length; i++) {\r\n            const element = list[i];\r\n            if (\r\n              element.name === selectHardwareInfoData.name &&\r\n              element.mac === selectHardwareInfoData.mac\r\n            ) {\r\n              setSelectHardwareDetail(selectHardwareInfoData);\r\n              sameFlag = true;\r\n              break;\r\n            }\r\n          }\r\n          console.log(\"sameFlag\", sameFlag);\r\n          if (!sameFlag) {\r\n            console.log(\"设置了默认值\");\r\n            let selectHardwareInfoData = list[0] || {};\r\n            setSelectHardwareDetail(selectHardwareInfoData);\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }, [selectHardwareType]);\r\n\r\n  return (\r\n    <div\r\n      className=\"hardList\"\r\n      style={{ top: px(90), zIndex: 999 }}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        selectHardwareModalShowFun(false);\r\n      }}\r\n    >\r\n      <ul>{options}</ul>\r\n      {otherItems()}\r\n    </div>\r\n  );\r\n};\r\n\r\nHardAndPetsUI.propTypes = {\r\n  setInfo: PropTypes.func,\r\n};\r\n//默认值\r\nHardAndPetsUI.defaultProps = {\r\n  setInfo: () => {},\r\n};\r\nexport default connect(\r\n  (state) => ({\r\n    selectHardwareType: state.hardwareReduce.selectHardwareType,\r\n    hardwareList: state.hardwareReduce.hardwareList,\r\n    userMessage: state.userReduce,\r\n    hardwareMessage: state.hardwareReduce,\r\n  }),\r\n  { selectHardwareInfoFun, selectHardwareModalShowFun, setMenuNum }\r\n)(HardAndPetsUI);\r\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\components\\measurement.jsx",["508","509","510","511","512","513","514","515","516","517","518"],"import React, { useEffect, useState, useRef } from \"react\";\nimport { Button, Progress, Layout, Carousel } from \"antd\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport Animation_1 from \"./../../../assets/img/Animation_1.png\";\nimport Animation_2 from \"./../../../assets/img/Animation_2.png\";\nimport Animation_3 from \"./../../../assets/img/Animation_3.png\";\n// import HeaderItem from './headerItem';\nimport { connect } from \"react-redux\";\nimport {\n  selectHardwareModalShowFun,\n  petSortTypeFun,\n  petDetailInfoFun,\n  setMellaConnectStatusFun,\n  setMellaMeasureValueFun,\n  setMellaPredictValueFun,\n  setMellaMeasurePartFun,\n} from \"../../../store/actions\";\nimport _ from \"lodash\";\nimport \"./measurement.less\";\nimport { px } from \"../../../utils/px\";\nimport electronStore from \"../../../utils/electronStore\";\n\nlet storage = window.localStorage;\nconst { Content, Header } = Layout;\n\nconst Measurement = ({ petMessage, hardwareMessage }) => {\n  let { mellaMeasureValue, mellaMeasurePart } = hardwareMessage;\n  const [percent, setPercent] = useState(0);\n  const [value, setValue] = useState(0);\n  const [timers, setTimers] = useState(0);\n  const [isHua, setIsHua] = useState(true);\n  const saveCallBack = useRef();\n  const callBack = () => {\n    const random = 1;\n    setValue(value + random);\n    setTimers(timers + random);\n  };\n\n  //圆滑里面的文字\n  const ProgressTitle = (percent) => {\n    let num = parseFloat(percent);\n    if (isHua) {\n      num = (num * 1.8 + 32).toFixed(1);\n    }\n    return (\n      <>\n        {mellaMeasurePart !== \"耳温\" ? (\n          <p className=\"ProgressTitle\">\n            {num}\n            <span className=\"symbol\">{`${isHua ? \"℉\" : \"℃\"}`}</span>\n          </p>\n        ) : (\n          <></>\n        )}\n        <p className=\"ProgressTitle\">Measuring</p>\n      </>\n    );\n  };\n  //图片切换\n  const checkImage = () => {\n    switch (timers) {\n      case 0:\n        return <img src={Animation_1} />;\n      case 1:\n        return <img src={Animation_2} />;\n      case 2:\n        return <img src={Animation_3} />;\n      case 3:\n        return <img src={Animation_3} />;\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    saveCallBack.current = callBack;\n    if (timers > 2) {\n      setTimers(0);\n    }\n    return () => { };\n  });\n\n  useEffect(() => {\n    const tick = () => {\n      saveCallBack.current();\n    };\n    const timer = setInterval(tick, 1000);\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n  useEffect(() => {\n    let hardSet = electronStore.get(`${storage.userId}-hardwareConfiguration`);\n    if (hardSet) {\n      let { isHua } = hardSet;\n      setIsHua(isHua);\n    }\n  }, []);\n\n  return (\n    <>\n      {/* <HeaderItem /> */}\n      <Content className={\"measureContentBox\"}>\n        <div style={{ marginTop: px(33) }}>\n          <Progress\n            type=\"dashboard\"\n            percent={_.round(mellaMeasureValue, 1)}\n            gapDegree={30}\n            // width={px(260)}\n            strokeWidth={\"8\"}\n            format={(percent) => ProgressTitle(percent)}\n            strokeColor={'#4C595E'}\n            className='measuringProgress'\n          />\n        </div>\n\n        {checkImage()}\n      </Content>\n    </>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    petMessage: state.petReduce.petDetailInfo,\n    hardwareMessage: state.hardwareReduce,\n  }),\n  {\n    selectHardwareModalShowFun,\n    petSortTypeFun,\n    petDetailInfoFun,\n    setMellaConnectStatusFun,\n    setMellaMeasureValueFun,\n    setMellaPredictValueFun,\n    setMellaMeasurePartFun,\n  }\n)(Measurement);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\components\\headerItem.jsx",["519","520","521","522","523","524","525","526","527","528","529","530"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\biggiePage\\components\\linkEquipment.jsx",["531","532","533","534","535","536","537","538","539"],"import React, { useEffect, useState } from \"react\";\r\nimport { Image, Layout } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport PressButton_Pro from \"./../../../assets/img/PressButton_Pro.png\";\r\nimport biggieonscale from \"./../../../assets/img/biggieonscale.png\";\r\nimport {\r\n  selectHardwareModalShowFun,\r\n  petSortTypeFun,\r\n  petDetailInfoFun,\r\n  setMellaConnectStatusFun,\r\n  setMellaMeasureValueFun,\r\n  setMellaPredictValueFun,\r\n  setMellaMeasurePartFun,\r\n} from \"../../../store/actions\";\r\nimport _ from \"lodash\";\r\nimport HistoryTable from \"../../../components/historyTable\";\r\nimport \"./linkEquipment.less\";\r\n\r\nconst { Content, Header } = Layout;\r\n\r\nconst LinkEquipment = ({ petMessage, hardwareMessage }) => {\r\n  let { mellaConnectStatus } = hardwareMessage;\r\n  const [saveNum, setSaveNum] = useState(0);\r\n  return (\r\n    <>\r\n      <div className={\"linkBox\"}>\r\n        <div className=\"startBox\">\r\n          <img src={biggieonscale}></img>\r\n          <p className=\"startTitle\">Ready, place pet onto scale</p>\r\n        </div>\r\n        <div className=\"tableBox\">\r\n          <HistoryTable saveNum={saveNum} tableColumnType=\"weight\" />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default connect(\r\n  (state) => ({\r\n    petMessage: state.petReduce.petDetailInfo,\r\n    hardwareMessage: state.hardwareReduce,\r\n  }),\r\n  {\r\n    selectHardwareModalShowFun,\r\n    petSortTypeFun,\r\n    petDetailInfoFun,\r\n    setMellaConnectStatusFun,\r\n    setMellaMeasureValueFun,\r\n    setMellaPredictValueFun,\r\n    setMellaMeasurePartFun,\r\n  }\r\n)(LinkEquipment);\r\n",["540","541"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\components\\swabPetEar\\index.jsx",["542","543","544","545","546"],"import React, { useEffect, useState, useRef } from \"react\";\nimport { Layout, Button, Input, Radio } from \"antd\";\nimport { px } from \"../../../../utils/px\";\nimport { connect } from \"react-redux\";\nimport {\n  selectHardwareModalShowFun,\n  petSortTypeFun,\n  petDetailInfoFun,\n} from \"../../../../store/actions\";\n\nimport DogLeftEar from \"../../../../assets/img/DogLeftEar.png\";\nimport DogRightEar from \"../../../../assets/img/DogRightEar.png\";\nimport CatLeftEar from \"../../../../assets/img/CatLeftEar.png\";\nimport CatRightEar from \"../../../../assets/img/CatRightEar.png\";\n\n\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport \"./index.less\";\n\n\nconst SwabPetEar = ({ petMessage, hardwareMessage ,cutPageType}) => {\n  let {\n    petSpeciesBreedId,\n  } = petMessage;\n  const [value, setValue] = useState(1);\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  };\n\n  const imagetypeEvent = () => {\n    if (value === 1) {\n      if (petSpeciesBreedId === 11001 || _.inRange(petSpeciesBreedId, 1, 136)) {\n        return <img src={CatRightEar} alt=\"\" />;\n      } else if (petSpeciesBreedId === 12001 || _.inRange(petSpeciesBreedId, 136, 456)) {\n        return <img src={DogRightEar} alt=\"\" />;\n      } else {\n        return <img src={DogRightEar} alt=\"\" />;\n      }\n    } else {\n      if (petSpeciesBreedId === 11001 || _.inRange(petSpeciesBreedId, 1, 136)) {\n        return <img src={CatLeftEar} alt=\"\" />;\n      } else if (petSpeciesBreedId === 12001 || _.inRange(petSpeciesBreedId, 136, 456)) {\n        return <img src={DogLeftEar} alt=\"\" />;\n      } else {\n        return <img src={DogLeftEar} alt=\"\" />;\n      }\n    }\n  }\n\n  const onClick = () => {\n    if (value === 1) {\n      setValue(2);\n    } else {\n      cutPageType('experimentalPage');\n    }\n  }\n\n  // useEffect(() => {\n  //   imagetypeEvent();\n  // },[value])\n\n  return (\n    <>\n      <div className=\"topBox\">\n        <p className=\"topTitle\" style={{ fontSize: px(40) }}>\n          Swab Pet's Ear\n        </p>\n      </div>\n      <div className=\"imageBox\">\n        {imagetypeEvent()}\n      </div>\n      <div className=\"radioBox\">\n        <Radio.Group onChange={onChange} value={value}>\n          <Radio value={1}>Right Ear</Radio>\n          <Radio value={2}>Left Ear</Radio>\n        </Radio.Group>\n      </div>\n      <div className=\"bottomBox\">\n        <Button type=\"primary\" shape=\"round\" style={{ width: px(400), height: px(40) }} onClick={onClick}>Next</Button>\n      </div>\n    </>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    petMessage: state.petReduce.petDetailInfo,\n    hardwareMessage: state.hardwareReduce,\n  }),\n  {\n    selectHardwareModalShowFun,\n    petSortTypeFun,\n    petDetailInfoFun,\n  }\n)(SwabPetEar);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\components\\experimental\\index.jsx",["547","548","549","550","551","552","553"],"import React, { useEffect, useState, useRef } from \"react\";\nimport { Layout, Button, Input, Radio } from \"antd\";\nimport { px } from \"../../../../utils/px\";\nimport { connect } from \"react-redux\";\nimport {\n  selectHardwareModalShowFun,\n  petSortTypeFun,\n  petDetailInfoFun,\n} from \"../../../../store/actions\";\n\nimport swirl from \"../../../../assets/img/swirl.png\";\nimport BreakSeal from \"../../../../assets/img/Break-Seal.png\";\nimport label from \"../../../../assets/img/label.png\";\nimport Incubator from \"../../../../assets/img/Incubator.png\";\n\n\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport \"./index.less\";\n\nconst ExperimentalPage = ({ petMessage, hardwareMessage ,cutPageType}) => {\n  const [value, setValue] = useState(1);\n\n  const cutTitle = () => {\n    switch (value) {\n      case 1:\n        return (<>{`${'Swirl sample in'}`}<br />{`${'solution'}`}</>);\n      case 2:\n        return (<>{`${'Break off stem and'}`}<br />{`${'seal collection tube'}`} </>);\n      case 3:\n        return (<>{`${'Affix label to'}`}<br />{`${'collection tube'}`} </>);\n      case 4:\n        return (<>{`${'Place tube in'}`}<br />{`${'incubator'}`} </>);\n      default:\n        break;\n    }\n  }\n\n  const cutImage = () => {\n    switch (value) {\n      case 1:\n        return <img src={swirl} alt=\"\" style={{ width: px(328), height: px(287) }} />;\n      case 2:\n        return <img src={BreakSeal} alt=\"\" style={{ width: px(328), height: px(287) }} />;\n      case 3:\n        return <img src={label} alt=\"\" style={{ width: px(328), height: px(287) }} />;\n      case 4:\n        return <img src={Incubator} alt=\"\" style={{ width: px(328), height: px(287) }} />;\n      default:\n        break;\n    }\n  }\n\n  const onClick = () => {\n    if (value !== 4) {\n      setValue(value + 1)\n    } else {\n      cutPageType('timerPage');\n    }\n  }\n\n  return (\n    <>\n      <div className=\"topBox\">\n        <p className=\"topTitle\" style={{ fontSize: px(40) }}>\n          {cutTitle()}\n        </p>\n      </div>\n      <div className=\"imageBox\">\n        {cutImage()}\n      </div>\n      <div className=\"bottomBox\">\n        <Button type=\"primary\" shape=\"round\" style={{ width: px(400), height: px(40) }} onClick={onClick}>{value !== 4 ? 'Next' : 'Start Timer'}</Button>\n      </div>\n    </>\n  );\n\n};\n\nexport default connect(\n  (state) => ({\n    petMessage: state.petReduce.petDetailInfo,\n    hardwareMessage: state.hardwareReduce,\n  }),\n  {\n    selectHardwareModalShowFun,\n    petSortTypeFun,\n    petDetailInfoFun,\n  }\n)(ExperimentalPage);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\appversion.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\HardAndPetsUI.jsx",["554","555","556","557"],"import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { px } from '../../utils/px'\nimport { devicesTitleHeight } from '../../utils/InitDate'\nimport xia from './../../assets/img/xia.png'\nimport { selectHardwareModalShowFun } from './../../store/actions'\nimport PetsUI from './PetsUI.jsx'\nimport electronStore from '../../utils/electronStore'\n\n\nimport './mainbody.less'\nimport HardListModal from './HardListModal'\nlet storage = window.localStorage\n\n\nconst HardAndPetsUI = ({ bodyHeight, selectHardwareType, selectHardwareModalShow, hardwareList, selectHardwareModalShowFun,hardwareInfo }) => {\n  //定义选择的硬件详细信息\n  const [selectHardwareDetail, setSelectHardwareDetail] = useState({})\n  useEffect(() => {\n    console.log('初始化硬件和宠物界面', hardwareList);\n    //根据设备类型获取到此类型下的所有硬件,并用来展示\n    for (let i = 0; i < hardwareList.length; i++) {\n      const element = hardwareList[i];\n      if (element.type === selectHardwareType) {\n        let list = element.devices || []\n        //获取被选中的硬件的详细信息\n        let selectHardwareInfo = hardwareInfo || {}\n        console.log('------=========--------', selectHardwareInfo);\n        if (selectHardwareInfo === {}) {\n          let selectHardwareInfo = list[0] || {}\n          setSelectHardwareDetail(selectHardwareInfo)\n        } else {\n          let sameFlag = false\n          for (let i = 0; i < list.length; i++) {\n            const element = list[i];\n            if (element.name === selectHardwareInfo.name && element.mac === selectHardwareInfo.mac) {\n              setSelectHardwareDetail(selectHardwareInfo)\n              sameFlag = true\n              break\n            }\n          }\n          console.log('sameFlag', sameFlag);\n          if (!sameFlag) {\n            console.log('设置了默认值');\n            let selectHardwareInfo = list[0] || {}\n            setSelectHardwareDetail(selectHardwareInfo)\n          }\n        }\n        break\n      }\n    }\n  }, [selectHardwareType, hardwareList,])\n\n\n\n  return (\n    <div className='deviceAndPets' style={{ width: px(200), height: bodyHeight }}>\n      <div className='deviceAndPets-title' style={{ height: px(100) }}\n        onClick={(e) => {\n          //react阻止冒泡\n          e.stopPropagation()\n          selectHardwareModalShowFun(!selectHardwareModalShow)\n        }}\n      >\n        <div className=\"devicesName\" style={{ fontSize: px(26) }}>\n          {selectHardwareDetail.name}\n        </div>\n        <div className=\"imgBox\" style={{ marginLeft: px(7) }}>\n          <img src={xia} alt=\"\" width={px(32)} />\n        </div>\n        {selectHardwareModalShow && <HardListModal setInfo={(item) => {\n          setSelectHardwareDetail(item)\n        }} />}\n      </div>\n      <PetsUI\n        bodyHeight={bodyHeight}\n      />\n    </div >\n  )\n}\n\n\nHardAndPetsUI.propTypes = {\n  bodyHeight: PropTypes.number,\n  devicesTypeList: PropTypes.array\n}\n//默认值\nHardAndPetsUI.defaultProps = {\n  bodyHeight: 0,\n  devicesTypeList: []\n}\nexport default connect(\n  state => ({\n    selectHardwareModalShow: state.hardwareReduce.selectHardwareModalShow,\n    selectHardwareType: state.hardwareReduce.selectHardwareType,\n    hardwareList: state.hardwareReduce.hardwareList,\n    hardwareInfo: state.hardwareReduce.selectHardwareInfo,\n  }),\n  { selectHardwareModalShowFun }\n)(HardAndPetsUI)\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\addScheduledPet\\index.jsx",["558","559","560","561","562","563","564","565","566","567","568","569","570"],"import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { Input, Button, message, Spin, BackTop, } from 'antd';\r\nimport { createFromIconfontCN, SyncOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport { devicesTitleHeight } from '../../utils/InitDate'\r\nimport electronStore from '../../utils/electronStore';\r\nimport dog from './../../assets/images/pinkdog.png'\r\nimport cat from './../../assets/images/pinkcat.png'\r\nimport redDog from './../../assets/images/reddog.png'\r\nimport redCat from './../../assets/images/redcat.png'\r\nimport redother from './../../assets/images/redother.png'\r\nimport other from './../../assets/images/other.png'\r\nimport redJinggao from './../../assets/img/redjinggao.png'\r\n\r\nimport MyModal from '../../utils/myModal/MyModal';\r\nimport { mTop, px, MTop, pX } from '../../utils/px';\r\nimport './addScheduledPet.less'\r\nimport { setMenuNum } from '../../store/actions';\r\nimport { fetchRequest } from '../../utils/FetchUtil1';\r\nimport MYButton from './../../utils/button/Button'\r\n\r\nconst MyIcon = createFromIconfontCN({\r\n    scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\r\n})\r\n\r\nlet defaultData = {\r\n    patientId: \"\",\r\n    wuzhong: 'dog',\r\n    petName: '',\r\n    miaoshu: ''\r\n}\r\n\r\nlet storage = window.localStorage;\r\nconst AddScheduledPet = ({ bodyHeight, setMenuNum }) => {\r\n    const [addPetist1, setAddPetist] = useState([]);\r\n    const [petName, setPetName] = useState('');\r\n    const [wuzhong, setWuzhong] = useState('dog');\r\n    const [patientId, setPatientId] = useState('');\r\n    const [miaoshu, setMiaoshu] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [isSave, setIsSave] = useState(false);\r\n\r\n    const selsectwuzhong = (val) => {\r\n        setWuzhong(val);\r\n\r\n    }\r\n    console.log('addPetist1', addPetist1);\r\n\r\n    const add = () => {\r\n        message.destroy()\r\n        if (!patientId) {\r\n            message.error(`Please enter the pet's patientId`)\r\n            return\r\n        }\r\n        setLoading(true)\r\n\r\n        let petSpeciesBreedId = 12001\r\n        switch (wuzhong) {\r\n            case 'dog': petSpeciesBreedId = 12001; break;\r\n            case 'cat': petSpeciesBreedId = 11001; break;\r\n            case 'other': petSpeciesBreedId = 13001; break;\r\n            default:\r\n                break;\r\n        }\r\n        let params = {\r\n            description: miaoshu,\r\n            doctorId: storage.userId,\r\n            patientId,\r\n            petName,\r\n            petSpeciesBreedId\r\n        }\r\n\r\n        if (storage.lastOrganization) {\r\n            params.organizationId = storage.lastOrganization\r\n        }\r\n        if (storage.lastWorkplaceId) {\r\n            params.workplaceId = storage.lastWorkplaceId\r\n        }\r\n        console.log('入参', params);\r\n        fetchRequest('/new/petall/subscribe', \"POST\", params)\r\n            .then(res => {\r\n                console.log(res);\r\n                if (res.flag) {\r\n                    let json = {\r\n                        patientId,\r\n                        wuzhong,\r\n                        petName,\r\n                        miaoshu\r\n                    }\r\n                    let list = [].concat(addPetist1)\r\n                    list.push(json)\r\n                    setAddPetist(list)\r\n                    setLoading(false)\r\n                    setPatientId('')\r\n                    setWuzhong('')\r\n                    setPetName('')\r\n                    setMiaoshu('')\r\n\r\n                } else {\r\n\r\n                    setLoading(false)\r\n                    message.error('add failed')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log('错误原因', err);\r\n                setLoading(false)\r\n                message.error('add failed')\r\n            })\r\n\r\n    }\r\n    const body = () => {\r\n        let addPetist = [].concat(addPetist1)\r\n        addPetist.push(defaultData)\r\n        console.log('新的:', addPetist);\r\n\r\n        let options = addPetist.map((item, index) => {\r\n\r\n\r\n            if (index === addPetist.length - 1) {\r\n                return <li key={`${index}`} style={{ width: '100%', }}>\r\n                    <div style={{ width: '100%', display: 'flex', flexDirection: 'row', }}>\r\n                        <div className='tableHeard' style={{ borderTopWidth: '0px' }}>\r\n                            <input type=\"text\" className='tableInput'\r\n                                value={patientId}\r\n                                onChange={value => {\r\n                                    setPatientId(value.target.value)\r\n\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className='tableHeard' style={{ borderTopWidth: '0px' }}>\r\n                            <input type=\"text\" className='tableInput'\r\n                                value={petName}\r\n                                onChange={value => {\r\n\r\n                                    setPetName(value.target.value)\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className='tableHeard flex' style={{ flexDirection: 'row', paddingTop: px(5), paddingBottom: px(5), justifyContent: 'space-around', borderTopWidth: '0px' }} >\r\n                            <div\r\n                                style={{ cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    selsectwuzhong('dog')\r\n                                }}>\r\n                                <img src={wuzhong === 'dog' ? redDog : dog} alt=\"\" width={px(40)} />\r\n                            </div>\r\n                            <div\r\n                                style={{ cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    selsectwuzhong('cat')\r\n                                }}>\r\n                                <img src={wuzhong === 'cat' ? redCat : cat} alt=\"\" width={px(40)} />\r\n                            </div>\r\n\r\n                            <div\r\n                                style={{ cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    selsectwuzhong('other')\r\n                                }}>\r\n                                <img src={wuzhong === 'other' ? redother : other} alt=\"\" width={px(40)} />\r\n                            </div>\r\n\r\n\r\n\r\n                        </div>\r\n                        <div className='tableHeard' style={{ borderTopWidth: '0px', width: '30%' }}>\r\n                            <input type=\"text\" className='tableInput'\r\n                                value={miaoshu}\r\n                                onChange={value => {\r\n\r\n                                    setMiaoshu(value.target.value)\r\n                                }}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className='tableHeard' style={{ borderRight: '#5a5a5a solid 1px', borderTopWidth: '0px', width: '10%' }}>\r\n                            <div\r\n                                className='flex'\r\n                                style={{ width: px(30), height: px(30), borderRadius: px(30), backgroundColor: '#e1206d', cursor: 'pointer' }}\r\n                                onClick={add}\r\n\r\n                            >\r\n\r\n                                <MyIcon type={'icon-baocun-copy'} className=\"icon \" style={{ color: '#fff', fontSize: px(16) }} />\r\n                            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                </li>\r\n            } else {\r\n                let { patientId, wuzhong, petName, miaoshu } = item\r\n                return <li key={`${index}`} style={{ width: '100%', }}>\r\n                    <div style={{ width: '100%', display: 'flex', flexDirection: 'row', }}>\r\n                        <div className='tableHeard' style={{ borderTopWidth: '0px' }}>\r\n                            <div className='tableText'>\r\n                                {patientId}\r\n                            </div>\r\n                        </div>\r\n                        <div className='tableHeard' style={{ borderTopWidth: '0px' }}>\r\n                            <div className='tableText'> {petName}</div>\r\n                        </div>\r\n                        <div className='tableHeard flex' style={{ flexDirection: 'row', paddingTop: px(5), paddingBottom: px(5), justifyContent: 'space-around', borderTopWidth: '0px' }} >\r\n                            <img src={wuzhong === 'dog' ? redDog : dog} alt=\"\" width={px(40)} />\r\n                            <img src={wuzhong === 'cat' ? redCat : cat} alt=\"\" width={px(40)} />\r\n                            <img src={wuzhong === 'other' ? redother : other} alt=\"\" width={px(40)} />\r\n                        </div>\r\n                        <div className='tableHeard' style={{ borderTopWidth: '0px', width: '30%' }}>\r\n                            <div className='tableText'>{miaoshu}</div>\r\n                        </div>\r\n                        <div className='tableHeard' style={{ borderRight: '#5a5a5a solid 1px', borderTopWidth: '0px', width: '10%' }}>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </li>\r\n            }\r\n\r\n\r\n        })\r\n\r\n        return (\r\n            <div style={{ width: '100%', marginTop: px(30), height: px(500), overflowY: 'auto', paddingLeft: '5%', paddingRight: '5%', }}>\r\n                <div style={{ width: '100%', display: 'flex', flexDirection: 'row', }}>\r\n                    <div className='tableHeard'>Patient Id</div>\r\n                    <div className='tableHeard'>Pet Name</div>\r\n                    <div className='tableHeard'>species</div>\r\n                    <div className='tableHeard' style={{ width: '30%' }}>description</div>\r\n                    <div className='tableHeard' style={{ borderRight: '#5a5a5a solid 1px', width: '10%' }}></div>\r\n\r\n                </div>\r\n                <ul >\r\n                    {options}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className='addScjediled' style={{ height: bodyHeight }}>\r\n            <div className=\"addDeviceTitle\" style={{ height: px(100), fontSize: 26, paddingLeft: px(20) }}>Create New Scheduled </div>\r\n            <div className='addSBody' style={{ width: '100%', height: bodyHeight - px(100), }}>\r\n                {body()}\r\n\r\n\r\n                <div className='continueBox'>\r\n                    <div className='continueBtn'\r\n                        style={{ borderRadius: px(50), height: px(45), fontSize: px(20), }}\r\n                        onClick={() => {\r\n\r\n                            if (!patientId) {\r\n                                setMenuNum('3')\r\n                            } else {\r\n                                setIsSave(true)\r\n                            }\r\n                        }}\r\n                    >Continue</div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <MyModal\r\n                visible={loading}\r\n            />\r\n            <MyModal\r\n                visible={isSave}\r\n                element={\r\n                    <div className='isSave'\r\n                    //  style={{ borderRadius: `${px(20)}px`, backgroundColor: '#fff' }}\r\n                    >\r\n                        <img src={redJinggao} alt=\"\" style={{ width: px(50), margin: `${px(25)}px 0` }} />\r\n                        <p style={{ textAlign: 'center' }}>There are unsaved patient appointments, <br />are you sure you want to exit?</p>\r\n                        <div className=\"btn\" style={{ margin: `${px(30)}px 0` }} >\r\n                            <MYButton\r\n                                text={'Cancel'}\r\n                                onClick={() => {\r\n                                    setIsSave(false)\r\n\r\n                                }}\r\n                                textBoxStyle={{\r\n                                    width: '40%',\r\n                                    height: px(40)\r\n                                }}\r\n                            />\r\n                            <MYButton\r\n                                text={'Exit'}\r\n                                onClick={() => {\r\n                                    setIsSave(false)\r\n                                    setMenuNum('3')\r\n                                }}\r\n                                textBoxStyle={{\r\n                                    width: '40%',\r\n                                    height: px(40)\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n            />\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\n\r\nAddScheduledPet.propTypes = {\r\n\r\n}\r\n//默认值\r\nAddScheduledPet.defaultProps = {\r\n\r\n}\r\nexport default connect(\r\n    state => ({\r\n\r\n    }),\r\n    { setMenuNum }\r\n)(AddScheduledPet)","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\components\\linkEquipment.jsx",["571","572","573","574","575","576","577","578"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\PetsUI.jsx",["579","580","581","582"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\components\\timer\\index.jsx",["583","584","585","586","587"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\otterEQ\\components\\linkEquipment\\index.jsx",["588","589","590","591","592"],"import React, { useEffect, useState, useRef } from \"react\";\nimport { Layout, Button, Input } from \"antd\";\nimport { px } from \"../../../../utils/px\";\nimport { connect } from \"react-redux\";\nimport {\n  selectHardwareModalShowFun,\n  petSortTypeFun,\n  petDetailInfoFun,\n} from \"../../../../store/actions\";\n\nimport PlugInOtter from \"../../../../assets/img/PlugInOtter.png\";\n\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport \"./index.less\";\n\nconst LinkEquipment = ({ petMessage, hardwareMessage ,cutPageType}) => {\n  const [nextType, setNextType] = useState(false);\n\n  const onClick = () => {\n    setNextType(true);\n  }\n\n  return (\n    <>\n      <div className=\"topBox\">\n        <p className=\"topTitle\" style={{ fontSize: px(40) }}>\n          {!nextType ? 'Register OtterEQ' : 'Plug in OtterEQ'}\n        </p>\n      </div>\n      {\n        !nextType ? (\n          <>\n            <div className=\"middleBox\">\n              <Input placeholder=\"Please enter your serial number\" className=\"middleInput\" style={{ width: px(300), height: px(50) }} />\n            </div>\n            <div className=\"bottomBox\">\n              <Button type=\"primary\" shape=\"round\" style={{ width: px(400), height: px(40) }} onClick={onClick} >Next</Button>\n            </div>\n          </>\n        ) : (\n          <div className=\"imageBox\" onClick={() => cutPageType('swabPetEarPage')}>\n            <img src={PlugInOtter} alt=\"\" style={{ width: px(500), height: px(350) }} />\n          </div>\n        )\n      }\n    </>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    petMessage: state.petReduce.petDetailInfo,\n    hardwareMessage: state.hardwareReduce,\n  }),\n  {\n    selectHardwareModalShowFun,\n    petSortTypeFun,\n    petDetailInfoFun,\n  }\n)(LinkEquipment);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scanPage\\components\\LinkEquipment.jsx",["593","594","595","596","597","598"],"import React, {\r\n    useEffect,\r\n    useState,\r\n} from 'react';\r\nimport { Image, Layout } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    selectHardwareModalShowFun,\r\n    petSortTypeFun,\r\n    petDetailInfoFun,\r\n    setMellaConnectStatusFun,\r\n    setMellaMeasureValueFun,\r\n    setMellaPredictValueFun,\r\n    setMellaMeasurePartFun\r\n} from '../../../store/actions';\r\nimport _ from 'lodash';\r\nimport './LinkEquipment.less';\r\n\r\nconst { Content, Header } = Layout;\r\n\r\nconst LinkEquipment = ({ petMessage, hardwareMessage }) => {\r\n    let { mellaConnectStatus } = hardwareMessage;\r\n    return (\r\n\r\n        <Content className={\"contentBox\"}>\r\n            <div className='chackPatientBox'>\r\n                <p className='chackPatientTitle'>Select a patient</p>\r\n            </div>\r\n        </Content>\r\n\r\n    );\r\n}\r\nexport default connect(\r\n    state => ({\r\n        petMessage: state.petReduce.petDetailInfo,\r\n        hardwareMessage: state.hardwareReduce,\r\n    }),\r\n    {\r\n        selectHardwareModalShowFun,\r\n        petSortTypeFun,\r\n        petDetailInfoFun,\r\n        setMellaConnectStatusFun,\r\n        setMellaMeasureValueFun,\r\n        setMellaPredictValueFun,\r\n        setMellaMeasurePartFun\r\n    }\r\n)(LinkEquipment);","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\historyTable\\index.jsx",["599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621"],"import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Progress,\n  Space,\n  Table,\n  Tag,\n  Badge,\n  Modal,\n  Popconfirm,\n  message,\n} from \"antd\";\nimport measuredTable_1 from \"./../../assets/img/measuredTable_1.png\";\nimport measuredTable_2 from \"./../../assets/img/measuredTable_2.png\";\nimport measuredTable_3 from \"./../../assets/img/measuredTable_3.png\";\nimport EditCircle from \"./../../assets/img/EditCircle.png\";\nimport Delete from \"./../../assets/img/Delete.png\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport {\n  selectHardwareModalShowFun,\n  petSortTypeFun,\n  petDetailInfoFun,\n  setMellaConnectStatusFun,\n  setMellaMeasureValueFun,\n  setMellaPredictValueFun,\n  setMellaMeasurePartFun,\n} from \"../../store/actions\";\nimport Draggable from \"react-draggable\";\nimport { fetchRequest } from \"../../utils/FetchUtil1\";\nimport { px, mTop } from \"../../utils/px\";\nimport electronStore from \"../../utils/electronStore\";\nimport moment from \"moment\";\nimport \"./index.less\";\n\nconst HistoryTable = ({\n  petMessage,\n  hardwareMessage,\n  setMellaConnectStatusFun,\n  saveNum = 0,\n  tableColumnType, //表格内容渲染temperature为温度表格，weight为体重表格\n}) => {\n  let { mellaMeasureValue, mellaConnectStatus, mellaMeasurePart } =\n    hardwareMessage;\n  let { petId, memo } = petMessage;\n  let storage = window.localStorage;\n  let hisHe = mTop(200);\n  let draggleRef = React.createRef();\n  try {\n    let historyElement = document.querySelectorAll(\".historyTable\");\n    hisHe = historyElement[0].clientHeight - mTop(60);\n  } catch (error) { }\n  const [petData, setPetData] = useState([]); //存储宠物历史数据\n  const [disabled, setDisabled] = useState(true); //model是否可拖拽\n  const [visible, setVisible] = useState(false); //model框是否显示\n  const [newMemo, setNewMemo] = useState(\"\"); //note内容\n  const [petMessages, setPetMessages] = useState({}); //接收点击了那个的值\n  const [saveType, setSaveType] = useState(false); //是否隐藏按钮\n  const [bounds, setBounds] = useState({\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0,\n  });\n  const [reRender, setReRender] = useState(0);\n  const [isHua, setIsHua] = useState(true);\n  const [loading, setLoading] = useState(false);\n\n  //体重表格渲染\n  const weightColumns = [\n    {\n      title: \"Data\",\n      dataIndex: \"createTime\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => moment(text).format(\"MMM D\"),\n    },\n    {\n      title: \"Time\",\n      dataIndex: \"createTime\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => moment(text).format(\"hh:mm A\"),\n    },\n    {\n      title: \"Weight\",\n      dataIndex: \"weight\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => (\n        <Badge color={color()} text={_.toNumber(text).toFixed(1)} />\n      ),\n    },\n\n    {\n      title: \"BF%\",\n      dataIndex: \"fat\",\n      key: \"fat\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record, index) => {\n        return <p style={{ textAlign: \"center\", color: \"#58BDE6\" }}>{text}</p>;\n      },\n    },\n    {\n      title: \"BCS\",\n      dataIndex: \"bodyConditionScore\",\n      key: \"bodyConditionScore\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record, index) => {\n        return <p style={{ textAlign: \"center\", color: \"#58BDE6\" }}>{text}</p>;\n      },\n    },\n    {\n      title: \"Note\",\n      dataIndex: \"memo\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => text,\n    },\n    {\n      title: \"Action\",\n      key: \"action\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => (\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          <img\n            className=\"operationIcon\"\n            src={EditCircle}\n            onClick={() => {\n              setVisible(true);\n              setPetMessages(record);\n            }}\n          />\n          <Popconfirm\n            title=\"Sure to delete?\"\n            onConfirm={() => deletePetMessage(record.examId)}\n          >\n            <img src={Delete} />\n          </Popconfirm>\n        </div>\n      ),\n    },\n  ];\n  //温度表格渲染\n  const TemperatureColumns = [\n    {\n      title: \"Date\",\n      dataIndex: \"createTime\",\n      ellipsis: true,\n      // onHeaderCell: (row) => {\n      //   return console.log('row',row);\n      // } ,\n      align: \"center\",\n      render: (text, record) => moment(text).format(\"MMM D\"),\n    },\n    {\n      title: \"Time\",\n      dataIndex: \"createTime\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => moment(text).format(\"hh:mm A\"),\n    },\n    {\n      title: `Temp(${isHua ? \"℉\" : \"℃\"})`,\n      dataIndex: \"temperature\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => {\n        let num = parseFloat(text);\n        if (isHua) {\n          num = parseInt((num * 1.8 + 32) * 10) / 10;\n        } else {\n          num = num.toFixed(1);\n        }\n\n        return <Badge color={color(text)} text={num} />;\n      },\n    },\n    {\n      title: \"Placement\",\n      dataIndex: \"petVitalTypeId\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => {\n        if (text === 1) {\n          return <img src={measuredTable_2} />;\n        } else if (text === 3) {\n          return <img src={measuredTable_1} />;\n        } else if (text === 4) {\n          return <img src={measuredTable_3} />;\n        } else {\n          return <img src={measuredTable_2} />;\n        }\n      },\n    },\n    {\n      title: \"Notes\",\n      dataIndex: \"memo\",\n      ellipsis: true,\n      align: \"center\",\n      render: (text, record) => text,\n    },\n    {\n      title: \"Action\",\n      key: \"action\",\n      align: \"center\",\n      render: (text, record) => (\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          <img\n            style={{ cursor: \"pointer\" }}\n            src={EditCircle}\n            onClick={() => {\n              setVisible(true);\n              setPetMessages(record);\n            }}\n          />\n          <Popconfirm\n            title=\"Sure to delete?\"\n            onConfirm={() => deletePetMessage(record.examId)}\n          >\n            <img style={{ cursor: \"pointer\" }} src={Delete} />\n          </Popconfirm>\n        </div>\n      ),\n    },\n  ];\n  //选择表格colum渲染\n  const columType = () => {\n    switch (tableColumnType) {\n      case \"temperature\":\n        return TemperatureColumns;\n      case \"weight\":\n        return weightColumns;\n      default:\n        break;\n    }\n  };\n  //判断指示文字颜色\n  const color = (data) => {\n    if (data > 40) {\n      return \"#e1206d\";\n    } else if (_.inRange(_.round(data), 38, 40)) {\n      return \"#58bde6\";\n    } else {\n      return \"#98da86\";\n    }\n  };\n  //获取历史宠物数据\n  const getPetTemperatureData = () => {\n    setLoading(true);\n    fetchRequest(`/pet/getPetExamByPetId/${petId}`, \"GET\", \"\")\n      .then((res) => {\n        setLoading(false);\n        console.log(\"历史记录\", res);\n        if (res.flag === true) {\n          let arr = [];\n          for (let i = 0; i < res.data.length; i++) {\n            const element = res.data[i];\n            const type = () => {\n              switch (tableColumnType) {\n                case \"temperature\":\n                  return element.temperature;\n                case \"weight\":\n                  return element.weight;\n                default:\n                  break;\n              }\n            };\n            if (type()) {\n              arr.push(element);\n            }\n          }\n          setPetData(_.orderBy(arr, 'createTime', 'desc'));\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n      });\n  };\n  //保存note\n  const save = () => {\n    let datas = {\n      memo: newMemo,\n    };\n    fetchRequest(`/pet/updatePetExam/${petMessages.examId}`, \"POST\", datas)\n      .then((res) => {\n        setVisible(false);\n        getPetTemperatureData();\n      })\n      .catch((err) => {\n        setVisible(false);\n        console.log(err);\n      });\n  };\n  //删除历史记录\n  const deletePetMessage = (examId) => {\n    fetchRequest(`/pet/deletePetExamByExamId/${examId}`, \"DELETE\").then(\n      (res) => {\n        if (res.flag === true) {\n          message.success(\"Successfully Delete\");\n          getPetTemperatureData();\n        } else {\n          message.error(\"Fail To Delete\");\n        }\n      }\n    );\n  };\n  //关闭弹窗\n  const handleCancel = (e) => {\n    setVisible(false);\n  };\n\n  const onStart = (event, uiData) => {\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\n    const targetRect = draggleRef?.current?.getBoundingClientRect();\n    setBounds({\n      left: -targetRect?.left + uiData?.x,\n      right: clientWidth - (targetRect?.right - uiData?.x),\n      top: -targetRect?.top + uiData?.y,\n      bottom: clientHeight - (targetRect?.bottom - uiData?.y),\n    });\n  };\n\n  useEffect(() => {\n    getPetTemperatureData();\n    return () => { };\n  }, [petMessage]);\n\n  useEffect(() => {\n    if (reRender !== saveNum) {\n      setReRender(saveNum);\n      getPetTemperatureData();\n    }\n    return () => { };\n  }, [saveNum]);\n\n  useEffect(() => {\n    let hardSet = electronStore.get(`${storage.userId}-hardwareConfiguration`);\n    if (hardSet) {\n      let { isHua } = hardSet;\n      setIsHua(isHua);\n    }\n  }, []);\n\n  return (\n    <>\n      <Table\n        rowKey={\"examId\"}\n        columns={columType()}\n        dataSource={petData}\n        pagination={false}\n        loading={loading}\n        scroll={{\n          // y: hisHe,\n          y: '80%'\n        }}\n        className=\"historyTableStyle\"\n      />\n      <Modal\n        title={\n          <div\n            style={{\n              width: \"100%\",\n              cursor: \"move\",\n              height: \"20px\",\n              textAlign: \"center\",\n            }}\n            onMouseOver={() => {\n              if (disabled) {\n                setDisabled(false);\n              }\n            }}\n            onMouseOut={() => {\n              setDisabled(true);\n            }}\n            onFocus={() => { }}\n            onBlur={() => { }}\n          >\n            Edit Note\n          </div>\n        }\n        visible={visible}\n        onCancel={handleCancel}\n        modalRender={(modal) => (\n          <Draggable\n            disabled={disabled}\n            bounds={bounds}\n            onStart={(event, uiData) => onStart(event, uiData)}\n          >\n            <div ref={draggleRef}>{modal}</div>\n          </Draggable>\n        )}\n        footer={\n          [] // 设置footer为空，去掉 取消 确定默认按钮\n        }\n        destroyOnClose={true}\n      >\n        <div className=\"noteModal\">\n          <div className=\"noteModalText\">\n            <p style={{ width: \"80px\" }}>Notes</p>\n            <textarea\n              rows=\"5\"\n              cols=\"40\"\n              style={{ textIndent: \"10px\" }}\n              // value={petMessages.memo}\n              onChange={(val) => {\n                setNewMemo(val.target.value);\n              }}\n            ></textarea>\n          </div>\n          <div className=\"btn\" style={{ width: \"60%\" }} onClick={() => save()}>\n            Save Changes\n          </div>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    petMessage: state.petReduce.petDetailInfo,\n    hardwareMessage: state.hardwareReduce,\n  }),\n  {\n    selectHardwareModalShowFun,\n    petSortTypeFun,\n    petDetailInfoFun,\n    setMellaConnectStatusFun,\n    setMellaMeasureValueFun,\n    setMellaPredictValueFun,\n    setMellaMeasurePartFun,\n  }\n)(HistoryTable);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\home\\Home.jsx",["622","623","624","625","626"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\advancedSettings\\AdvancedSettings.jsx",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\heard\\Heard.js",["627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Menu, Popover, Button, Modal } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport { SyncOutlined, createFromIconfontCN, LoadingOutlined } from '@ant-design/icons';\nimport { SearchOutlined } from '@ant-design/icons';\nimport moment from 'moment'\nimport MyModal from './../myModal/MyModal'\nimport { connect } from 'react-redux'\nimport { setMenuNum, setSelectHardwareType, petDetailInfoFun } from '../../store/actions';\n\n//import 'antd/dist/antd.css';\nimport \"./heard.less\";\nimport help from \"./../../assets/images/help.png\";\nimport message from \"./../../assets/images/message.png\";\nimport triangle from \"./../../assets/img/triangle.png\";\nimport { mTop, px, MTop } from \"../px\";\nimport electronStore from \"../electronStore\";\nimport dog from \"./../../assets/images/reddog.png\";\nimport cat from \"./../../assets/images/redcat.png\";\nimport other from \"./../../assets/images/redother.png\";\nimport menu from \"./../../assets/img/menu.png\";\nimport heardLeft from \"./../../assets/img/heardLeft.png\";\nimport blueSearchPng from \"./../../assets/img/blueSearch.png\";\nimport close from \"./../../assets/img/close.png\";\nimport MinClose from \"../../utils/minClose/MinClose\";\nimport jinggao from \"./../../assets/img/jinggao.png\";\nimport redclose from \"./../../assets/img/redclose.png\";\n\nimport rMin_red from \"./../../assets/img/min-red.png\";\nimport rClose_red from \"./../../assets/img/close-red.png\";\n\nimport rMin_white from \"./../../assets/img/min-white.png\";\nimport rClose_white from \"./../../assets/img/close-white.png\";\nimport mellaLogo from \"./../../assets/images/mellaLogo.png\";\nimport { version, updateTime } from \"./../appversion\";\nimport { fetchRequest4 } from \"../FetchUtil4\";\nimport Button1 from \"../button/Button\";\n\nconst { SubMenu } = Menu;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: \"//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js\",\n});\n\nconst allPetList = electronStore.get(\"doctorExam\");\nlet storage = window.localStorage;\nlet ipcRenderer = window.electron.ipcRenderer;\n\nlet mouseoutTimer = null;\nlet matchingTimer = null;\n\n/**\n *\n * @param {function} onReturn  点击返回按钮后调用的函数\n * @param {function} onSearch  点击搜索到的宠物后把宠物信息传回去\n * @returns\n */\n\nconst Heard = ({\n  onReturn,\n  onSearch,\n  menu1Click,\n  menu2Click,\n  menu3Click,\n  menu4Click,\n  menu5Click,\n  menu6Click,\n  menu7Click,\n  menu8Click,\n  menu9Click,\n  blueSearch,\n  setMenuNum,\n  menuNum,\n  setSelectHardwareType,\n  petListArr,\n  petDetailInfoFun\n}) => {\n  const [minbgc, setMinbgc] = useState('')        //最小化的背景颜色\n  const [closebgc, setClosebgc] = useState('')    //关闭按钮的背景色\n  const [rMin, setRMin] = useState(rMin_red)      //最小化的图标\n  const [rClose, setRClose] = useState(rClose_red) //关闭按钮图标\n  const [value, setValue] = useState('')          //搜索框输入的内容\n  const [visible, setVisible] = useState(false)   //搜索框下面的搜索model\n  const [loading, setLoading] = useState(false)     //搜索宠物过程中的加载图标\n  const [petList, setPetList] = useState([])        //搜索到的宠物列表\n  const [menuVisible, setMenuVisible] = useState(false)//菜单图标下面的菜单内容图标\n  const [menuMouseOverIndex, setMenuMouseOverIndex] = useState('')//用来定位鼠标滑到哪个菜单选项\n\n\n  const [modalvisible, setModalVisible] = useState(false)       //关于的弹窗\n  const [modalVis, setModalVis] = useState(false)               //RFID搜索是否有宠物的弹窗\n  const [isNotFound, setIsNotFound] = useState(false)           //是否找到RFID对应的图标\n  const [deviceModel, setDeviceModel] = useState(false)         //我的设备弹窗\n\n  const [noUSB, setNoUSB] = useState(false)                 //没有底座设备\n  const [searchMac, setSearchMac] = useState(false)         //是否展示狗牌mac搜索图标下面的Modal框\n  const [bluDevice, setBluDevice] = useState([])            //搜索到的狗牌设备mac地址\n\n  const [isShowBlePetList, setIsShowBlePetList] = useState(false)  //是否展示狗牌对应宠物\n  const [isMatchPet, setIsMatchPet] = useState(false)      //正在匹配狗牌对应的宠物\n  const [macMatchPetList, setMacMatchPetList] = useState([])\n  const [updateStatus, setUpdateStatus] = useState('init')\n  const [lastVersion, setLastVersion] = useState(version)\n  const [downLoadNum, setDownLoadingNum] = useState(0)\n  const [selectDeviceMac, setSelectDeviceMac] = useState('')\n  const [clickType, setClickType] = useState(false);\n\n  //这里是为了模拟数据所做出来的,后期要改成接口\n  const testPetList = [\n    {\n      macId: \"E0:7C:62:30:08:08\",\n      petName: \"Mella\",\n      petId: \"b9de0868-9202-4fc9-9f1b-325220ceeccf\",\n    },\n    {\n      macId: \"E0:7C:62:03:75:32\",\n      petName: \"Possum\",\n      petId: \"e4b11580-1277-4b10-bd64-46b097f6f882\",\n    },\n    {\n      macId: \"E0:7D:EA:A8:8D:7E\",\n      petName: \"Charlie\",\n      petId: \"b4e7a185-1c7e-4885-ab95-4a7d2d2ada83\",\n    },\n    {\n      macId: \"E0:7C:62:32:76:8C\",\n      petName: \"Noah\",\n      petId: \"01b34bf2-47e6-4036-884f-47299447cb6a\",\n    },\n\n    {\n      macId: \"84:C2:E4:03:C3:06\",\n      petName: \"Whitey\",\n      petId: \"f713a238-f5df-4c85-8c4f-5766b0770c07\",\n    },\n  ];\n  const [size, setSize] = useState({ height: px(50) });\n  const [headerRef, setHeaderRef] = useState();\n\n  const uploadMessage = (e, data) => {\n    switch (data.payload.status) {\n      case -1:\n        console.log('查询异常');\n        setUpdateStatus('error')\n        break;\n\n      case 0:\n        console.log(\"正在检查应用程序更新\");\n        setUpdateStatus(\"check\");\n        break;\n\n      case 2:\n        console.log(\"正在检查应用程序更新\");\n        setUpdateStatus(\"lastVersion\");\n        break;\n\n      case 1:\n        console.log(\"检测到新版本\");\n        let version = data.output.version;\n        setLastVersion(version);\n\n        setUpdateStatus(\"newVersion\");\n        break;\n\n      // case 3:\n      //   console.log(\"下载新版成功\");\n      // case 4:\n      //   console.log(\"取消背景下载\");\n      case 5:\n        console.log(\"取消安装\");\n        setUpdateStatus(\"init\");\n        break;\n      case 6:\n        console.log(\"正在下载\");\n        setUpdateStatus(\"downLoading\");\n        let loadNum = data.output.percent\n          ? (data.output.percent / 100).toFixed(1)\n          : 0;\n        setDownLoadingNum(loadNum);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const _noUSB = (e, data) => {\n    console.log(\"没有USB设备：\", data);\n    if (data === false) {\n      setNoUSB(false);\n    } else {\n      if (!noUSB) {\n        setNoUSB(true);\n      }\n    }\n  };\n  const _send = (event, data) => {\n    command(data)();\n  };\n  // newArr 指的是十进制数字数组，   dataArr1:指的是16进制字符串数组\n  const command = (newArr) => {\n    let dataArr1 = newArr.map((item) => {\n      if (item.toString(16).length < 2) {\n        return \"0\" + item.toString(16);\n      } else {\n        return item.toString(16);\n      }\n    });\n    console.log(dataArr1);\n    const instruction = [255];\n    const commandArr = {\n      255: () => {\n        // console.log(dataArr1);\n        // console.log(bluDevice);\n        let length = newArr.length;\n        let frameLength = newArr[1]; //帧长\n        let itemLength = newArr[3] + 1; //数据位的长度   13\n        let dataIndex = 0;\n\n        let MAC = \"\";\n        let bluData = [];\n        let UUID = \"\";\n        while (itemLength < length && itemLength + 3 <= frameLength) {\n          let itemData = [];\n          for (let i = 0; i < newArr[dataIndex + 3] - 1; i++) {\n            itemData.push(dataArr1[i + dataIndex + 5]);\n          }\n          // console.log('循环得到的数据', itemData);\n          switch (newArr[dataIndex + 4]) {\n            case 9:\n            case 8:\n              break;\n            case 255:\n              break;\n            case 3:\n              break;\n            case 239:\n              // console.log('---mac地址');\n              let str = itemData[0];\n              for (let i = 1; i < itemData.length; i++) {\n                str += `:${itemData[i]}`;\n              }\n              MAC = str.toUpperCase();\n\n              break;\n            case 7:\n              console.log(\"uuid\");\n              let uuid = \"\";\n              for (let i = 0; i < itemData.length; i++) {\n                uuid += `${itemData[i]}`;\n              }\n              UUID = uuid;\n              break;\n            default:\n              return;\n          }\n          dataIndex = itemLength;\n          itemLength = itemLength + newArr[dataIndex + 3] + 1;\n\n          // console.log(itemLength, itemLength < length && (itemLength + 3 <= frameLength));\n        }\n        console.log(\"----mac\", MAC, \"-----uuid\", UUID);\n        if (UUID === \"d7895ab1acc74de3b9919e825c24c809\") {\n          // console.log('uuid相等', bluDevice, bluDevice.indexOf(MAC) === -1,);\n          if (bluDevice.indexOf(MAC) === -1) {\n            let dataArr = [].concat(bluDevice);\n            dataArr.push(MAC);\n            setBluDevice(dataArr);\n          }\n        }\n      },\n    };\n    if (instruction.indexOf(newArr[2]) !== -1) {\n      return commandArr[newArr[2]];\n    } else {\n      return () => {\n        console.log(\"没有控制命令\", commandArr);\n      };\n    }\n  };\n\n  let history = useHistory();\n  //最小化，关闭的\n  const MINCOLOSE = {\n    minMouseEnter: () => {\n      setMinbgc(\"rgba(70, 70, 70, 0.5)\");\n      setRMin(rMin_white);\n    },\n    minMouseLeave: () => {\n      setMinbgc(\"\");\n      setRMin(rMin_red);\n    },\n    minClock: () => {\n      setMinbgc(\"\");\n      setRMin(rMin_red);\n      let ipcRenderer = window.electron.ipcRenderer;\n      ipcRenderer.send(\"window-min\");\n    },\n    closeMouseEnter: () => {\n      setClosebgc(\"rgba(232,17,35)\");\n      setRClose(rClose_white);\n    },\n    closeMouseLeave: () => {\n      setClosebgc(\"\");\n      setRClose(rClose_red);\n    },\n    closeClock: () => {\n      let ipcRenderer = window.electron.ipcRenderer;\n      ipcRenderer.send(\"window-close\");\n    },\n  };\n\n  //搜索框内容\n  const searchPetBody = () => {\n    if (loading) {\n      //加载中\n      return (\n        <div className=\"searchPetLoading\" style={{ padding: `${20}px 0` }}>\n          <div className=\"loadIcon\" style={{ paddingTop: MTop(15) }}>\n            <LoadingOutlined\n              style={{ fontSize: 30, color: \"#e1206d\", marginTop: mTop(-30) }}\n            />\n          </div>\n          <p style={{ color: \"#e1206d\", marginTop: px(5) }}>loading...</p>\n        </div>\n      );\n    } else {\n      // console.log('-----展示', petList.length);\n      if (petList.length > 0) {\n        //找到了宠物，展示出来\n\n        // let petList = electronStore.get('doctorExam')\n        // console.log(petList);\n\n        let option = petList.map((item, index) => {\n          let { speciesId, url } = item;\n\n          let images = `url(${url}?download=0&width=150)`;\n          if (!url) {\n            switch (speciesId) {\n              case 1:\n                images = `url(${cat})`;\n\n                break;\n              case 2:\n                images = `url(${dog})`;\n                break;\n              default:\n                images = `url(${other})`;\n                break;\n            }\n          }\n          return (\n            <li\n              key={`${index}`}\n              style={{ margin: `${px(20)}px 0` }}\n              onClick={() => {\n                setValue('')\n                setVisible(false)\n                setPetList([])\n                petDetailInfoFun(item)\n                onSearch(item)\n              }}\n            >\n              <div className=\"item\" style={{ paddingLeft: px(40) }}>\n                <div\n                  className=\"img\"\n                  style={{\n                    width: px(50),\n                    height: px(50),\n                    marginRight: px(40),\n                    borderRadius: px(60),\n                    backgroundImage: images,\n                    // backgroundColor: 'hotpink',\n                  }}\n                >\n                  {/* <img src={images} style={{ width: px(40) }} /> */}\n                </div>\n\n                <div className=\"petInfo\">\n                  <p\n                    style={{\n                      color: \"#141414\",\n                      fontWeight: 600,\n                      fontSize: px(20),\n                    }}\n                  >\n                    {item.petName}\n                  </p>\n                  <p\n                    style={{ color: \"#797979\", fontSize: px(18) }}\n                  >{`Patient ID: ${item.patientId}`}</p>\n                  <p\n                    style={{ color: \"#797979\", fontSize: px(18) }}\n                  >{`Owner: ${item.owner}`}</p>\n                </div>\n              </div>\n            </li>\n          );\n        });\n        let liStyle = { backgroundColor: \"#fff\" };\n        if (petList.length > 4) {\n          liStyle = { height: px(500), overflowY: \"auto\" };\n        }\n\n        return (\n          <div className=\"searchPetList\">\n            <ul style={liStyle}>{option}</ul>\n          </div>\n        );\n      } else {\n        //没有发现这个宠物\n        return (\n          <div className=\"searchPetLoading\" style={{ padding: `${10}px 0` }}>\n            <p style={{ width: \"80%\", fontSize: px(18) }}>\n              Pet not found. Would you like to add a new patient?\n            </p>\n\n            <div\n              className=\"searchPetBtn\"\n              style={{ fontSize: px(18) }}\n              onClick={() => {\n                history.push(\"/pet/doctorAddPet\");\n              }}\n            >\n              <p style={{ padding: `${px(8)}px 0` }}>+ New Patient</p>\n            </div>\n          </div>\n        );\n      }\n    }\n  };\n\n  const inputChange = (text) => {\n    function isNumber(val) {\n      var regPos = /^\\d+(\\.\\d+)?$/; //非负浮点数\n      var regNeg =\n        /^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/; //负浮点数\n      if (regPos.test(val) || regNeg.test(val)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    //去除前后空格\n    let search = text.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n    setValue(search);\n    if (search.length > 0) {\n      setVisible(true);\n      setLoading(true);\n\n      //搜索分成两种，一种是通过手输入数据搜索，一种是通过RFID扫描过后搜索\n\n      if (search.length === 15 && isNumber(search)) {\n        //这是RFID扫描后的搜索\n        fetchRequest4(\n          `/pet/getPetInfoByRFID/${search}/${storage.lastOrganization}`,\n          \"GET\"\n        )\n          .then((res) => {\n            console.log(\"----RFID搜索结果\", res);\n\n            if (res.flag === true && res.data) {\n              let {\n                createTime,\n                patientId,\n                petName,\n                firstName,\n                lastName,\n                url,\n                speciesId,\n                breedName,\n                gender,\n                birthday,\n                petId,\n                rfid,\n                weight,\n              } = res.data;\n              patientId = patientId || \"unknown\";\n              petName = petName || \"unknown\";\n              breedName = breedName || \"unknown\";\n              weight = weight || \"unknown\";\n              let owner = \"\";\n              if (!firstName) {\n                firstName = \"\";\n              }\n              if (!lastName) {\n                lastName = \"\";\n              }\n              if (lastName === \"\" && firstName === \"\") {\n                owner = \"unknown\";\n              } else {\n                owner = `${lastName} ${firstName}`;\n              }\n              createTime = moment(createTime).format(\"X\");\n              let petGender = \"\";\n              switch (`${gender}`) {\n                case \"1\":\n                  petGender = \"F\";\n\n                  break;\n                case \"0\":\n                  petGender = \"M\";\n                  break;\n                default:\n                  petGender = \"unknown\";\n                  break;\n              }\n              let petAge = \"unknown\";\n              if (birthday) {\n                petAge = moment(new Date()).diff(moment(birthday), \"years\");\n                // console.log('petAge', petAge);\n              }\n              let json = {\n                insertedAt: createTime,\n                patientId,\n                petName,\n                owner,\n                breed: breedName,\n                gender: petGender,\n                age: petAge,\n                petId,\n                id: 0,\n                weight,\n                rfid,\n                url,\n                speciesId,\n              };\n              let searchData = [];\n              searchData.push(json);\n              setLoading(false);\n              setPetList(searchData);\n            } else if (\n              res.flag === true &&\n              res.msg === \"该组织下无此宠物信息\"\n            ) {\n              console.log(\"找到了但是不是在这个组织下\");\n              setLoading(false);\n              setModalVis(true);\n              setIsNotFound(false);\n              setValue(\"\");\n              setVisible(false);\n\n              // this.setState({\n              //   loading: false,\n              //   modalVis: true,\n              //   isNotFound: false,\n              //   heardSearchText: ''\n              // })\n            } else {\n              console.log(\"没有找到\");\n              setLoading(false);\n              setModalVis(true);\n              setIsNotFound(true);\n              setValue(\"\");\n              setVisible(false);\n\n              // this.setState({\n              //   loading: false,\n              //   modalVis: true,\n              //   isNotFound: true,\n              //   heardSearchText: ''\n              // })\n            }\n          })\n          .catch((err) => {\n            console.log(\"抛出异常:\", err);\n            setLoading(false);\n          });\n        return;\n      }\n\n      /**\n       * 使用indexof方法实现模糊查询\n       *     语法：stringObject.indexOf(searchvalue, fromindex)\n       *   参数：searchvalue 必需。规定需检索的字符串值。 fromindex 可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 stringObject.length - 1。如省略该参数，则将从字符串的首字符开始检索。\n       *    说明：该方法将从头到尾地检索字符串 stringObject，看它是否含有子串 searchvalue。开始检索的位置在字符串的 fromindex 处或字符串的开头（没有指定 fromindex 时）。如果找到一个 searchvalue，则返回 searchvalue 的第一次出现的位置。stringObject 中的字符位置是从 0 开始的。如果没有找到，将返回 -1。\n       *\n       * list         原数组\n       * keyWord      查询关键词\n       * searchData   查询的结果\n       *\n       * toLowerCase（）方法：将字符串统一转成小写\n       * toUpperCase（）方法：将字符串统一转成大写\n       *\n       */\n      // let list = allPetList\n      let list = petListArr || []\n\n      let searchData = [];\n      let keyWord = search;\n      for (let i = 0; i < list.length; i++) {\n        let petName = list[i].petName ? list[i].petName.toLowerCase() : ''\n        let patientId = list[i].patientId ? list[i].patientId.toLowerCase() : ''\n        let rfid = list[i].rfid || ''\n        if (`${petName}`.indexOf(keyWord.toLowerCase()) !== -1\n          || `${patientId}`.indexOf(keyWord.toLowerCase()) !== -1\n          || `${rfid}`.indexOf(keyWord) !== -1\n        ) {\n          searchData.push(list[i]);\n        }\n      }\n      // console.log('找到的宠物', searchData);\n      console.log(\n        \"---搜索词：\",\n        search,\n        \"---搜索数组：\",\n        list,\n        \"----搜索结果：\",\n        searchData\n      );\n      setLoading(false);\n      setPetList(searchData);\n    } else {\n      setVisible(false);\n    }\n  };\n\n  //左侧菜单栏\n  const menuList = () => {\n    let name = electronStore.get(`${storage.userId}-isClical`) ? 'Exit Clinical Study Mode' : 'Enter Clinical Study Mode'\n    let menulistArr = [\n      { name: \"Home\", index: \"1\" },\n      { name: \"All Patients\", index: \"2\" },\n      { name: \"Scheduled Patients\", index: \"3\" },\n      { name: \"My Account\", index: \"4\" },\n      {name:\"Org & Practice Profiles\" ,index:\"10\"},\n      { name: \"Settings\", index: \"5\" },\n      { name: name, index: \"6\" },\n      { name: `Billing & Subscriptions`, index: \"7\" },\n      { name: \"About Mella\", index: \"8\" },\n      { name: \"Log Out\", index: \"9\" },\n    ];\n    let menuOption = menulistArr.map((item, index) => {\n      let pColor = menuMouseOverIndex === item.index ? \"#e1206d\" : \"#1a1a1a\";\n      return (\n        <li\n          key={item.index}\n          style={{ padding: `${px(15)}px ${px(20)}px` }}\n          onClick={() => {\n            menulistClick(item);\n          }}\n          onMouseOver={(e) => {\n            setMenuMouseOverIndex(item.index);\n            e.stopPropagation();\n            e.nativeEvent.stopImmediatePropagation();\n            menuMouseOver();\n          }}\n          onMouseOut={(e) => {\n            setMenuMouseOverIndex(\"\");\n            e.stopPropagation();\n            e.nativeEvent.stopImmediatePropagation();\n            menuMouseOut();\n          }}\n        >\n          <div className=\"item\">\n            <p style={{ color: pColor }}>{item.name}</p>\n          </div>\n        </li>\n      );\n    });\n\n    return <ul>{menuOption}</ul>;\n  };\n  const menulistClick = (e) => {\n    mouseoutTimer && clearTimeout(mouseoutTimer);\n    setMenuVisible(false);\n    setMenuMouseOverIndex(\"\");\n    console.log(\"click \", e);\n\n    switch (e.index) {\n      case \"1\":\n        history.push(\"/MainBody\");\n        setMenuNum(e.index);\n        break;\n      case \"2\":\n        history.push(\"/MainBody\");\n        console.log(\"全部的宠物\");\n        setMenuNum(e.index);\n        break;\n      case \"3\":\n        history.push(\"/MainBody\");\n        console.log(\"预约宠物\");\n        setMenuNum(e.index);\n        break;\n      case \"4\":\n        history.push(\"/MainBody\");\n        setMenuNum(e.index);\n        break;\n      case \"5\":\n        //跳转到设置\n        // menu5Click()\n        history.push(\"/menuOptions/settings\");\n        // setMenuNum(e.index)\n        break;\n      case \"6\":\n        if (e.name === \"Exit Clinical Study Mode\") {\n          setMenuNum('1');\n          electronStore.set(`${storage.userId}-isClical`, false)\n        } else {\n          setMenuNum(e.index);\n          electronStore.set(`${storage.userId}-isClical`, true)\n          setSelectHardwareType(\"mellaPro\");\n        }\n        history.push(\"/MainBody\");\n        console.log(\"临床测试\");\n        break;\n      case \"7\":\n        console.log(\"billing\");\n        break;\n\n      case \"8\":\n        setModalVisible(true);\n        console.log(\"关于\");\n        break;\n      case \"9\":\n        console.log(\"退出登录\");\n        storage.userId = \"\";\n        storage.roleId = \"\";\n        storage.userWorkplace = \"\";\n        storage.lastOrganization = \"\";\n        storage.lastWorkplaceId = \"\";\n        storage.connectionKey = \"\";\n        storage.isClinical = \"false\";\n        setMenuNum(\"1\");\n        history.push(\"/\");\n        break;\n\n      case \"10\":\n        history.push('/menuOptions/ConnectWorkplace');\n        break;\n\n      default:\n        break;\n    }\n  };\n  const menuMouseOut = () => {\n    mouseoutTimer && clearTimeout(mouseoutTimer);\n    mouseoutTimer = setTimeout(() => {\n      setMenuVisible(false);\n      mouseoutTimer && clearTimeout(mouseoutTimer);\n    }, 1000);\n  };\n  const menuMouseOver = () => {\n    mouseoutTimer && clearTimeout(mouseoutTimer);\n    setMenuVisible(true);\n  };\n  const updatePage = () => {\n    switch (updateStatus) {\n      case \"init\":\n        return (\n          <div\n            className=\"updateBtn\"\n            style={{ height: px(40) }}\n            onClick={() => {\n              setDownLoadingNum(0);\n              setUpdateStatus(\"check\");\n\n              ipcRenderer.send(\"clickUpdateBtn\");\n            }}\n          >\n            Check for Updates\n          </div>\n        );\n      case \"check\":\n        return (\n          <div className=\"updateLoading flex\">\n            <div className=\"loadIcon1\">\n              <LoadingOutlined\n                style={{ fontSize: 30, color: \"#e1206d\", marginRight: px(20) }}\n              />\n            </div>\n            <p style={{ color: \"#e1206d\" }}>Checking for updates</p>\n          </div>\n        );\n      case \"lastVersion\":\n        return (\n          <div style={{ fontSize: px(22), }}>\n            already the latest version\n          </div>\n        )\n      case 'error':\n        return (\n          <div style={{ fontSize: px(22), }}>\n            Failed to get the latest version, please try again later\n          </div>\n        )\n\n\n      case \"newVersion\":\n        return (\n          <div style={{ fontSize: px(22) }}>\n            {`Found new version V${lastVersion}`}\n          </div>\n        );\n      case \"downLoading\":\n        return (\n          <div style={{ fontSize: px(22) }}>\n            {`Download progress: ${downLoadNum}%`}\n          </div>\n        );\n\n      default:\n        break;\n    }\n  };\n  //关于界面\n  const modal = () => {\n    return (\n      <div\n        className=\"settingModal\"\n        style={{ height: `${document.documentElement.clientHeight}px` }}\n      >\n        <div className=\"writeBox\" style={{ borderRadius: px(25) }}>\n          <div className=\"modalHeadr\">\n            <div className=\"close\">\n              <div\n                className=\"imgBox\"\n                style={{ padding: `0 ${px(30)}px` }}\n                onClick={() => {\n                  setModalVisible(false);\n                  setUpdateStatus(\"init\");\n                }}\n              >\n                <img src={close} style={{ width: px(23) }} />\n              </div>\n            </div>\n            <div className=\"heaerCenter\">\n              <div className=\"heaerCenterL\">\n                <img src={mellaLogo} style={{ width: \"80%\" }} />\n              </div>\n              <div className=\"heaerCenterR\">\n                <h1 style={{ fontSize: px(45), marginBottom: px(10) }}>\n                  About the System\n                </h1>\n                <div className=\"version\">\n                  <div\n                    className=\"versionL\"\n                    style={{ fontSize: px(22), width: px(180) }}\n                  >\n                    Version\n                  </div>\n                  <div className=\"versionR\" style={{ fontSize: px(24) }}>\n                    {version}\n                  </div>\n                </div>\n                <div className=\"version\">\n                  <div\n                    className=\"versionL\"\n                    style={{ fontSize: px(22), width: px(180) }}\n                  >\n                    Last Checked\n                  </div>\n                  <div className=\"versionR\" style={{ fontSize: px(24) }}>\n                    {updateTime}\n                  </div>\n                </div>\n\n                <div className=\"check\" style={{ marginTop: px(20) }}>\n                  {updatePage()}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"modalfoot\">\n            <div\n              className=\"about\"\n              style={{ marginTop: px(40), fontSize: px(18) }}\n            >\n              Nanjing Jiubian Technology Co., Ltd. was founded in 2019, located\n              in Nanjing Yuhuatai Software Valley Branch City, the company\n              brings together medical sensors, mobile Internet and other\n              industry's top professionals, business areas covering artificial\n              intelligence, smart medical, pet health, sleep monitoring, etc.,\n              is a design, research and development, production, sales, service\n              in one of the high-tech companies. The nine-sided science and\n              technology to \"the number of heavens and earths, starting from\n              one, finally nine\" as the cultural concept, adhering to the\n              essence of Chinese artisans, with an international vision, always\n              standing in the forefront of bio-intelligent medical monitoring\n              technology.\n            </div>\n\n            <div className=\"aLable\">\n              <a\n                href=\"#\"\n                style={{ fontSize: px(18), marginRight: px(50) }}\n                onClick={(e) => {\n                  e.preventDefault();\n                }}\n              >\n                Terms and Agreements\n              </a>\n              <a\n                href=\"#\"\n                style={{ fontSize: px(18) }}\n                onClick={(e) => {\n                  e.preventDefault();\n                }}\n              >\n                Privacy Policy\n              </a>\n            </div>\n\n            <div className=\"foot\" style={{ marginBottom: px(40) }}>\n              © 2021 Mella Pet Care All RIghts Reserved\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  //设备列表界面\n  const devices = () => {\n    let userId = storage.userId;\n    // electronStore.delete(`${userId}-deviceList`)\n    let deviceList = electronStore.get(`${userId}-deviceList`);\n    console.log(\"---\", deviceList);\n    if (!deviceList) {\n      let str = `${getRamNumber()}`;\n      for (let i = 0; i < 5; i++) {\n        str += `:${getRamNumber()}`;\n      }\n      console.log(\"随机生成的mac地址:\", str);\n      deviceList = [{ name: \"MellaPro\", deviceType: \"mellaPro\", macId: str }];\n      electronStore.set(`${userId}-deviceList`, deviceList);\n    }\n\n    function getRamNumber() {\n      var result = \"\";\n      for (var i = 0; i < 2; i++) {\n        result += Math.floor(Math.random() * 16).toString(16); //获取0-15并通过toString转16进制\n      }\n      //默认字母小写，手动转大写\n      return result.toLowerCase(); //另toLowerCase()转小写\n    }\n\n    // deviceList = [\n    //   // { name: 'Add Device', deviceType: 'add', macId: '0' },\n    //   { name: 'malla001', deviceType: 'mellaHome', macId: '11:22:33:44:55:66' },\n    //   { name: 'malla002', deviceType: 'mellaPro', macId: '11:22:33:44:51:66' },\n    //   { name: 'malla003', deviceType: 'mellaHome', macId: '11:22:33:44:35:66' },\n    //   { name: 'biggie00222222222222221', deviceType: 'biggie', macId: '11:24:33:44:55:66' },\n    //   { name: 'malla001', deviceType: 'biggie', macId: '11:22:33:44:25:66' },\n    //   { name: 'Charlie001', deviceType: 'rfid', macId: '11:22:33:44:56:66' },\n    // ]\n\n    let options = deviceList.map((item, index) => {\n      return (\n        <li\n          className=\"flex\"\n          key={`${index}`}\n          style={{ marginBottom: px(15), marginTop: px(5) }}\n          onClick={() => {\n            console.log(item.macId);\n            setSelectDeviceMac(item.macId);\n          }}\n        >\n          <div className=\"liLeft\" style={{ fontSize: px(16) }}>\n            {item.name}\n          </div>\n          <div className=\"liCenter\" style={{ fontSize: px(16) }}>\n            {item.macId}\n          </div>\n          <div className=\"liRight\">\n            <div\n              className=\"circle flex\"\n              style={{ width: px(18), height: px(18) }}\n            >\n              {selectDeviceMac === item.macId && <div className=\"redCircle\" />}\n            </div>\n          </div>\n        </li>\n      );\n    });\n\n    return (\n      <div\n        className=\"settingModal\"\n        style={{ height: `${document.documentElement.clientHeight}px` }}\n      >\n        <div\n          className=\"writeBox devices\"\n          style={{ borderRadius: px(25), width: px(400) }}\n        >\n          <div className=\"deviceHeadr\">\n            <div className=\"close\">\n              <div\n                className=\"imgBox\"\n                style={{ padding: `0 ${px(30)}px` }}\n                onClick={() => setDeviceModel(false)}\n              >\n                <img src={close} style={{ width: px(23) }} />\n              </div>\n            </div>\n            <div className=\"logo flex\">\n              <img src={mellaLogo} style={{ width: px(60) }} />\n              <div style={{ fontSize: px(22), marginTop: px(30) }}>Devices</div>\n              <div\n                className=\"bodyText\"\n                style={{ fontSize: px(18), marginTop: px(40) }}\n              >\n                Select the device you would\n                <br />\n                like to use or add a new device.\n              </div>\n            </div>\n          </div>\n\n          <div className=\"deviceCenter\">\n            <ul>{options}</ul>\n          </div>\n          <div\n            className=\"deviceFooter flex\"\n            style={{\n              borderBottomLeftRadius: px(25),\n              borderBottomRightRadius: px(25),\n            }}\n          >\n            <div\n              className=\"btn\"\n              style={{ height: px(40) }}\n              onMouseDown={() => {\n                let button = document.querySelectorAll(\n                  \"#heard .deviceFooter .btn\"\n                );\n                button[0].style.opacity = \"0.5\";\n              }}\n              onMouseUp={() => {\n                let button = document.querySelectorAll(\n                  \"#heard .deviceFooter .btn\"\n                );\n                button[0].style.opacity = \"1\";\n              }}\n              onClick={() => {\n                setDeviceModel(false);\n                history.push(\"/menuOptions/AddDevice\");\n              }}\n            >\n              <p className=\"btnText\" style={{ fontSize: px(18) }}>\n                New Device\n              </p>\n            </div>\n            <div\n              className=\"btn\"\n              style={{ height: px(40) }}\n              onMouseDown={() => {\n                let button = document.querySelectorAll(\n                  \"#heard .deviceFooter .btn\"\n                );\n                button[1].style.opacity = \"0.5\";\n              }}\n              onMouseUp={() => {\n                let button = document.querySelectorAll(\n                  \"#heard .deviceFooter .btn\"\n                );\n                button[1].style.opacity = \"1\";\n              }}\n              onClick={() => {\n                electronStore.set(\n                  `${storage.userId}-selectDevice`,\n                  selectDeviceMac\n                );\n                setDeviceModel(false);\n              }}\n            >\n              <p className=\"btnText\" style={{ fontSize: px(18) }}>\n                Connect\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  //点击蓝牙搜索图标\n  const blueClick = () => {\n    console.log(\"点击了蓝牙图标\");\n    setIsShowBlePetList(false);\n    setSearchMac(true);\n  };\n  //点击取消链接\n  const cencleClick = (e) => {\n    console.log(\"mac列表为空,点击取消\");\n    setBluDevice([]);\n    setSearchMac(false);\n    setIsShowBlePetList(false);\n    setIsMatchPet(false);\n    setMacMatchPetList([]);\n    if (e) {\n      e.preventDefault();\n    }\n    matchingTimer && clearTimeout(matchingTimer);\n  };\n  //搜索狗牌的蓝牙\n  const blusearchBody = () => {\n    console.log(\"搜索狗牌的蓝牙\", searchMac, bluDevice);\n    if (isShowBlePetList) {\n      if (isMatchPet) {\n        return (\n          <div\n            className=\"searchPetLoading\"\n            style={{ padding: `${20}px 0`, width: \"100%\" }}\n          >\n            <div className=\"loadIcon\" style={{ paddingTop: MTop(15) }}>\n              <LoadingOutlined\n                style={{ fontSize: 30, color: \"#e1206d\", marginTop: mTop(-30) }}\n              />\n            </div>\n            <p style={{ color: \"#e1206d\", marginTop: px(5), width: \"80%\" }}>\n              matching...\n            </p>\n\n            <a\n              href=\"#\"\n              style={{ color: \"#e1206d\", marginTop: px(30) }}\n              onClick={cencleClick}\n            >\n              Cencle\n            </a>\n          </div>\n        );\n      } else {\n        if (macMatchPetList.length > 0) {\n          let option = macMatchPetList.map((item, index) => {\n            let { speciesId, url } = item;\n\n            let images = `url(${url}?download=0&width=150)`;\n            if (!url) {\n              switch (speciesId) {\n                case 1:\n                  images = `url(${cat})`;\n                  break;\n                case 2:\n                  images = `url(${dog})`;\n                  break;\n                default:\n                  images = `url(${other})`;\n                  break;\n              }\n            }\n            return (\n              <li\n                key={`${index}`}\n                style={{ margin: `${px(20)}px 0` }}\n                onClick={() => {\n                  cencleClick();\n                  onSearch(item);\n                }}\n              >\n                <div className=\"item\" style={{ paddingLeft: px(40) }}>\n                  <div\n                    className=\"img\"\n                    style={{\n                      width: px(50),\n                      height: px(50),\n                      marginRight: px(40),\n                      borderRadius: px(60),\n                      backgroundImage: images,\n                    }}\n                  >\n                    {/* <img src={images} style={{ width: px(40) }} /> */}\n                  </div>\n\n                  <div className=\"petInfo\">\n                    <p\n                      style={{\n                        color: \"#141414\",\n                        fontWeight: 600,\n                        fontSize: px(20),\n                        textAlign: \"start\",\n                      }}\n                    >\n                      {item.petName}\n                    </p>\n                    <p\n                      style={{ color: \"#797979\", fontSize: px(18) }}\n                    >{`Patient ID: ${item.patientId}`}</p>\n                    <p\n                      style={{ color: \"#797979\", fontSize: px(18) }}\n                    >{`Owner: ${item.owner}`}</p>\n                  </div>\n                </div>\n              </li>\n            );\n          });\n          let liStyle = { backgroundColor: \"#fff\" };\n          if (petList.length > 4) {\n            liStyle = { height: px(500), overflowY: \"auto\" };\n          }\n\n          return (\n            <div className=\"searchPetList flex\">\n              <ul style={liStyle}>{option}</ul>\n              <a\n                href=\"#\"\n                style={{\n                  color: \"#e1206d\",\n                  marginTop: px(10),\n                  marginBottom: px(21),\n                }}\n                onClick={cencleClick}\n              >\n                Cencle\n              </a>\n            </div>\n          );\n        }\n      }\n    } else {\n      if (noUSB) {\n        return (\n          <div className=\"searchPetLoading\" style={{ padding: `${10}px 0` }}>\n            <p style={{ width: \"80%\", fontSize: px(18) }}>\n              Please insert address and scan\n            </p>\n\n            <a href=\"#\" style={{ color: \"#e1206d\" }} onClick={cencleClick}>\n              Cencle\n            </a>\n          </div>\n        );\n      } else {\n        if (bluDevice.length > 0) {\n          let option = bluDevice.map((item, index) => {\n            return (\n              <li\n                key={`${index}`}\n                style={{ margin: `${px(20)}px 0` }}\n                onClick={() => {\n                  console.log(\"mac列表为空,点击列表内容\");\n                  setBluDevice([]);\n                  // setSearchMac(false)\n                  setIsShowBlePetList(true);\n                  setIsMatchPet(true);\n                  matchingTimer && clearTimeout(matchingTimer);\n                  matchingTimer = setTimeout(() => {\n                    let haveFlog = false,\n                      index = -1;\n                    for (let i = 0; i < testPetList.length; i++) {\n                      if (testPetList[i].macId === item) {\n                        haveFlog = true;\n                        index = i;\n                        break;\n                      }\n                    }\n                    if (haveFlog) {\n                      if (storage.lastOrganization === \"1\") {\n                        matchPet(testPetList[index].petId);\n                      } else {\n                        setModalVis(true);\n                        setIsNotFound(false);\n                        cencleClick();\n                      }\n                    } else {\n                      setModalVis(true);\n                      setIsNotFound(true);\n                      cencleClick();\n                    }\n\n                    setIsMatchPet(false);\n                    matchingTimer && clearTimeout(matchingTimer);\n                  }, 2000);\n                }}\n              >\n                <div className=\"item\" style={{ paddingLeft: px(40) }}>\n                  <div className=\"petInfo\">\n                    <p\n                      style={{\n                        color: \"#141414\",\n                        fontWeight: 600,\n                        fontSize: px(20),\n                      }}\n                    >\n                      mac:{item}\n                    </p>\n                  </div>\n                </div>\n              </li>\n            );\n          });\n          let liStyle = { backgroundColor: \"#fff\" };\n          if (bluDevice.length > 4) {\n            liStyle = { height: px(500), overflowY: \"auto\" };\n          }\n          return (\n            <div className=\"searchPetList\" style={{ flexDirection: \"column\" }}>\n              <ul style={liStyle}>{option}</ul>\n              <a\n                href=\"#\"\n                style={{\n                  color: \"#e1206d\",\n                  marginTop: px(10),\n                  marginBottom: px(21),\n                }}\n                onClick={cencleClick}\n              >\n                Cencle\n              </a>\n            </div>\n          );\n        } else {\n          return (\n            <div\n              className=\"searchPetLoading\"\n              style={{ padding: `${20}px 0`, width: \"100%\" }}\n            >\n              <div className=\"loadIcon\" style={{ paddingTop: MTop(15) }}>\n                <LoadingOutlined\n                  style={{\n                    fontSize: 30,\n                    color: \"#e1206d\",\n                    marginTop: mTop(-30),\n                  }}\n                />\n              </div>\n              <p style={{ color: \"#e1206d\", marginTop: px(5), width: \"80%\" }}>\n                scanning...\n              </p>\n\n              <a\n                href=\"#\"\n                style={{ color: \"#e1206d\", marginTop: px(30) }}\n                onClick={cencleClick}\n              >\n                Cencle\n              </a>\n            </div>\n          );\n        }\n      }\n    }\n  };\n  const matchPet = (searchValue) => {\n    console.log(\"搜索词:\", searchValue);\n    let list = electronStore.get(\"doctorExam\");\n\n    let searchData = [];\n    let keyWord = searchValue;\n    for (let i = 0; i < list.length; i++) {\n      let petName = `${list[i].petId}`;\n      if (keyWord === petName) {\n        searchData.push(list[i]);\n      }\n    }\n\n    setIsMatchPet(false);\n\n    setMacMatchPetList(searchData);\n  };\n  const resize = () => {\n    setSize()\n    // let { offsetWidth, offsetHeight } = heardRef;\n    // console.log(\"resize\", heardRef);\n    // if (offsetHeight !== this.state.bodyHeight) {\n    //   this.setState({\n    //     bodyHeight: offsetHeight - px(50),\n    //   });\n    // }\n  };\n\n  useEffect(() => {\n    console.log(\"mac列表为空,初始化\");\n    mouseoutTimer && clearTimeout(mouseoutTimer);\n    setBluDevice([]);\n    return () => {\n      matchingTimer && clearTimeout(matchingTimer);\n    };\n  }, []);\n  useEffect(() => {\n    ipcRenderer.on(\"uploadMessage\", uploadMessage);\n    return () => {\n      ipcRenderer.removeListener(\"uploadMessage\", uploadMessage);\n    };\n  }, []);\n  useEffect(() => {\n    if (blueSearch) {\n      console.log(\"---渲染时执行----??????\");\n      ipcRenderer.on(\"sned\", _send);\n      ipcRenderer.on(\"noUSB\", _noUSB);\n      return () => {\n        console.log(\"----卸载----?????????/\");\n        ipcRenderer.removeListener(\"sned\", _send);\n        ipcRenderer.removeListener(\"noUSB\", _noUSB);\n      };\n    }\n  }, []);\n  useEffect(() => {\n    //监听屏幕窗口改变\n    // window.addEventListener(\"resize\", resize());\n    console.log('====================================');\n    console.log('window.screen.availWidth', window.screen.availWidth);\n    console.log('====================================');\n    console.log(px(50));\n    setSize({ height: 50 });\n  }, [window.screen.availWidth])\n\n  return (\n    <div id=\"heardUI\">\n      <div id=\"heardUITop\" />\n      <div\n        id=\"heard\"\n        style={size}\n        ref={(val) => {\n          setHeaderRef(val);\n        }}\n      >\n        <div className=\"l\">\n          <div\n            className=\"menuF\"\n            style={{ marginLeft: px(40), marginRight: px(40) }}\n          >\n            <div\n              className=\"menu\"\n              onMouseOver={menuMouseOver}\n              onMouseOut={menuMouseOut}\n            >\n              <img src={menu} style={{ width: px(20) }} />\n              {menuVisible ? (\n                // true\n                <div className=\"manuBody\" style={{ top: px(20), left: px(-40) }}>\n                  <div\n                    className=\"triangle\"\n                    style={{\n                      borderLeft: `${px(10)}px solid transparent`,\n                      borderRight: `${px(10)}px solid transparent`,\n                      borderBottom: `${px(13)}px solid #fff`,\n                      left: px(40),\n                    }}\n                  />\n\n                  <div className=\"manuBodyList\" style={{ marginTop: px(13) }}>\n                    {menuList()}\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </div>\n\n          <div className=\"search\" style={{ width: px(300) }}>\n            <input\n              placeholder=\"Search Pet    &#xe63f;\"\n              style={{ fontSize: px(16), paddingLeft: px(20) }}\n              value={value}\n              onChange={(text) => {\n                inputChange(text);\n              }}\n              onKeyUp={(e) => {\n                // console.log(e);\n                if (e.keyCode === 13) {\n                  console.log(\"回车,去搜索\");\n                }\n                if (e.keyCode === 27) {\n                  console.log(\"清空\");\n                  setValue(\"\");\n                  setVisible(false);\n                }\n              }}\n            />\n            {blueSearch ? (\n              <div\n                className=\"searchIconFa bluSearch\"\n              // style={{ cursor: 'pointer', backgroundColor: 'pink' }}\n              // onClick={blueClick}\n              >\n                <div onClick={blueClick}>\n                  {/* <img src={blueSearchPng} style={{ width: '50%' }} /> */}\n                  <span\n                    className=\" iconfont icon-sousuo searchIcon\"\n                    style={{ fontSize: px(25) }}\n                  />\n                </div>\n\n                {searchMac ? (\n                  // true ?\n                  <div className=\"searchPet flex\" style={{ width: px(400) }}>\n                    <div\n                      className=\"triangle\"\n                      style={{\n                        borderLeft: `${px(20)}px solid transparent`,\n                        borderRight: `${px(20)}px solid transparent`,\n                        borderBottom: `${px(25)}px solid #fff`,\n                        // marginLeft: px(30),\n                        zIndex: 999,\n                      }}\n                    />\n\n                    <div className=\"searchPetBody\" style={{ width: \"100%\" }}>\n                      {blusearchBody()}\n                    </div>\n                  </div>\n                ) : null}\n              </div>\n            ) : (\n              <div className=\"searchIconFa\">\n                <span\n                  className=\" iconfont icon-sousuo searchIcon\"\n                  style={{ fontSize: px(25) }}\n                />\n              </div>\n            )}\n\n            {visible ? (\n              // true ?\n              <div className=\"searchPet\" style={{ top: px(35), width: px(400) }}>\n                <div\n                  className=\"triangle\"\n                  style={{\n                    borderLeft: `${px(20)}px solid transparent`,\n                    borderRight: `${px(20)}px solid transparent`,\n                    borderBottom: `${px(25)}px solid #fff`,\n                    marginLeft: px(30),\n                    zIndex: 999,\n                  }}\n                />\n\n                <div className=\"searchPetBody\">{searchPetBody()}</div>\n              </div>\n            ) : null}\n          </div>\n        </div>\n\n        <div className=\"r\">\n          <div className=\"heardCenter\">\n            <div\n              className=\"message\"\n              onClick={() => history.push(\"/menuOptions/unassigned\")}\n            >\n              <img\n                src={message}\n                alt=\"\"\n                style={{ height: px(25), width: px(25) }}\n              />\n            </div>\n            <div\n              className=\"help\"\n              style={{ margin: `0 ${px(25)}px` }}\n              onClick={() => history.push(\"/menuOptions/help\")}\n            >\n              <img src={help} alt=\"\" style={{ height: px(25) }} />\n            </div>\n          </div>\n          <div className=\"min_close\" style={{ paddingRight: px(15) }}>\n            <div\n              className=\"min_icon\"\n              onClick={MINCOLOSE.minClock}\n              style={{ backgroundColor: minbgc, height: px(50), width: px(50) }}\n              onMouseEnter={MINCOLOSE.minMouseEnter}\n              onMouseLeave={MINCOLOSE.minMouseLeave}\n            >\n              <img src={rMin} alt=\"\" style={{ width: px(20) }} />\n            </div>\n            <div\n              className=\"min_icon\"\n              onClick={MINCOLOSE.closeClock}\n              style={{ backgroundColor: closebgc, height: px(50), width: px(50) }}\n              onMouseEnter={MINCOLOSE.closeMouseEnter}\n              onMouseLeave={MINCOLOSE.closeMouseLeave}\n            >\n              <img src={rClose} alt=\"\" style={{ width: px(20) }} />\n            </div>\n          </div>\n        </div>\n\n        {modalvisible && modal()}\n        {deviceModel && devices()}\n\n        <MyModal\n          // visible={true}\n          visible={modalVis}\n          element={\n            <div\n              className=\"tip\"\n              style={{ width: px(420), height: px(480), borderRadius: px(20) }}\n            >\n              <div\n                className=\"close\"\n                style={{ height: px(60) }}\n                onClick={() => setModalVis(false)}\n              >\n                <div className=\"flex\" style={{ height: px(60), width: px(60) }}>\n                  <img src={close} alt=\"\" style={{ width: px(20) }} />\n                </div>\n              </div>\n              <div className=\"text\">\n                <h1 style={{ fontSize: px(36), marginTop: px(30) }}>\n                  {\" \"}\n                  {isNotFound ? \"Pet not found!\" : \"Pet found!\"}\n                </h1>\n              </div>\n              <div className=\"flex\" style={{ margin: `${px(20)}px 0` }}>\n                {isNotFound ? (\n                  <img src={redclose} width=\"50px\" />\n                ) : (\n                  <img src={jinggao} width=\"50px\" />\n                )}\n              </div>\n              <div\n                className=\"textbody\"\n                style={{ marginTop: px(30), color: \"#000\" }}\n              >\n                {isNotFound ? (\n                  <p style={{ fontSize: px(22) }}>\n                    {\" \"}\n                    This pet is not on your database\n                  </p>\n                ) : (\n                  <p style={{ fontSize: px(22) }}>\n                    Pet Identified but does not <br /> belong to your\n                    organization.\n                  </p>\n                )}\n              </div>\n\n              <div className=\"flex\" style={{ marginTop: px(30), width: \"100%\" }}>\n                <div\n                  className=\"btn flex\"\n                  style={{ height: px(40) }}\n                  onClick={() => {\n                    setModalVis(false);\n                    cencleClick();\n                  }}\n                >\n                  <p>OK</p>\n                </div>\n              </div>\n            </div>\n          }\n        />\n      </div>\n    </div>\n\n  );\n};\n\nHeard.propTypes = {\n  onReturn: PropTypes.func,\n  onSearch: PropTypes.func,\n  menu1Click: PropTypes.func,\n  menu2Click: PropTypes.func,\n  menu3Click: PropTypes.func,\n  menu4Click: PropTypes.func,\n  menu5Click: PropTypes.func,\n  menu6Click: PropTypes.func,\n  menu7Click: PropTypes.func,\n  menu8Click: PropTypes.func,\n  menu9Click: PropTypes.func,\n  blueSearch: PropTypes.bool,\n};\nHeard.defaultProps = {\n  onSearch: () => { },\n  onReturn: () => { },\n  menu1Click: () => { },\n  menu2Click: () => { },\n  menu3Click: () => { },\n  menu4Click: () => { },\n  menu5Click: () => { },\n  menu6Click: () => { },\n  menu7Click: () => { },\n  menu8Click: () => { },\n  menu9Click: () => { },\n  blueSearch: false,\n};\n\nexport default connect(\n  state => ({\n    menuNum: state.userReduce.menuNum,\n    petListArr: state.petReduce.petListArr,\n  }),\n  { setMenuNum, setSelectHardwareType, petDetailInfoFun }\n)(Heard)\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\clinicalStudyPage\\index.jsx",["661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\doctorAddPet\\DoctorAddPet.jsx",["692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\allPetsPage\\index.jsx",["714","715","716","717","718","719","720","721","722","723","724","725","726"],"import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Input, Button, message, Spin, BackTop } from 'antd';\nimport { createFromIconfontCN, SyncOutlined, LoadingOutlined } from '@ant-design/icons';\n\nimport { devicesTitleHeight } from '../../utils/InitDate'\n\nimport { mTop, px, MTop, pX } from '../../utils/px';\nimport PetTable from '../../components/petTable';\nimport './allPet.less'\nimport { petDetailInfoFun, setMenuNum, setPetListArrFun } from '../../store/actions';\nimport moment from 'moment'\nimport { fetchRequest } from '../../utils/FetchUtil1';\n\n\nlet storage = window.localStorage;\nconst AllPet = ({ bodyHeight, petDetailInfoFun, setMenuNum, setPetListArrFun }) => {\n\n    //初始化获取宠物列表数据\n    const [petListArr, setPetListArr] = useState([])\n    //定义宠物列表是否加载中\n    const [loading, setLoading] = useState(true)\n    const [spin, setSpin] = useState(false)\n    const _getExam = async () => {\n        console.log('进来了');\n        let params = {\n            doctorId: storage.userId,\n            offset: 0,\n            size: 100,\n        }\n        if (storage.lastWorkplaceId) {\n            params.workplaceId = storage.lastWorkplaceId\n        }\n        if (storage.lastOrganization) {\n            params.organizationId = storage.lastOrganization\n        }\n        console.log('查询宠物的入参', params);\n        const isUnKnow = (val) => {\n            if (val) {\n                return val\n            } else {\n                return 'unknown'\n            }\n        }\n        setLoading(true)\n        fetchRequest('/user/listAllPetInfo', 'GET', params)\n            .then(res => {\n                console.log('查询到的宠物列表,/user/listAllPetInfo', res);\n                if (res.flag === true && res.data) {\n                    let data = []\n                    let oldList = res.data\n                    setPetListArrFun(oldList)\n                    // let oldList = res.data.list\n                    for (let i = 0; i < oldList.length; i++) {\n                        let { age, url, createTime, patientId, speciesId, petName, firstName, birthday, lastName, breedName, gender, petId, weight, rfid, l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference, pethubId, macId,\n                            h2tLength, torsoLength } = oldList[i]\n                        let owner = ''\n                        patientId = isUnKnow(patientId)\n                        petName = isUnKnow(petName)\n                        breedName = isUnKnow(breedName)\n                        age = isUnKnow(age)\n                        weight = isUnKnow(weight)\n                        if (!firstName) {\n                            firstName = ''\n                        }\n                        if (!lastName) {\n                            lastName = ''\n                        }\n                        if (lastName === '' && firstName === '') {\n                            owner = 'unknown'\n                        } else {\n                            owner = `${lastName} ${firstName}`\n                        }\n                        createTime = moment(createTime).format('X')\n                        let petGender = ''\n                        switch (`${gender}`) {\n                            case '1': petGender = 'F'\n\n                                break;\n                            case '0': petGender = \"M\"\n                                break;\n                            default: petGender = 'unknown'\n                                break;\n                        }\n                        let petAge = 'unknown'\n                        if (birthday) {\n                            petAge = moment(new Date()).diff(moment(birthday), 'years')\n                        }\n\n                        let json = {\n                            insertedAt: createTime,\n                            patientId,\n                            petName,\n                            owner,\n                            breed: breedName,\n                            gender: petGender,\n                            age: petAge,\n                            petId,\n                            id: i,\n                            weight,\n                            rfid,\n                            url,\n                            speciesId,\n                            l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\n                            h2tLength, torsoLength,\n                            pethubId, macId,\n\n                        }\n                        data.push(json)\n\n                    }\n                    data.sort((a, b) => {\n                        return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n                    })\n                    console.log('列表的数据：', data);\n                    setPetListArr(data)\n                    setLoading(false)\n                    setSpin(false)\n                } else {\n                    setLoading(false)\n                    setSpin(false)\n                }\n            })\n            .catch(err => {\n                console.log(err);\n                setLoading(false)\n                setSpin(false)\n            })\n\n\n\n    }\n    const _refresh = () => {\n        setSpin(true)\n        _getExam()\n    }\n\n    useEffect(() => {\n      //获取宠物列表\n      _getExam()\n  }, [])\n\n    return (\n        <div id='allPets' style={{ height: bodyHeight }}>\n            <div className=\"allPetHeard\">\n                <div className=\"addDeviceTitle flex\" style={{ height: px(100), fontSize: 26, paddingLeft: px(20) }}>\n                    <div className=\"title\">Client Results</div>\n                    <div className=\"refresh flex\"\n                        style={{ fontSize: px(25), marginLeft: px(10) }}\n                    >\n                        <SyncOutlined onClick={_refresh} spin={spin} />\n                    </div>\n\n                </div>\n\n                <div className=\"walkBtn1\" style={{ marginRight: px(80) }}>\n                    <div\n                        className=\"walkbtnBox\"\n                        style={{ height: px(40), width: px(200) }}\n                        onClick={() => {\n                            let json = {\n                                isWalkIn: true,\n                                petId: null,\n                                petName: null,\n                                owner: null,\n                                breed: null,\n\n                            }\n                            petDetailInfoFun(json)\n                            setMenuNum(\"1\")\n                        }}\n                    >\n                        <div className=\"walkText\">Walk-In</div>\n                    </div>\n                </div>\n\n            </div>\n\n            <PetTable\n                bodyHeight={bodyHeight - px(100)}\n                petListArr={petListArr}\n                loading={loading}\n                resetPetList={(val) => setPetListArr(val)}\n\n            />\n        </div >\n\n    )\n}\n\n\nAllPet.propTypes = {\n\n}\n//默认值\nAllPet.defaultProps = {\n    bodyHeight: 0,\n}\nexport default connect(\n    state => ({\n\n    }),\n    { petDetailInfoFun, setMenuNum, setPetListArrFun }\n)(AllPet)\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\petTable\\index.jsx",["727","728","729","730","731","732","733","734"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\editPetInfo\\EditPetInfo.jsx",["735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755"],"import React, { Component } from 'react'\nimport { Input, Menu, message, Select, Calendar, Col, Row, Spin } from 'antd';\nimport Draggable from \"react-draggable\";\nimport moment from 'moment'\n//import 'antd/dist/antd.css';\nimport { createFromIconfontCN, SyncOutlined, LoadingOutlined } from '@ant-design/icons';\nimport { fetchRequest } from './../../utils/FetchUtil1'\nimport dog from './../../assets/images/pinkdog.png'\nimport cat from './../../assets/images/pinkcat.png'\nimport redDog from './../../assets/images/reddog.png'\nimport redCat from './../../assets/images/redcat.png'\nimport redother from './../../assets/images/redother.png'\nimport other from './../../assets/images/other.png'\nimport selectphoto from './../../assets/images/sel.png'\n\nimport Close from './../../assets/img/close.png'\nimport nextImg from './../../assets/img/nextImg.png'\n\nimport dui from './../../assets/images/dui.png'\nimport female from './../../assets/images/female.png'\nimport male from './../../assets/images/male.png'\nimport { mTop, px, win } from '../../utils/px';\nimport Avatar from './../avatar/Avatar'\nimport './editPetInfo.less'\nimport MyModal from '../../utils/myModal/MyModal';\nimport electronStore from '../../utils/electronStore';\nimport PhoneBook from '../../utils/phoneBook/PhoneBook';\nimport Button from './../../utils/button/Button'\nimport { connect } from 'react-redux';\nimport { petDetailInfoFun } from '../../store/actions';\nconst { SubMenu } = Menu;\nconst { Option } = Select;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\n})\nlet storage = window.localStorage;\nlet errPatientId = ''\nlet url = 'https://www.mellaserver.com/api/mellaserver'\n// let url = 'http://192.168.0.36:8080/mellaserver'\nclass EditPetInfo extends Component {\n  state = {\n    dogImg: dog,\n    catImg: cat,\n    otherImg: other,\n    selectWZ: '',\n    closebgc: '',\n    minbgc: '',\n    closeColor: '',\n    api: '',\n    id: '',\n    seleceID: '',//医生id\n    petSpecies: 0,\n    unit: 1,\n    gender: 0,\n    isMix: false,\n    imageId: -1,\n    imgurl: '',\n    breedArr: [],\n    petSpeciesBreedId: '',\n    dogData: [],\n    birthday: moment(new Date()).format('MMMM D, YYYY'),\n    patientId: '',\n    petName: '',\n\n    petId: '',\n    lastName: '',\n    firstName: '',\n    breedName: '',\n\n    initpetName: '',\n    initpetId: '',\n    initlastName: '',\n    initfirstName: '',\n    initbreedName: '',\n    spin: false,\n    dogBreed: [],\n    catBreed: [],\n\n    oldPatientId: '',\n    searchBreed: '',\n    selectBreedJson: {},\n    confirmSelectBreedJson: {},\n    selectBreed: false,\n\n    doctorArr: [],\n    selectUser: false,\n    selectUserJson: {},\n    selectUserId: '',\n    confirmSelectUserJson: {},\n    petUrl: ''\n\n\n  }\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big', win())\n    // if (this.props.location.participate) {\n    //   let props = this.props.location.participate\n    //   console.log(props);\n    //   this.setState({\n    //     patientId: props.patientId,\n    //     petId: props.petId,\n    //     oldPatientId: props.patientId,\n\n    //   }, () => {\n    //     this._getPetInfo()\n    //   })\n    //   console.log(props);\n    // } else {\n    //   this._getPetInfo()\n    // }\n    let { petDetailInfo } = this.props\n    let { petId, patientId, petName, lastName, firstName, breedName, isWalkIn } = petDetailInfo\n    if (!isWalkIn) {\n      if (!patientId || patientId === 'unknown') {\n        patientId = null\n      }\n      this.setState({\n        patientId,\n        petId,\n        oldPatientId: patientId,\n        breedName: breedName\n\n      }, () => {\n        this._getPetInfo()\n      })\n    }\n\n\n    let dogBreed = electronStore.get('dogBreed') || []\n    let catBreed = electronStore.get('catBreed') || []\n    this.setState({\n      dogBreed,\n      catBreed\n    })\n    this.getBreed('cat')\n    this.getBreed('dog')\n    this.getUser()\n\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big', win())\n    this.setState({\n\n    })\n  }\n  getBreed = (val) => {\n    let data = {}\n    switch (val) {\n      case 'dog':\n        data.speciesId = 2; break;\n\n      case 'cat':\n        data.speciesId = 1; break;\n    }\n\n    fetchRequest(`/pet/selectBreedBySpeciesId`, 'POST', data)\n      .then(res => {\n        // console.log('---', res);\n        if (res.code === 0) {\n          let arr = []\n          res.petlist.map((item, index) => {\n            let data = {\n              petSpeciesBreedId: item.petSpeciesBreedId,\n              breedName: item.breedName\n            }\n            arr.push(data)\n          })\n          if (val === 'dog') {\n            this.setState({\n              dogBreed: arr\n            })\n            electronStore.set('dogBreed', arr)\n          } else if (val === 'cat') {\n            this.setState({\n              catBreed: arr\n            })\n            electronStore.set('catBreed', arr)\n          }\n\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n  getUser = () => {\n    let params = {\n      doctorId: storage.userId,\n    }\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      params.organizationId = storage.lastOrganization\n    }\n\n    console.log('查询宠物的入参', params);\n\n\n    fetchRequest(`/organization/listDoctorsByAdmin/${storage.lastOrganization}`, 'GET', params)\n      .then(res => {\n        console.log('人员列表', res);\n\n        if (res.flag === true && res.code === 20000) {\n          let data = []\n          for (let i = 0; i < res.data.length; i++) {\n            let { birthday, email, firstName, lastName, isLimit, isDeleted, phone, url, userId, createTime, roleId } = res.data[i]\n\n            let json = {\n              insertedAt: createTime,\n              breedName: `${lastName} ${firstName}`,\n              petSpeciesBreedId: userId,\n              email,\n              birthday,\n              isLimit,\n              isDeleted,\n              phone,\n              url,\n              firstName, lastName, roleId\n            }\n            data.push(json)\n          }\n          data.sort((a, b) => {\n            return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\n          })\n          this.setState({\n            doctorArr: data,\n            // parentList: data //这里只是测试，后期删除\n\n          })\n\n        }\n      })\n      .catch(err => {\n        console.log(err);\n\n      })\n  }\n\n  _getPetInfo = () => {\n    let { patientId, petId } = this.state\n    let datas = {\n      doctorId: storage.userId,\n    }\n    if (storage.lastWorkplaceId) {\n      datas.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      datas.org = storage.lastOrganization\n    }\n    if (patientId && patientId !== 'undefined') {\n      datas.patientId = patientId\n    }\n    if (petId) {\n      datas.petId = petId\n    }\n    this.setState({\n      spin: true\n    })\n    console.log('入参：', datas);\n    fetchRequest('/pet/getPetInfoByPatientIdAndPetId', 'POST', datas)\n      .then(res => {\n        this.setState({\n          spin: false\n        })\n        console.log('>>>>>>>>>>>>>>', res);\n        if (res.flag === true) {\n          //有宠物，进入1\n          let datas = []\n          for (let i = 0; i < res.data.length; i++) {\n            if (res.data[i].petId === this.state.petId) {\n              datas = res.data[i]\n              break\n            }\n          }\n          console.log('获取到宠物', datas);\n          let { petId, petName, lastName, firstName, breedName, isMix, birthday, weight, url, gender, speciesId, petSpeciesBreedId } = datas\n\n          if (isMix !== true) {\n            isMix = false\n          }\n          // petName = isNull(petName)\n          lastName = isNull(lastName)\n          firstName = isNull(firstName)\n          // breedName = isNull(breedName)\n\n          let confirmSelectBreedJson = {}\n          if (petSpeciesBreedId || petSpeciesBreedId === 0) {\n            confirmSelectBreedJson = {\n              name: breedName,\n              petSpeciesBreedId\n            }\n          }\n\n          url = isNull(url)\n          if (birthday != null) {\n            birthday = moment(birthday).format('MMMM D, YYYY')\n          }\n          else {\n            birthday = ''\n          }\n          if (gender === null || isNaN(gender) || `${gender}` === 'null' || `${gender}` === 'NaN') {\n            gender = 0\n          }\n          if (weight) {\n            weight = (weight * 2.2046).toFixed(1)\n          } else {\n            weight = ''\n          }\n          this.setState({\n            petId,\n            petName,\n            lastName,\n            firstName,\n            breedName,\n            isMix,\n            birthday,\n            weight,\n            imgurl: url,\n            gender,\n            petSpecies: speciesId,\n            initpetName: petName,\n            initlastName: lastName,\n            initfirstName: firstName,\n            confirmSelectBreedJson,\n            petSpeciesBreedId\n          })\n          switch (speciesId) {\n            case 1: this.selectWZ('cat'); break;\n            case 2: this.selectWZ('dog'); break;\n\n            default: this.selectWZ('other'); break;\n          }\n\n        } else {\n          message.destroy()\n          message.error('data load failed')\n        }\n      })\n      .catch(err => {\n        this.setState({\n          spin: false\n        })\n        console.log(err);\n        message.destroy()\n        message.error('data load failed')\n      })\n    const isNull = (value) => {\n      if (value === null || isNaN(value) || `${value}` === 'null' || `${value}` === 'NaN') {\n        return ''\n      } else {\n        return value\n      }\n    }\n\n  }\n\n  /**------------------顶部start------------------------ */\n  _close = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('关闭程序');\n    ipcRenderer.send('window-close')\n  }\n  _min = () => {\n    let ipcRenderer = window.electron.ipcRenderer\n    console.log('最小化程序');\n    ipcRenderer.send('window-min')\n    this.setState({\n      minbgc: '',\n    })\n  }\n  _minMove = () => {\n\n    this.setState({\n      minbgc: 'rgb(211, 205, 205)'\n    })\n  }\n  _minLeave = () => {\n    this.setState({\n      minbgc: ''\n    })\n  }\n  _closeMove = () => {\n    this.setState({\n      closeColor: 'red',\n      closebgc: '#fff'\n    })\n  }\n  _closeLeave = () => {\n    this.setState({\n      closeColor: '#fff',\n      closebgc: ''\n    })\n  }\n\n  /**------------------顶部end------------------------ */\n  selectWZ = (val) => {\n    let { catBreed, dogBreed } = this.state\n    switch (val) {\n      case 'dog':\n        this.setState({\n          catImg: cat,\n          dogImg: redDog,\n          otherImg: other,\n          selectWZ: val,\n          breedArr: [].concat(dogBreed)\n        })\n\n        break;\n\n      case 'cat':\n        this.setState({\n          catImg: redCat,\n          dogImg: dog,\n          otherImg: other,\n          selectWZ: val,\n          breedArr: [].concat(catBreed)\n        })\n\n        break;\n\n      case 'other':\n        this.setState({\n          catImg: cat,\n          dogImg: dog,\n          otherImg: redother,\n          selectWZ: val,\n          breedArr: []\n        })\n        break;\n\n      default:\n        break;\n    }\n  }\n  _petSpecies = () => {\n    let { petSpecies, dogImg, catImg, otherImg, imgurl } = this.state\n\n    this.avatar = imgurl ? imgurl : selectphoto\n\n    return (\n      <div className=\"petSpecies\"\n        style={{ marginTop: mTop(30) }}\n      >\n        <div className=\"l\">\n          <p style={{ color: '#A0A0A0', fontSize: '16px' }}>Pet Species</p>\n          <div className=\"selectSpecies\">\n            <ul>\n              <li >\n                <div className='speciesChild' >\n                  <div className='dog'\n\n                    onClick={() => { this.selectWZ('dog') }}>\n                    <img src={dogImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Dog\n                </div>\n              </li>\n              <li>\n                <div className='speciesChild' >\n                  <div className='dog' onClick={() => { this.selectWZ('cat') }} >\n                    <img src={catImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Cat\n                </div>\n              </li>\n              <li >\n                <div className='speciesChild' >\n                  <div className='dog' onClick={() => { this.selectWZ('other') }} >\n                    <img src={otherImg} alt=\"\" style={{ width: px(40) }} />\n                  </div>\n                  Other\n                </div>\n              </li>\n\n            </ul>\n          </div>\n        </div>\n        <div className=\"r\">\n          <div className=\"img\">\n            <Avatar\n              init={\n                <div className=\"ciral \">\n                  <img src={this.avatar} alt=\"\" id=\"touxiang\" height=\"280px\" />\n                  <p style={{ fontSize: px(14), height: mTop(35) }}>Upload Photo</p>\n                </div>\n              }\n              getinfo={(val) => {\n                if (val) {\n                  this.setState({\n                    imageId: val\n                  })\n                }\n\n              }}\n              getAllInfo={(val) => {\n                if (val.url) {\n                  this.setState({\n                    petUrl: val.url\n                  })\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n  _petName = () => {\n    let birthday = this.state.birthday\n    let birthdayValue = birthday ? moment(birthday) : moment(new Date())\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(30) }}>\n        <div className=\"l\">\n          <p >Pet Name</p>\n          <div className=\"infoInput\">\n            <Input\n              bordered={false}\n              value={this.state.initpetName}\n              onChange={(item) => {\n                this.setState({\n                  petName: item.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\"),\n                  initpetName: item.target.value\n                })\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"r\">\n          <p >Pet Birthday</p>\n          <div className=\"infoInput\" >\n            <p style={{ weight: '60px', height: '27px', padding: 0, margin: 0 }} onClick={() => {\n              document.getElementById('calendar').style.display = 'block'\n            }}>{this.state.birthday}</p>\n            <div className=\"calendar\" id=\"calendar\">\n              <Calendar\n                fullscreen={false}\n                headerRender={({ value, type, onChange, onTypeChange }) => {\n                  const start = 0;\n                  const end = 12;\n                  const monthOptions = [];\n\n                  const current = value.clone();\n                  const localeData = value.localeData();\n                  const months = [];\n                  for (let i = 0; i < 12; i++) {\n                    current.month(i);\n                    months.push(localeData.monthsShort(current));\n                  }\n\n                  for (let index = start; index < end; index++) {\n                    monthOptions.push(\n                      <Select.Option className=\"month-item\" key={`${index}`}>\n                        {months[index]}\n                      </Select.Option>\n                    );\n                  }\n                  const month = value.month();\n\n                  const year = value.year();\n                  const options = [];\n                  for (let i = year - 10; i < year + 10; i += 1) {\n                    options.push(\n                      <Select.Option key={i} value={i} className=\"year-item\">\n                        {i}\n                      </Select.Option>\n                    );\n                  }\n                  return (\n                    <div style={{ padding: 8 }}>\n                      <Row gutter={8}>\n                        <Col>\n                          <Select\n                            size=\"small\"\n                            dropdownMatchSelectWidth={false}\n                            className=\"my-year-select\"\n                            onChange={(newYear) => {\n                              const now = value.clone().year(newYear);\n                              onChange(now);\n                            }}\n                            value={String(year)}\n                          >\n                            {options}\n                          </Select>\n                        </Col>\n                        <Col>\n                          <Select\n                            size=\"small\"\n                            dropdownMatchSelectWidth={false}\n                            value={String(month)}\n                            onChange={(selectedMonth) => {\n                              const newValue = value.clone();\n                              newValue.month(parseInt(selectedMonth, 10));\n                              onChange(newValue);\n                            }}\n                          >\n                            {monthOptions}\n                          </Select>\n                        </Col>\n                        {/* <Col>\n                          <div className=\"btn\" onClick={() => {\n                            document.getElementById('calendar').style.display = 'none'\n                          }}>\n                            Choose this date\n                          </div>\n\n                        </Col> */}\n                      </Row>\n                    </div>\n                  );\n                }}\n                value={birthdayValue}\n                onSelect={(value) => {\n                  console.log(value);\n                  this.setState({\n                    birthday: moment(value).format('MMMM D, YYYY')\n                  })\n                  document.getElementById('calendar').style.display = 'none'\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n  _ownName = () => {\n    let { confirmSelectUserJson } = this.state\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(18), alignItems: 'flex-end' }}\n      >\n        <div className=\"l\">\n          <p ><span style={{ color: 'red' }}>*</span> Patient ID</p>\n          <div className=\"infoInput\">\n            <Input bordered={false}\n              value={this.state.patientId}\n              onChange={(item) => {\n                this.setState({\n                  patientId: item.target.value.replace(/\\s/g, \"\"),\n                  intFlog: true\n                })\n                if (item.target.value !== errPatientId) {\n                  message.destroy()\n                }\n              }}\n              onBlur={() => {\n                if (this.state.patientId === this.state.oldPatientId) {\n                  return\n                }\n                if (this.state.patientId === '') {\n                  message.error('The pet ID cannot be empty');\n                  return\n                }\n                let params = {\n                  patientId: this.state.patientId,\n                  doctorId: storage.userId\n                }\n                if (storage.lastWorkplaceId) {\n                  params.workplaceId = storage.lastWorkplaceId\n                }\n                if (storage.lastOrganization) {\n                  params.organizationId = storage.lastOrganization\n                }\n\n                fetchRequest(`/pet/checkPatientId`, \"GET\", params)\n                  .then(res => {\n                    if (res.flag === false) {\n                      errPatientId = params.patientId\n                      message.error('This patient ID is already occupied, please change to a new one');\n                    } else {\n                      errPatientId = '';\n                      message.success('This pet ID will work');\n                    }\n                  })\n                  .catch(err => {\n                    console.log(err);\n\n                  })\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"r\">\n          <div className=\"infoInput flex\"\n            style={{ marginTop: px(8), flexDirection: 'row', justifyContent: 'space-between', cursor: 'pointer', }}\n            onClick={() => {\n\n              this.setState({\n                // selectUser: true\n              })\n            }}\n          >\n            <div className=\"myBreed\" style={{ width: '90%', height: px(25) }}>{confirmSelectUserJson.name ? confirmSelectUserJson.name : 'My Parents'}</div>\n            <div className=\"nextimg\" >\n              <img src={nextImg} style={{ height: px(15) }} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  _select = (value, data) => {\n    console.log(value, data);  //value的值为id\n    this.setState({\n      petSpeciesBreedId: value,\n      breedName: data.children\n    })\n  }\n  _primaryBreed = () => {\n    let options = null\n    options = this.state.breedArr.map(d => <Option key={d.petSpeciesBreedId}>{d.breedName}</Option>);\n    let { breedName, confirmSelectBreedJson } = this.state\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(30), alignItems: 'flex-end', }}>\n        <div className=\"l\">\n          <div className=\"infoInput flex\"\n            style={{ marginTop: px(8), flexDirection: 'row', justifyContent: 'space-between', cursor: 'pointer' }}\n            onClick={() => {\n              this.setState({\n                selectBreed: true\n              })\n            }}\n          >\n            <div className=\"myBreed\" style={{ width: '90%', height: px(25) }}>\n              {\n                confirmSelectBreedJson.name ? confirmSelectBreedJson.name : 'My Breed'\n              }\n            </div>\n            <div className=\"nextimg\" >\n              <img src={nextImg} style={{ height: px(15) }} />\n            </div>\n          </div>\n        </div>\n        <div className=\"r\" >\n          <div className=\"max\">\n            Mix?\n            <div className=\"selected\"\n              onClick={() => this.setState({\n                isMix: !this.state.isMix\n              })}\n            >\n              {(this.state.isMix) ? (<img src={dui} alt=\"\" width='20px' />) : (null)}\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n  _weight = () => {\n    let ibBgcColor = '', ibCor = '', kgBgcColor = '', kgCor = '', femaleBgc = '', maleBgc = '';\n    switch (this.state.unit) {\n      case 1: ibBgcColor = '#E1206D'; ibCor = '#fff'; kgBgcColor = '#fff'; kgCor = '#E1206D'; break;\n      case 2: ibBgcColor = '#fff'; ibCor = '#E1206D'; kgBgcColor = '#E1206D'; kgCor = '#fff'; break;\n    }\n    switch (this.state.gender) {\n      case 1: femaleBgc = '#E1206D'; maleBgc = '#F08FB6'; break;\n      case 0: femaleBgc = '#F08FB6'; maleBgc = '#E1206D'; break;\n    }\n    return (\n      <div className=\"petName\" style={{ marginTop: mTop(30) }}>\n        <div className=\"l\">\n          <p >Pet Weight</p>\n          <div className=\"infoInput\">\n            <Input bordered={false}\n              value={this.state.weight}\n              onChange={(item) => {\n\n                this.setState({\n                  weight: item.target.value\n                })\n              }}\n            />\n            <div className=\"ibKg\">\n              <div className=\"ibs\"\n                style={{ backgroundColor: ibBgcColor, color: ibCor }}\n                onClick={() => {\n                  if (this.state.unit === 2) {\n\n                    this.setState({\n                      unit: 1,\n                      weight: (this.state.weight * 2.2046).toFixed(1)\n                    })\n                  }\n                }}\n              >Ibs</div>\n              <div className=\"kgs\"\n                style={{ backgroundColor: kgBgcColor, color: kgCor }}\n                onClick={() => {\n\n                  if (this.state.unit === 1) {\n\n                    this.setState({\n                      unit: 1,\n                      weight: (this.state.weight / 2.2046).toFixed(1)\n                    })\n                  }\n                  this.setState({ unit: 2 })\n                }}\n              >kgs</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"r\">\n          <p style={{ color: '#4a4a4a', fontSize: '17px', marginTop: '20px' }}>Pet Gender</p>\n          <div className=\"gender\">\n            <div className=\"selectGender\">\n              <div className=\"female\" style={{ marginRight: px(8), fontSize: px(18) }}>\n                <div className=\"femaleCiral\"\n                  style={{ backgroundColor: femaleBgc, width: px(40), height: px(40), }}\n                  onClick={() => this.setState({ gender: 1 })}\n                >\n                  <img src={female} alt=\"\" style={{ width: px(15) }} />\n                </div>\n                Female\n              </div>\n              <div className=\"male\" style={{ fontSize: px(18) }}>\n                <div className=\"maleCiral\"\n                  style={{ backgroundColor: maleBgc, width: px(40), height: px(40), }}\n                  onClick={() => this.setState({ gender: 0 })}\n                >\n                  <img src={male} alt=\"\" style={{ width: px(20) }} />\n                </div>\n                Male\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n\n  render() {\n    const { closeColor, closebgc, minbgc } = this.state\n\n    return (\n      <div id=\"editPetInfo\">\n        {/* 头部 */}\n        <div className=\"close1\">\n          {/* 菜单 */}\n          <div className=\"menu\">\n            <MyIcon type='icon-fanhui4' className=\"icon\" onClick={() => {\n              // if (storage.goEditPet === \"mesasure\") {\n              //   this.props.history.push({ pathname: 'page8', participate: { patientId: this.state.patientId } })\n              // } else {\n              //   this.props.history.goBack()\n              // }\n              this.props.history.goBack()\n            }} />\n          </div>\n          <div className=\"text\">mella</div>\n          <div className='maxmin'>\n            <div\n              className=\"min iconfont icon-64\"\n              onClick={this._min}\n              onMouseEnter={this._minMove}\n              onMouseLeave={this._minLeave}\n              style={{ backgroundColor: minbgc }}\n            ></div>\n\n            <div\n              className=\"max iconfont icon-guanbi2\"\n              onClick={this._close}\n              onMouseEnter={this._closeMove}\n              onMouseLeave={this._closeLeave}\n              style={{ backgroundColor: closebgc, color: closeColor }}\n            ></div>\n          </div>\n        </div>\n        <div className=\"editPetInfo_top\">\n          <div className=\"title\">{`${this.state.patientId}, ${this.state.petName}`}</div>\n          {this._petSpecies()}\n          {this._petName()}\n          {this._ownName()}\n          {this._primaryBreed()}\n          {this._weight()}\n        </div>\n        <div className=\"editPetInfo_foot\">\n          <div className=\"save\"\n            onClick={() => {\n              let { petName, birthday, firstName, lastName, petSpeciesBreedId, isMix, weight, gender, unit, imageId, breedName, petId, confirmSelectBreedJson, confirmSelectUserJson } = this.state\n              console.log('生日：', birthday);\n              if (unit === 1) {\n                weight = (0.45359 * weight).toFixed(2)\n              }\n              let data = {}\n              if (this.state.patientId === this.state.oldPatientId) {\n                data = {\n                  petName,\n                  weight: parseFloat(weight),\n                  gender,\n                  firstName,\n                  lastName,\n                  // patientId: this.state.patientId,\n                }\n              } else {\n                data = {\n                  petName,\n                  weight: parseFloat(weight),\n                  gender,\n                  firstName,\n                  lastName,\n                  patientId: this.state.patientId,\n                }\n              }\n\n\n              if (birthday) {\n                data.birthday = moment(birthday).format('YYYY-MM-DD')\n              }\n              if (imageId !== -1) {\n                data.imageId = imageId\n              }\n              // if (breedName) {\n              //   data.breedName = breedName\n              // }\n              if (confirmSelectBreedJson.name) {\n                data.breedName = confirmSelectBreedJson.name\n              }\n              if (confirmSelectUserJson.petSpeciesBreedId) {\n                data.userId = confirmSelectUserJson.petSpeciesBreedId\n              }\n              if (storage.lastOrganization) {\n                data.organizationId = storage.lastOrganization\n              }\n              if (this.state.patientId === '') {\n                message.error('The pet ID cannot be empty');\n              } else {\n                this.setState({\n                  spin: true\n                })\n                fetchRequest(`/pet/updatePetInfo/${petId}`, 'POST', data)\n                  .then(res => {\n                    this.setState({\n                      spin: false\n                    })\n                    console.log(res);\n                    if (res.flag === true) {\n                      try {\n                        if (storage.identity === '3') {\n                          let data = JSON.parse(storage.doctorExam)\n                          data.petName = petName\n                          data.weight = weight\n                          data.gender = gender\n                          data.patientId = this.state.patientId\n                          if (birthday) {\n                            data.age = moment(new Date()).diff(moment(birthday), 'years')\n                          }\n                          if (confirmSelectBreedJson.name) {\n                            data.breed = confirmSelectBreedJson.name\n                          }\n                          if (this.state.petUrl) {\n                            data.url = this.state.petUrl\n                          }\n\n                          storage.doctorExam = JSON.stringify(data)\n                        }\n                      } catch (error) {\n\n                      }\n                      this.props.petDetailInfoFun({ ...this.props.petDetailInfo, petName, birthday, patientId: this.state.patientId })\n                      this.props.history.goBack()\n                    } else {\n                      message.error('This patient ID is already occupied, please change to a new one')\n                    }\n                  })\n                  .catch(err => {\n                    this.setState({\n                      spin: false\n                    })\n                    console.log(err);\n                  })\n              }\n            }}\n\n          >Save Changes</div>\n\n        </div>\n        <MyModal\n          visible={this.state.spin}\n        />\n        <MyModal\n          // visible={true}\n          visible={this.state.selectBreed}\n          element={\n            <div className='myfindOrg' >\n              <div className=\"orgHeard\">\n                <div className=\"titleicon\" style={{ marginTop: px(5) }}>\n                  <div>\n\n                  </div>\n                  <div\n                    onClick={() => {\n                      this.setState({\n                        selectBreed: false,\n                        selectBreedJson: {}\n                      })\n                    }}\n                  >\n                    <img src={Close} alt=\"\" style={{ width: px(25) }} />\n                  </div>\n                </div>\n                <div className=\"text\" >Choose Breed</div>\n\n                <div className=\"searchBox\">\n\n                  <Input\n                    placeholder=\" &#xe61b; Search name\"\n                    bordered={false}\n                    allowClear={true}\n                    value={this.state.searchBreed}\n                    onChange={(item) => {\n\n                      this.setState({\n                        searchBreed: item.target.value\n                      })\n                    }}\n\n                  />\n\n                </div>\n              </div>\n\n\n              <div className=\"list\" >\n                <PhoneBook\n                  listDate={this.state.breedArr}\n                  confirmSelectBreed={this.state.petSpeciesBreedId}\n                  selectFun={(val) => {\n                    // console.log('从子组件传来的数据', val);\n                    this.setState({\n                      selectBreedJson: val,\n                      petSpeciesBreedId: val.petSpeciesBreedId\n                    })\n\n\n                  }}\n                  searchText={this.state.searchBreed}\n                />\n              </div>\n\n              <div className=\"foot\">\n                <Button\n                  text={'Select'}\n                  onClick={() => {\n                    this.setState({\n                      confirmSelectBreedJson: this.state.selectBreedJson,\n                      selectBreed: false\n                    })\n                  }}\n                />\n\n              </div>\n\n            </div>\n          }\n        />\n\n        <MyModal\n          visible={this.state.selectUser}\n          element={\n            <div className='myfindOrg' >\n              <div className=\"orgHeard\">\n                <div className=\"titleicon\" style={{ marginTop: px(5) }}>\n                  <div>\n\n                  </div>\n                  <div\n                    onClick={() => {\n                      this.setState({\n                        selectUser: false,\n                        selectUserJson: {}\n                      })\n                    }}\n                  >\n                    <img src={Close} alt=\"\" style={{ width: px(25) }} />\n                  </div>\n                </div>\n                <div className=\"text\" >Choose Parents</div>\n\n                <div className=\"searchBox\">\n\n                  <Input\n                    placeholder=\" &#xe61b; Search name\"\n                    bordered={false}\n                    allowClear={true}\n                    value={this.state.searchBreed}\n                    onChange={(item) => {\n\n                      this.setState({\n                        searchBreed: item.target.value\n                      })\n                    }}\n\n                  />\n\n                </div>\n              </div>\n\n\n              <div className=\"list\" >\n                <PhoneBook\n                  listDate={this.state.doctorArr}\n                  confirmSelectBreed={this.state.selectUserId}\n                  selectFun={(val) => {\n\n                    this.setState({\n                      selectUserJson: val,\n                      selectUserId: val.petSpeciesBreedId\n                    })\n\n\n                  }}\n                  searchText={this.state.searchBreed}\n                />\n              </div>\n\n              <div className=\"foot\">\n                <Button\n                  text={'Select'}\n                  onClick={() => {\n                    this.setState({\n                      confirmSelectUserJson: this.state.selectUserJson,\n                      selectUser: false\n                    })\n                  }}\n                />\n\n              </div>\n\n            </div>\n          }\n        />\n\n      </div>\n    )\n  }\n}\nexport default connect(\n  state => ({\n    petDetailInfo: state.petReduce.petDetailInfo\n  }),\n  { petDetailInfoFun }\n)(EditPetInfo)\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\hardWareTypeUI.jsx",["756","757","758"],"import React, { Component, useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { px } from \"../../utils/px\";\r\nimport mellaPro from \"./../../assets/img/hardList-mella.png\";\r\nimport biggie from \"./../../assets/img/hardList-biggie.png\";\r\nimport rfid from \"./../../assets/img/hardList-rfid.png\";\r\nimport tape from \"./../../assets/img/hardList-tape.png\";\r\nimport add from \"./../../assets/img/hardList-add.png\";\r\nimport maeBowl from \"./../../assets/img/hardList-maeBowl.png\";\r\nimport otterEQ from \"./../../assets/img/hardList-otterEQ.png\";\r\nimport {\r\n  selectHardwareInfoFun,\r\n  setSelectHardwareType,\r\n  setMenuNum,\r\n} from \"./../../store/actions\";\r\nimport electronStore from \"../../utils/electronStore\";\r\n\r\nlet storage = window.localStorage;\r\n//devicesTypeList是index传过来的硬件种类以及种类下的所有硬件\r\nconst HardWareTypeUI = ({\r\n  bodyHeight,\r\n  devicesTypeList,\r\n  selectHardwareInfoFun,\r\n  setSelectHardwareType,\r\n  selectHardwareType,\r\n  setMenuNum,\r\n  menuNum,\r\n}) => {\r\n  //根据左侧列表的设备类型，获取当前选中的设备类型下选中的硬件,先看本地有没有存,没存就拿第一个展示\r\n\r\n  let options = devicesTypeList.map((item, index) => {\r\n    let img = null;\r\n    switch (item.type) {\r\n      case \"mellaPro\":\r\n        img = mellaPro;\r\n        break;\r\n\r\n      case \"biggie\":\r\n        img = biggie;\r\n        break;\r\n\r\n      case \"rfid\":\r\n        img = rfid;\r\n        break;\r\n\r\n      case \"tape\":\r\n        img = tape;\r\n        break;\r\n      case \"maeBowl\":\r\n        img = maeBowl;\r\n        break;\r\n      case \"add\":\r\n        img = add;\r\n        break;\r\n\r\n      case \"otterEQ\":\r\n        img = otterEQ;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    let borderStyle = ``;\r\n    if (item.type === selectHardwareType) {\r\n      borderStyle = ` 2px solid #3B3A3A`;\r\n    }\r\n\r\n    return (\r\n      <li\r\n        key={`${index}`}\r\n        style={{ padding: `${px(10)}px 0` }}\r\n        onClick={() => {\r\n          console.log(item.type);\r\n          if (menuNum !== \"6\"&&!electronStore.get(`${storage.userId}-isClical`)) {\r\n            setMenuNum(\"1\");\r\n            setSelectHardwareType(item.type);\r\n            if (item.type === \"add\") {\r\n            } else {\r\n              let devicesInfo = electronStore.get(\r\n                `${storage.lastOrganization}-${storage.userId}-${item.type}-selectDeviceInfo`\r\n              );\r\n\r\n              //要做个处理,看保存的数据是否和当前的一致，如果不一致，就把当前的保存下来\r\n\r\n              if (!devicesInfo && item.devices[0]) {\r\n                devicesInfo = item.devices[0];\r\n                electronStore.set(\r\n                  `${storage.lastOrganization}-${storage.userId}-${item.type}-selectDeviceInfo`,\r\n                  devicesInfo\r\n                );\r\n              }\r\n\r\n              selectHardwareInfoFun(devicesInfo);\r\n            }\r\n          } else {\r\n            setSelectHardwareType(\"mellaPro\");\r\n          }\r\n        }}\r\n      >\r\n        <div\r\n          style={{ border: borderStyle, padding: px(2), borderRadius: px(10) }}\r\n        >\r\n          <img src={img} alt=\"\" width={px(55)} />\r\n        </div>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    let Index = null;\r\n    for (let i = 0; i < devicesTypeList.length; i++) {\r\n      const element = devicesTypeList[i];\r\n      if (element.type === selectHardwareType) {\r\n        Index = i;\r\n        break;\r\n      }\r\n    }\r\n    if (Index === null) {\r\n      return;\r\n    }\r\n\r\n    let hard = devicesTypeList[Index];\r\n    if (hard && hard.type !== \"add\") {\r\n      let devicesInfo = electronStore.get(\r\n        `${storage.lastOrganization}-${storage.userId}-${hard.type}-selectDeviceInfo`\r\n      );\r\n\r\n      if (!devicesInfo) {\r\n        devicesInfo = hard.devices[0];\r\n        electronStore.set(\r\n          `${storage.lastOrganization}-${storage.userId}-${hard.type}-selectDeviceInfo`,\r\n          devicesInfo\r\n        );\r\n      } else {\r\n        let sameFlag = false;\r\n        console.log(\"============\", hard.devices, devicesInfo);\r\n        for (let i = 0; i < hard.devices.length; i++) {\r\n          const element = hard.devices[i];\r\n          if (\r\n            element.mac === devicesInfo.mac &&\r\n            element.name === devicesInfo.name\r\n          ) {\r\n            sameFlag = true;\r\n            break;\r\n          }\r\n        }\r\n        if (!sameFlag) {\r\n          devicesInfo = hard.devices[0];\r\n          electronStore.set(\r\n            `${storage.lastOrganization}-${storage.userId}-${hard.type}-selectDeviceInfo`,\r\n            devicesInfo\r\n          );\r\n        }\r\n      }\r\n\r\n      console.log(\"保存的折本信息\", devicesInfo);\r\n\r\n      selectHardwareInfoFun(devicesInfo);\r\n    }\r\n  }, [devicesTypeList]);\r\n\r\n  return (\r\n    <div className=\"hardwareType\" style={{ width: px(80), height: bodyHeight }}>\r\n      <ul>{options}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nHardWareTypeUI.propTypes = {\r\n  bodyHeight: PropTypes.number,\r\n  devicesTypeList: PropTypes.array,\r\n};\r\n//默认值\r\nHardWareTypeUI.defaultProps = {\r\n  bodyHeight: 0,\r\n  devicesTypeList: [],\r\n};\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    selectHardwareType: state.hardwareReduce.selectHardwareType,\r\n    menuNum: state.userReduce.menuNum,\r\n  }),\r\n  { selectHardwareInfoFun, setSelectHardwareType, setMenuNum }\r\n)(HardWareTypeUI);\r\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\mainbody\\index.jsx",["759","760","761","762","763","764","765","766","767","768"],"import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Heard from \"../../utils/heard/Heard\";\nimport { mTop, px, pX, win, timerFun } from \"../../utils/px\";\nimport HardAndPetsUI from \"./HardAndPetsUI\";\nimport HardWareTypeUI from \"./hardWareTypeUI\";\nimport TemperaturePage from \"../../pages/temperaturePage\";\nimport {\n  setHardwareList,\n  selectHardwareModalShowFun,\n  setIsHaveUsbDeviceFun,\n  setMellaConnectStatusFun,\n  setMellaMeasureValueFun,\n  setMellaPredictValueFun,\n  setMellaMeasurePartFun,\n  setMellaDeviceIdFun,\n  setMellaMeasureNumFun,\n  setBiggieConnectStatusFun,\n  setBiggieBodyFatFun,\n  setBiggieBodyWeightFun,\n  setBiggieUnitFun,\n  setBiggieSameWeightCountFun,\n  setRulerConnectStatusFun,\n  setRulerMeasureValueFun,\n  setRulerUnitFun,\n  setRulerConfirmCountFun,\n  setReceiveBroadcastHardwareInfoFun,\n} from \"../../store/actions\";\nimport \"./mainbody.less\";\nimport { message } from \"antd\";\nimport electronStore from \"../../utils/electronStore\";\nimport AddDevice from \"./AddDevice\";\nimport BiggiePage from \"../../pages/biggiePage\";\nimport ScanPage from \"../../pages/scanPage\";\nimport { compareObject } from \"../../utils/current\";\nimport { compareArray } from \"../../utils/current\";\nimport AllPets from \"../../pages/allPetsPage\";\nimport ScheduledPetPage from \"../../pages/scheduledPetsPage\";\nimport AddScheduledPet from \"../../pages/addScheduledPet\";\nimport ClininalStudy from \"../../pages/clinicalStudyPage\";\nimport CombineScales from \"../../pages/combineScales\";\nimport OtterEQPage from '../../pages/otterEQ';\nimport MyAccount from \"../../pages/myAccount\";\nimport { Modal } from \"antd\";\n\nlet ipcRenderer = window.require(\"electron\").ipcRenderer;\nlet isMeasure = false; //是否正在测量,用于判断是否需要发送指定指令给USB,查看硬件是否连接\nlet initTime = 0; //初始化时间,用来计算底座没有回应温度计的时间差,如果时间差大于6秒代表断开连接\nlet num07 = 0; //接收到07命令行的次数,次数大于3跳出弹框\nlet firstEar = true; //为true代表一组数据测量完成,下组测量数据\nlet is97Time = null; //为了防抖，因为有时候断开连接和连接成功总是连续的跳出来，展示就会一直闪烁，因此引入时间差大于800ms才展示\nlet exchangeNum = 0; //奇数发送查询探头id指令，偶数发送询问配置\nlet time194 = 0\n\n//用于预测的东西\nlet clinicalYuce = [],\n  clinicalIndex = 0;\n\nlet storage = window.localStorage;\n\nclass App extends Component {\n  state = {\n    //body部分窗口高度\n    bodyHeight: 0,\n    //本地保存的硬件类型数组,不包括Add这个类型\n    devicesTypeList: [],\n    //展示硬件类型的数组\n    showHardWareTypeList: [],\n    //是否有USB设备\n    isHaveUsbDevice: true,\n    //mella温度计测量状态\n    mellaMeasureStatus: \"disconnected\", //connected,disconnected,isMeasuring,complete\n\n    //点击菜单的序号\n    clickMenuIndex: \"1\",\n    err07Visible: false,\n    units: '℉'\n  };\n  componentDidMount() {\n    ipcRenderer.send(\"big\", win());\n    timerFun();\n    ipcRenderer.on(\"changeFenBianLv\", this.changeFenBianLv);\n    //获取窗口高度\n    this.resize();\n    //react监听屏幕窗口改变\n    window.addEventListener(\"resize\", this.resize);\n\n    //获取设备类型\n    this.getDevicesType();\n\n    //检测USB设备发来的信息\n    ipcRenderer.on(\"sned\", this._send);\n    //检测是否有USB设备\n    ipcRenderer.on(\"noUSB\", this._noUSB);\n    //定时查看mella温度计是否与底座连接或断开\n    this._whether_to_connect_to_mella();\n\n    //获取本地设置\n    this.getLocalSetting();\n    //获取单位\n    let hardSet = electronStore.get(`${storage.userId}-hardwareConfiguration`) || {}\n    console.log('----', hardSet);\n    let { isHua, } = hardSet\n    if (isHua === false) {\n      this.setState({\n        units: '℃'\n      })\n    } else {\n      this.setState({\n        units: '℉'\n      })\n    }\n\n\n  }\n  componentWillUnmount() {\n    //组件销毁，取消监听\n    window.removeEventListener(\"resize\", this.resize);\n    ipcRenderer.removeListener(\"changeFenBianLv\", this.changeFenBianLv);\n    ipcRenderer.removeListener(\"sned\", this._send);\n    ipcRenderer.removeListener(\"noUSB\", this._noUSB);\n    this.detectTimer && clearInterval(this.detectTimer);\n    this.rulerTimer && clearTimeout(this.rulerTimer);\n  }\n  //检测到props里的hardwareList更新\n  UNSAFE_componentWillReceiveProps(prevProps) {\n    //对比props里的hardwareList和state里的hardwareList是否相同\n\n    if (!compareArray(prevProps.hardwareList, this.state.devicesTypeList)) {\n      let showHardWareTypeList = [].concat(prevProps.hardwareList);\n      showHardWareTypeList.push({\n        type: \"add\",\n        devices: [],\n      });\n      this.setState({\n        devicesTypeList: prevProps.hardwareList,\n        showHardWareTypeList,\n      });\n    }\n    if (!compareObject(prevProps.menuNum, this.state.clickMenuIndex)) {\n      this.setState({\n        clickMenuIndex: prevProps.menuNum,\n      });\n    }\n  }\n\n  changeFenBianLv = (e) => {\n    let ipcRenderer = window.electron.ipcRenderer;\n    // ipcRenderer.send('small')\n    ipcRenderer.send(\"big\", win());\n    // this.setState({}, () => {\n    //   if (this.props.test) {\n    //     if (this.props.test.current) {\n    //       this.props.test.current.getEchartsInstance().dispose();\n    //       this.props.test.current.getEchartsInstance().clear();\n    //       setTimeout(() => {\n    //         this.props.test.current.getEchartsInstance().resize();\n    //       }, 500);\n    //     }\n    //   }\n    // });\n\n  };\n  //获取本地设置\n  getLocalSetting = () => {\n    let hardSet = electronStore.get(`${storage.userId}-hardwareConfiguration`);\n    if (!hardSet) {\n      let settings = {\n        isHua: true,\n        is15: true,\n        self_tarting: false, //自启动\n        isBacklight: true,\n        isBeep: true,\n        backlightTimer: { length: 140, number: \"45\" },\n        autoOff: { length: 0, number: \"30\" },\n      };\n      electronStore.set(`${storage.userId}-hardwareConfiguration`, settings);\n    }\n  };\n  //检测USB设备发来的信息\n  _send = (e, data) => {\n    // console.log('检测USB设备发来的信息', data)\n    //data就是测量的数据，是十进制的数字\n    this.command(data)();\n  };\n  //监听是否有USB设备,true代表没有USB设备，false代表有USB设备\n  _noUSB = (e, data) => {\n    if (data === false) {\n      message.destroy();\n    } else {\n      if (this.state.isHaveUsbDevice) {\n        message.destroy();\n        message.error(\"The base is not detected. Please insert the base\", 0);\n      }\n    }\n    if (data === this.props.isHaveUsbDevice) {\n      this.props.setIsHaveUsbDeviceFun(!data);\n    }\n    if (data === this.state.isHaveUsbDevice) {\n      this.setState({\n        isHaveUsbDevice: !data,\n      });\n    }\n  };\n  //监听mella温度计是否与底座连接或断开\n  _whether_to_connect_to_mella = () => {\n    console.log(\"监听mella温度计是否与底座连接或断开\");\n    message.destroy();\n    this.detectTimer && clearInterval(this.detectTimer);\n    //2秒检测一次\n    this.detectTimer = setInterval(() => {\n      exchangeNum++;\n      //如果正在测量或者没有USB设备，不检测\n      if (isMeasure || !this.state.isHaveUsbDevice) {\n        return;\n      }\n      if (exchangeNum % 2 === 0) {\n        //让底座发送查询温度计信息指令\n        ipcRenderer.send(\"usbdata\", { command: \"07\", arr: [\"5A\"] });\n      } else {\n        ipcRenderer.send(\"usbdata\", { command: \"31\", arr: [\"5A\"] });\n      }\n\n      //如果底座没有回应，则计算时间差,时间差大于5秒，则没与温度计连接\n      if (new Date() - initTime > 6000) {\n        this._disconnect_to_mella();\n      } else {\n      }\n    }, 2000);\n  };\n  //底座与温度计断开连接\n  _disconnect_to_mella = () => {\n    let { setMellaConnectStatusFun, mellaConnectStatus, setMellaDeviceIdFun } =\n      this.props;\n    if (mellaConnectStatus !== \"disconnected\") {\n      setMellaConnectStatusFun(\"disconnected\");\n    }\n    setMellaDeviceIdFun(\"\");\n  };\n  //底座与温度计连接\n  _connect_to_mella = () => {\n    let { setMellaConnectStatusFun, mellaConnectStatus } = this.props;\n    if (mellaConnectStatus !== \"connected\") {\n      setMellaConnectStatusFun(\"connected\");\n    }\n  };\n\n  // newArr 指的是十进制数字数组，   dataArr1:指的是16进制字符串数组\n  command = (newArr) => {\n    let dataArr1 = newArr.map((item) => {\n      if (item.toString(16).length < 2) {\n        return \"0\" + item.toString(16);\n      } else {\n        return item.toString(16);\n      }\n    });\n    //除了255,其他都是温度计的数据\n    let {\n      setMellaConnectStatusFun,\n      setMellaMeasureValueFun,\n      setMellaPredictValueFun,\n      setMellaMeasurePartFun,\n      mellaMeasurePart,\n      mellaConnectStatus,\n      setBiggieBodyFatFun,\n      setBiggieBodyWeightFun,\n      setBiggieConnectStatusFun,\n      setBiggieUnitFun,\n      setBiggieSameWeightCountFun,\n    } = this.props;\n    let {\n      biggieConnectStatus,\n      biggieBodyFat,\n      biggieBodyWeight,\n      biggieUnit,\n      biggieSameWeightCount,\n    } = this.props.hardwareReduce;\n\n    const instruction = [\n      209, 193, 192, 129, 135, 238, 98, 97, 130, 208, 177, 194, 7, 99, 255, 182,\n    ];\n\n    if (newArr[2] !== 7 && newArr[2] !== 255 && newArr[2] !== 182) {\n      initTime = new Date();\n      num07 = 0;\n      if (mellaConnectStatus === \"disconnected\") {\n        this._connect_to_mella();\n      }\n    } else {\n      num07++;\n    }\n\n    const commandArr = {\n      209: () => {\n        //腋温\n        //第一次测量去获取探头ID\n        if (firstEar) {\n          firstEar = false;\n          console.log(\"去获取探头id\");\n          ipcRenderer.send(\"usbdata\", { command: \"31\", arr: [] });\n          //重新测量,清空预测值\n          clinicalYuce = [];\n          clinicalIndex = 0;\n        }\n        let temp1 = parseFloat(`${dataArr1[3]}.${dataArr1[4]}`);\n        let temp0 = parseFloat(`${dataArr1[5]}.${dataArr1[6]}`);\n        let Temp = temp0;\n        if (\n          Temp === 24.7 ||\n          Temp === 0 ||\n          Temp === null ||\n          Temp === undefined\n        ) {\n          return;\n        }\n\n        let dataS = {\n          sample: clinicalIndex++,\n          data0: temp0,\n          data1: temp1,\n        };\n        clinicalYuce.push(dataS);\n        if (clinicalYuce.length >= 30) {\n          setMellaPredictValueFun(clinicalYuce);\n        }\n        setMellaMeasureValueFun(Temp);\n        if (mellaConnectStatus !== \"isMeasuring\") {\n          setMellaConnectStatusFun(\"isMeasuring\");\n        }\n\n        if (mellaMeasurePart !== \"腋温\" || mellaMeasurePart !== \"肛温\") {\n          setMellaMeasurePartFun(\"腋温\");\n        }\n        this.props.setMellaMeasureNumFun(this.props.mellaMeasureNum + 1);\n      },\n      208: () => {\n        //耳温\n\n        if (firstEar) {\n          firstEar = false;\n          ipcRenderer.send(\"usbdata\", { command: \"31\", arr: [] });\n          //重新测量,清空预测值\n          clinicalYuce = [];\n          clinicalIndex = 0;\n        }\n        //现在探头0可能不存在，所以把探头0改为探头1\n        let temp0 = parseFloat(`${dataArr1[7]}.${dataArr1[8]}`);\n        let Temp = temp0;\n        setMellaMeasureValueFun(Temp);\n        if (mellaConnectStatus !== \"isMeasuring\") {\n          setMellaConnectStatusFun(\"isMeasuring\");\n        }\n\n        if (mellaMeasurePart !== \"耳温\") {\n          setMellaMeasurePartFun(\"耳温\");\n        }\n      },\n      193: () => {\n        //指令结束\\自动结束后\\温度计收到预测数据后温度计返回值,结束后可能还会粘一组测量中的数据\n        //为了清除黏贴的数据，使用定时器\n        this.time193 && clearTimeout(this.time193);\n        this.time193 = setTimeout(() => {\n          if (new Date() - time194 < 1000) {\n            this.time193 && clearTimeout(this.time193);\n            return;\n          }\n          firstEar = true;\n          if (mellaConnectStatus !== \"complete\") {\n            setMellaConnectStatusFun(\"complete\");\n          }\n\n          let { units } = this.state;\n          let Temp = this.props.mellaMeasureValue;\n          let temp =\n            units === \"℉\"\n              ? (Temp * 1.8 + 32).toFixed(1)\n              : Temp.toFixed(1);\n          if (this.props.selectHardwareType === \"mellaPro\") {\n            console.log('要去写了', units, temp);\n            ipcRenderer.send(\"keyboardWriting\", temp);\n          }\n          this.time193 && clearTimeout(this.time193);\n        }, 500);\n      },\n      194: () => {\n        //硬件收到机器学习结果并停止测量，\n        this.time193 && clearTimeout(this.time193);\n        time194 = new Date()\n        console.log(\"---机器学习\", newArr);\n        if (mellaConnectStatus !== \"complete\") {\n          setMellaConnectStatusFun(\"complete\");\n        }\n        const timer = setTimeout(() => {\n          setMellaMeasureValueFun(this.props.mellaPredictReturnValue);\n\n          firstEar = true;\n          if (mellaConnectStatus !== \"complete\") {\n            setMellaConnectStatusFun(\"complete\");\n          }\n\n          let { units } = this.state;\n          let Temp = this.props.mellaPredictReturnValue;\n          let temp =\n            units === \"℉\"\n              ? (Temp * 1.8 + 32).toFixed(1)\n              : Temp.toFixed(1);\n          if (this.props.selectHardwareType === \"mellaPro\") {\n            ipcRenderer.send(\"keyboardWriting\", temp);\n          }\n          clearTimeout(timer);\n        }, 80);\n        clinicalYuce = [];\n        clinicalIndex = 0;\n      },\n      192: () => {\n        //温度计收到40开始数据后返回的指令\n        switch (newArr[3]) {\n          case 90:\n            console.log(\"有探头，开始测量的返回指令·\");\n            break;\n          case 11:\n            console.log(\"没有探头，开始测量的返回值\");\n            break;\n        }\n      },\n      129: () => {\n        //返回硬件版本号\n        console.log(`返回的版本号为${newArr[3]}`);\n      },\n      135: () => {\n        //硬件的一些基本信息\n        /**\n         * ______________新版、旧版没法控制温度计__________________\n         * newArr[3]、newArr[4]、newArr[5]、newArr[6]是蓝牙温度计的修正系数\n         * newArr[7] 无操作关机时间\n         * newArr[8] 背光时间\n         * newArr[9] 是否提示音    ：00代表无提示音，11代表有提示音\n         * newArr[10] 测量单位    01代表℃，00代表℉\n         */\n\n        let hardSet = electronStore.get(\n          `${storage.userId}-hardwareConfiguration`\n        );\n        if (!hardSet) {\n          hardSet = {\n            isHua: true,\n            is15: true,\n            self_tarting: false, //自启动\n            isBacklight: true,\n            isBeep: true,\n            backlightTimer: { length: 140, number: \"45\" },\n            autoOff: { length: 0, number: \"30\" },\n          };\n        }\n\n        let beep = hardSet.isBeep ? \"11\" : \"00\";\n        let unit = hardSet.isHua ? \"00\" : \"01\";\n\n        if (\n          dataArr1[7] === hardSet.autoOff.number &&\n          dataArr1[8] === hardSet.backlightTimer.number &&\n          dataArr1[9] === beep &&\n          dataArr1[10] === unit\n        ) {\n        } else {\n          console.log(\"不相同，去发送命令\");\n          let setArr = [\n            \"03\",\n            \"ed\",\n            \"07\",\n            \"dd\",\n            hardSet.autoOff.number,\n            hardSet.isBacklight ? hardSet.backlightTimer.number : \"00\",\n            hardSet.isBeep ? \"11\" : \"00\",\n            hardSet.isHua ? \"00\" : \"01\",\n          ];\n          ipcRenderer.send(\"usbdata\", { command: \"21\", arr: setArr });\n        }\n      },\n      238: () => {\n        //探头松动\n        console.log(\"探头松动\");\n        message.error(\n          \"The probe is loose, please re-install and measure again\",\n          5\n        );\n      },\n\n      98: () => {\n        //蓝牙连接断开\n        console.log(\n          \"断开连接---断开连接---断开连接---断开连接---断开连接---断开连接\"\n        );\n        firstEar = true;\n        // console.log(new Date() - is97Time);\n        if (new Date() - is97Time < 1300) {\n          return;\n        }\n        this._disconnect_to_mella();\n      },\n      97: () => {\n        //蓝牙连接\n        console.log(\n          \"连接成功---连接成功---连接成功---连接成功---连接成功---连接成功\"\n        );\n        this.getIdTimer && clearTimeout(this.getIdTimer);\n        this.getIdTimer = setTimeout(() => {\n          ipcRenderer.send(\"usbdata\", { command: \"31\", arr: [\"5A\"] });\n          this.getIdTimer && clearTimeout(this.getIdTimer);\n        }, 50);\n\n\n        is97Time = new Date();\n        this._connect_to_mella();\n      },\n      177: () => {\n        //探头id\n        let dataArr1 = newArr.map((item) => {\n          if (item.toString(16).length < 2) {\n            return \"0\" + item.toString(16);\n          } else {\n            return item.toString(16);\n          }\n        });\n\n        let id = \"\";\n        for (let i = 3; i < dataArr1.length - 2; i++) {\n          id += dataArr1[i];\n        }\n        // console.log(id, dataArr1[7]);\n        setMellaDeviceIdFun(id);\n        // this.setState({\n        //   probeID: id,\n        //   petVitalTypeId: dataArr1[7]\n        // })\n        if (dataArr1[7] === \"01\") {\n          if (mellaMeasurePart !== \"腋温\") {\n            setMellaMeasurePartFun(\"腋温\");\n          }\n        } else if (dataArr1[7] === \"02\") {\n          if (mellaMeasurePart !== \"肛温\") {\n            setMellaMeasurePartFun(\"肛温\");\n          }\n        } else if (dataArr1[7] === \"03\") {\n          if (mellaMeasurePart !== \"耳温\") {\n            setMellaMeasurePartFun(\"耳温\");\n          }\n        }\n      },\n      7: () => {\n        //发什么收什么，需要去重新插拔底座\n        console.log(\"重新插拔底座\");\n        if (num07 === 3 && this.state.err07Visible === false) {\n          this.setState({\n            err07Visible: true,\n          });\n        }\n      },\n      255: () => {\n        let length = newArr.length;\n        let frameLength = newArr[1]; //帧长\n        let itemLength = newArr[3] + 1; //数据位的长度   13\n        let dataIndex = 0;\n        let bluName = \"\";\n        let bluData = [];\n\n        while (itemLength < length && itemLength + 3 <= frameLength) {\n          let itemData = [];\n          for (let i = 0; i < newArr[dataIndex + 3] - 1; i++) {\n            itemData.push(dataArr1[i + dataIndex + 5]);\n          }\n          // console.log('--剪切的数据---', itemData);\n          switch (newArr[dataIndex + 4]) {\n            case 9:\n            case 8:\n              let str = \"\";\n              for (let i = 0; i < itemData.length; i++) {\n                let item = parseInt(itemData[i], 16);\n                str += String.fromCharCode(item);\n              }\n              bluName = str;\n              // console.log('--蓝牙名称:', bluName);\n\n              break;\n\n            case 255:\n              bluData = itemData;\n              break;\n            case 7:\n              console.log(\"---UUID\");\n              break;\n            case 239:\n              // console.log('---mac地址');\n              break;\n\n            case 3:\n              // console.log('----尺子的,不知道什么用');\n              break;\n\n            default:\n              console.log(\"直接跳出循环\");\n              return;\n          }\n          dataIndex = itemLength;\n          itemLength = itemLength + newArr[dataIndex + 3] + 1;\n        }\n        // console.log('硬件名称', bluName, '-----硬件数据', bluData);\n        let { setReceiveBroadcastHardwareInfoFun, hardwareReduce } = this.props;\n\n        let { receiveBroadcastHardwareInfo } = hardwareReduce;\n\n        if (bluName.indexOf(\"C19\") !== -1 && bluData.length > 10) {\n          let json = {\n            deviceType: \"biggie\",\n            macId: \"00:00:00:00:00:00\",\n            name: bluName,\n          };\n          if (!compareObject(receiveBroadcastHardwareInfo, json)) {\n            setReceiveBroadcastHardwareInfoFun(json);\n          }\n\n          let weight = `0x${bluData[10]}${bluData[11]}`;\n          let impedance = `0x${bluData[12]}${bluData[13]}`;\n          let sendWeight = null;\n          //C19发送的体重值单位只是KG\n          try {\n            weight = parseInt(weight) / 100;\n            if (impedance) {\n              impedance = parseInt(impedance);\n            }\n          } catch (error) {\n            console.log(error);\n          }\n          if (weight === biggieBodyWeight) {\n            setBiggieSameWeightCountFun(biggieSameWeightCount + 1);\n          } else {\n            setBiggieSameWeightCountFun(0);\n            setBiggieBodyWeightFun(weight);\n          }\n          if (impedance) {\n            setBiggieBodyFatFun(impedance);\n          }\n          if (biggieConnectStatus !== \"isMeasuring\") {\n            setBiggieConnectStatusFun(\"isMeasuring\");\n          }\n          if (biggieUnit !== \"kg\") {\n            setBiggieUnitFun(\"kg\");\n          }\n        } else if (bluName.indexOf(\"Mella Measure\") !== -1) {\n          let {\n            hardwareReduce,\n            setRulerConfirmCountFun,\n            setRulerConnectStatusFun,\n            setRulerMeasureValueFun,\n            setRulerUnitFun,\n          } = this.props;\n          let {\n            rulerConnectStatus,\n            rulerMeasureValue,\n            rulerUnit,\n            rulerConfirmCount,\n            receiveBroadcastHardwareInfo,\n          } = hardwareReduce;\n          // console.log('结束循环蓝牙名称', bluData)\n          let confirmBtn = bluData[8]; //十六进制数字，值为01代表尺子拉动，值为x2代表按了尺子确认按钮\n          let rulerUnitNum = parseInt(bluData[11], 16); //十进制数字，值等于11代表单位为in，00代表单位为cm\n          let newVal = null; //为测量数值，和单位匹配对应\n          const ITEMINDEX = 6;\n          let units = rulerUnitNum === 0 ? \"cm\" : \"in\";\n          let mac = bluData[1];\n          for (let i = 2; i <= 6; i++) {\n            mac += `:${bluData[i]}`;\n          }\n          let json = {\n            deviceType: \"tape\",\n            macId: mac,\n            name: bluName,\n          };\n\n          if (!compareObject(receiveBroadcastHardwareInfo, json)) {\n            setReceiveBroadcastHardwareInfoFun(json);\n          }\n\n          if (units !== rulerUnit) {\n            setRulerUnitFun(units);\n          }\n          if (rulerConnectStatus !== \"isMeasuring\") {\n            setRulerConnectStatusFun(\"isMeasuring\");\n          }\n          this.rulerTimer && clearTimeout(this.rulerTimer);\n          this.rulerTimer = setTimeout(() => {\n            setRulerConnectStatusFun(\"disconnected\");\n          }, 5000);\n          //num1和num2组成测得的测量值，num的值为测量数值，单位恒为厘米\n          let num1 = bluData[9];\n          let num2 = bluData[10];\n          let num = getVal(num1, num2);\n          try {\n            newVal = parseFloat(num);\n            if (rulerUnitNum === 17) {\n              newVal = newVal.toFixed(2);\n            } else {\n              newVal = newVal.toFixed(1);\n            }\n          } catch (error) {\n            console.log(error);\n          }\n\n          function getVal(shi, xiaoshuo) {\n            let num1 = parseInt(shi, 16);\n            let num2 = parseInt(xiaoshuo, 16);\n            return `${num1}.${num2}`;\n          }\n          if (newVal !== rulerMeasureValue) {\n            setRulerMeasureValueFun(newVal);\n          }\n\n          //点击了确认按钮\n\n          if (\n            confirmBtn[1] === \"2\" &&\n            parseInt(confirmBtn[0]) !== rulerConfirmCount &&\n            confirmBtn[0] !== null\n          ) {\n            setRulerConfirmCountFun(parseInt(confirmBtn[0], 16));\n          }\n        } else if (bluName.indexOf(\"Biggie\") !== -1 && bluData.length > 10) {\n          function getVal(shi) {\n            if (`${shi}`.length < 2) {\n              return `0${shi}`;\n            }\n            return `${shi}`;\n          }\n\n          let newArr = bluData;\n\n          let mac = bluData[1];\n          for (let i = 2; i <= 6; i++) {\n            mac += `:${bluData[i]}`;\n          }\n\n          let json = {\n            deviceType: \"biggie\",\n            macId: mac,\n            name: bluName,\n          };\n\n          if (!compareObject(receiveBroadcastHardwareInfo, json)) {\n            setReceiveBroadcastHardwareInfoFun(json);\n          }\n          //定义体重的控制字符\n          let weightControl = newArr[8];\n          //定义体重的值\n          let weight = `${getVal(newArr[9].toString(16))}${getVal(\n            newArr[10].toString(16)\n          )}`;\n          weight = parseInt(weight, 16);\n          //定义体脂值\n          let impedance = `${getVal(newArr[12].toString(16))}${getVal(\n            newArr[13].toString(16)\n          )}`;\n          impedance = parseInt(impedance, 16);\n          let arr11 = getVal(newArr[11].toString(16));\n          weight = weight / Math.pow(10, parseInt(arr11[0]));\n\n          let weightUnits = arr11[1] === \"1\" ? \"lb\" : \"kg\";\n          let biggieStatus = \"isMeasuring\";\n          switch (weightControl) {\n            case 1:\n              biggieStatus = \"connected\";\n              break;\n            case 2:\n              biggieStatus = \"isMeasuring\";\n              break;\n            case 3:\n              biggieStatus = \"complete\";\n              break;\n            default:\n              break;\n          }\n          if (biggieStatus !== biggieConnectStatus) {\n            setBiggieConnectStatusFun(biggieStatus);\n          }\n          if (weightUnits !== biggieUnit) {\n            setBiggieUnitFun(weightUnits);\n          }\n          if (weight !== biggieBodyWeight) {\n            setBiggieBodyWeightFun(weight);\n            setBiggieSameWeightCountFun(0);\n          } else {\n            setBiggieSameWeightCountFun(biggieSameWeightCount + 1);\n          }\n          if (impedance !== biggieBodyFat) {\n            setBiggieBodyFatFun(impedance);\n          }\n        } else if (bluName.indexOf(\"MaeBowl\") !== -1 && bluData.length > 10) {\n          function getVal(shi) {\n            if (`${shi}`.length < 2) {\n              return `0${shi}`;\n            }\n            return `${shi}`;\n          }\n          let mac = bluData[1];\n          for (let i = 2; i <= 6; i++) {\n            mac += `:${bluData[i]}`;\n          }\n          //定义硬件版本号\n          let hardwareVersion = bluData[7] + bluData[8];\n          //定义软件版本号\n          let softwareVersion = bluData[9];\n          //定义wifi标志位\n          let wifiFlag = bluData[10];\n          //定义控制字\n          let control = bluData[11];\n          //定义重量\n          let weight = `${getVal(bluData[12].toString(16))}${getVal(\n            bluData[13].toString(16)\n          )}`\n          weight = parseInt(weight, 16);\n          let arr11 = bluData[14]\n          weight = weight / Math.pow(10, parseInt(arr11[0]));\n          let weightUnits = null\n          switch (arr11[1]) {\n            case '0':\n              weightUnits = 'kg'\n\n              break;\n            case '1':\n              weightUnits = 'lb'\n\n              break;\n            case '2':\n              weightUnits = 'g'\n\n              break;\n            case '3':\n              weightUnits = 'ml'\n\n              break;\n            case '4':\n              weightUnits = 'oz'\n\n              break;\n\n            default:\n              break;\n          }\n          console.log({\n            // mac,\n            // hardwareVersion,\n            // softwareVersion,\n            wifiFlag,\n            control,\n            weight,\n            weightUnits,\n          });\n\n\n        } else if (bluName.indexOf(\"Tabby\") !== -1 && bluData.length > 10) {\n          // console.log('硬件名称', bluName, '-----硬件数据', bluData);\n          let {\n            hardwareReduce,\n            setRulerConfirmCountFun,\n            setRulerConnectStatusFun,\n            setRulerMeasureValueFun,\n            setRulerUnitFun,\n          } = this.props;\n          let {\n            rulerConnectStatus,\n            rulerMeasureValue,\n            rulerUnit,\n            rulerConfirmCount,\n            receiveBroadcastHardwareInfo,\n          } = hardwareReduce;\n          let confirmBtn = bluData[10]; //十六进制数字，值为01代表尺子拉动，值为x2代表按了尺子确认按钮\n          let rulerUnitNum = parseInt(bluData[13], 16); //十进制数字，值等于11代表单位为in，00代表单位为cm\n          let newVal = null; //为测量数值，和单位匹配对应\n          const ITEMINDEX = 6;\n          let units = rulerUnitNum === 0 ? \"cm\" : \"in\";\n          let mac = bluData[1];\n          for (let i = 2; i <= 6; i++) {\n            mac += `:${bluData[i]}`;\n          }\n          let json = {\n            deviceType: \"tape\",\n            macId: mac,\n            name: bluName,\n          };\n          if (!compareObject(receiveBroadcastHardwareInfo, json)) {\n            setReceiveBroadcastHardwareInfoFun(json);\n          }\n\n          if (units !== rulerUnit) {\n            setRulerUnitFun(units);\n          }\n          if (rulerConnectStatus !== \"isMeasuring\") {\n            setRulerConnectStatusFun(\"isMeasuring\");\n          }\n          this.rulerTimer && clearTimeout(this.rulerTimer);\n          this.rulerTimer = setTimeout(() => {\n            setRulerConnectStatusFun(\"disconnected\");\n          }, 5000);\n          //num1和num2组成测得的测量值，num的值为测量数值，单位恒为厘米\n          let num1 = bluData[11];\n          let num2 = bluData[12];\n          let num = getVal(num1, num2);\n          try {\n            newVal = parseFloat(num);\n            if (rulerUnitNum === 17) {\n              newVal = newVal.toFixed(2);\n            } else {\n              newVal = newVal.toFixed(1);\n            }\n          } catch (error) {\n            console.log(error);\n          }\n\n          function getVal(shi, xiaoshuo) {\n            let num1 = parseInt(shi, 16);\n            let num2 = parseInt(xiaoshuo, 16);\n            return `${num1}.${num2}`;\n          }\n          if (newVal !== rulerMeasureValue) {\n            setRulerMeasureValueFun(newVal);\n          }\n\n          //点击了确认按钮\n\n          if (\n            confirmBtn[1] === \"2\" &&\n            parseInt(confirmBtn[0]) !== rulerConfirmCount &&\n            confirmBtn[0] !== null\n          ) {\n            setRulerConfirmCountFun(parseInt(confirmBtn[0], 16));\n          }\n\n\n\n\n        }\n      },\n      182: () => {\n        console.log(\"打开了底座通信\");\n      },\n    };\n    if (instruction.indexOf(newArr[2]) !== -1) {\n      return commandArr[newArr[2]];\n    } else {\n      return () => {\n        console.log(\"没有控制命令\", commandArr);\n      };\n    }\n  };\n\n  testCheck = (arr) => {\n    if (arr.length < 7) {\n      return false;\n    }\n    let i = 7;\n    let checkFloag = arr[i];\n\n    for (i = 8; i < arr.length - 2; i++) {\n      checkFloag = checkFloag ^ arr[i];\n    }\n    return checkFloag;\n  };\n  getMac = (arr) => {\n    // console.log(arr);\n    let str = arr[1].toString(16);\n    if (str.length === 1) {\n      str = \"0\" + str;\n    }\n    for (let i = 2; i < 7; i++) {\n      let item = arr[i].toString(16);\n      if (item.length === 1) {\n        item = \"0\" + item;\n      }\n      str += `:${item}`;\n      // }\n    }\n\n    return str;\n  };\n\n  //监听屏幕窗口改变\n  resize = () => {\n    let { offsetWidth, offsetHeight } = this.mainbody;\n    // console.log('resize', this.mainbody, { offsetWidth, offsetHeight });\n    if (offsetHeight !== this.state.bodyHeight) {\n      this.setState({\n        bodyHeight: offsetHeight - px(50),\n      });\n    }\n  };\n  //获取设备类型(渲染左侧硬件种类侧边栏)\n  getDevicesType = () => {\n    // let devicesTypeList = [\n    //   {\n    //     type: 'mellaPro',\n    //     devices: [\n    //       {\n    //         name: 'mellaPro',\n    //         mac: '',\n    //         deviceType: 'mellaPro',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n    //   {\n    //     type: 'biggie',\n    //     devices: [\n    //       {\n    //         name: 'biggie',\n    //         mac: '',\n    //         deviceType: 'biggie',\n    //         examRoom: '',\n    //       },\n    //       {\n    //         name: 'biggie002',\n    //         mac: '1253',\n    //         deviceType: 'biggie',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n    //   {\n    //     type: 'otterEQ',\n    //     devices: [\n    //       {\n    //         name: 'otterEQ',\n    //         mac: '',\n    //         deviceType: 'otterEQ',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n\n    //   {\n    //     type: 'rfid',\n    //     devices: [\n    //       {\n    //         name: 'rfid',\n    //         mac: '',\n    //         deviceType: 'rfid',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n    //   {\n    //     type: 'tape',\n    //     devices: [\n    //       {\n    //         name: 'tape',\n    //         mac: '',\n    //         deviceType: 'tape',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   },\n    //   {\n    //     type: 'maeBowl',\n    //     devices: [\n    //       {\n    //         name: 'maeBowl',\n    //         mac: '',\n    //         deviceType: 'maeBowl',\n    //         examRoom: '',\n    //       }\n    //     ]\n    //   }\n    // ]\n\n    let devicesTypeList =\n      electronStore.get(\n        `${storage.lastOrganization}-${storage.userId}-devicesTypeList`\n      ) || [];\n    // console.log(\"获取的设22222备列表\", devicesTypeList);\n    if (devicesTypeList.length === 0) {\n      devicesTypeList.push({\n        type: \"mellaPro\",\n        devices: [\n          {\n            name: \"mellaPro\",\n            mac: \"\",\n            deviceType: \"mellaPro\",\n            examRoom: \"\",\n          },\n        ],\n      });\n      devicesTypeList.push({\n        type: \"biggie\",\n        devices: [\n          {\n            name: \"biggie\",\n            mac: \"\",\n            deviceType: \"biggie\",\n            examRoom: \"\",\n          },\n          {\n            name: \"biggie002\",\n            mac: \"1253\",\n            deviceType: \"biggie\",\n            examRoom: \"\",\n          },\n        ],\n      });\n      devicesTypeList.push({\n        type: \"tape\",\n        devices: [\n          {\n            name: \"tape\",\n            mac: \"45264\",\n            deviceType: \"tape\",\n            examRoom: \"\",\n          },\n        ],\n      });\n      devicesTypeList.push({\n        type: \"otterEQ\",\n        devices: [\n          {\n            name: \"otterEQ\",\n            mac: \"375082\",\n            deviceType: \"otterEQ\",\n            examRoom: \"\",\n          },\n        ],\n      });\n    }\n\n    let hardList = [].concat(devicesTypeList);\n    this.props.setHardwareList(hardList);\n    let showHardWareTypeList = [].concat(devicesTypeList);\n    showHardWareTypeList.push({\n      type: \"add\",\n      devices: [],\n    });\n\n    this.setState({\n      devicesTypeList,\n      showHardWareTypeList,\n    });\n  };\n  body = () => {\n    let { selectHardwareType } = this.props;\n\n    let { bodyHeight, clickMenuIndex } = this.state;\n    let measurePage = null;\n    switch (clickMenuIndex) {\n      case \"1\":\n        if (electronStore.get(`${storage.userId}-isClical`)) {\n          return (\n            <>\n              <HardAndPetsUI bodyHeight={bodyHeight} />\n              <ClininalStudy bodyHeight={bodyHeight} />\n            </>\n          );\n        } else {\n          switch (selectHardwareType) {\n            case \"mellaPro\":\n              measurePage = <TemperaturePage bodyHeight={bodyHeight}/>;\n\n              break;\n            case \"biggie\":\n              measurePage = <BiggiePage bodyHeight={bodyHeight}/>;\n              break;\n\n            case \"tape\":\n              measurePage = <ScanPage bodyHeight={bodyHeight}/>;\n              break;\n            case \"otterEQ\":\n              measurePage = <OtterEQPage bodyHeight={bodyHeight}/>;\n              break;\n\n            default:\n              break;\n          }\n          if (selectHardwareType === \"add\") {\n            return <AddDevice bodyHeight={bodyHeight} />;\n          } else {\n            return (\n              <>\n                <HardAndPetsUI bodyHeight={bodyHeight} />\n                {measurePage}\n              </>\n            );\n          }\n        }\n      case \"2\":\n        return <AllPets bodyHeight={bodyHeight} />;\n      case \"CombineScales\":\n        return <CombineScales bodyHeight={bodyHeight}/>;\n      case \"AddDevice\":\n        return <AddDevice bodyHeight={bodyHeight} />;\n      case \"3\":\n        return <ScheduledPetPage bodyHeight={bodyHeight} />;\n\n      case \"AddScheduledPet\":\n        return <AddScheduledPet bodyHeight={bodyHeight} />;\n      case \"6\":\n        return (\n          <>\n            <HardAndPetsUI bodyHeight={bodyHeight} />\n            <ClininalStudy bodyHeight={bodyHeight} />\n          </>\n        );\n\n      case \"4\":\n        return (\n          <MyAccount bodyHeight={bodyHeight} />\n        );\n\n      default:\n        break;\n    }\n  };\n\n  render() {\n    let { bodyHeight } = this.state;\n\n    return (\n      <div\n        className=\"flex\"\n        id=\"mainbody\"\n        ref={(val) => (this.mainbody = val)}\n        onClick={() => {\n          if (this.props.selectHardwareModalShowFun) {\n            this.props.selectHardwareModalShowFun(false);\n          }\n        }}\n      >\n        <Heard />\n        <div className=\"mainbody-body\">\n          <HardWareTypeUI\n            bodyHeight={bodyHeight}\n            devicesTypeList={this.state.showHardWareTypeList}\n          />\n          {this.body()}\n        </div>\n        <Modal\n          visible={this.state.err07Visible}\n          // visible={true}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          width={330}\n          closable={false}\n          footer={[]}\n          destroyOnClose={true}\n          wrapClassName=\"vetPrifileModal\"\n        >\n          <div id=\"vetPrifileModal\">\n            <div className=\"title\">prompt</div>\n\n            <div className=\"text\">Please re-plug the base device</div>\n\n            <div\n              className=\"btn\"\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                marginBottom: \"5px\",\n              }}\n            >\n              <button\n                onClick={() => {\n                  this.setState({\n                    err07Visible: false,\n                  });\n                  num07 = 0;\n                }}\n              >\n                OK\n              </button>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\nexport default connect(\n  (state) => ({\n    isHaveUsbDevice: state.hardwareReduce.isHaveUsbDevice,\n    mellaMeasureNum: state.hardwareReduce.mellaMeasureNum,\n    mellaConnectStatus: state.hardwareReduce.mellaConnectStatus,\n    mellaMeasureValue: state.hardwareReduce.mellaMeasureValue,\n    mellaMeasurePart: state.hardwareReduce.mellaMeasurePart,\n    selectHardwareType: state.hardwareReduce.selectHardwareType,\n    hardwareReduce: state.hardwareReduce,\n    hardwareList: state.hardwareReduce.hardwareList,\n    hardwareInfo: state.hardwareReduce.selectHardwareInfo,\n    menuNum: state.userReduce.menuNum,\n    mellaPredictReturnValue: state.hardwareReduce.mellaPredictReturnValue,\n    test: state.userReduce.test\n  }),\n  {\n    setHardwareList,\n    selectHardwareModalShowFun,\n    setIsHaveUsbDeviceFun,\n\n    setMellaConnectStatusFun,\n    setMellaMeasureValueFun,\n    setMellaPredictValueFun,\n    setMellaMeasurePartFun,\n    setMellaDeviceIdFun,\n    setBiggieConnectStatusFun,\n    setBiggieBodyFatFun,\n    setBiggieBodyWeightFun,\n    setBiggieUnitFun,\n    setBiggieSameWeightCountFun,\n    setRulerConnectStatusFun,\n    setRulerMeasureValueFun,\n    setRulerUnitFun,\n    setRulerConfirmCountFun,\n    setReceiveBroadcastHardwareInfoFun,\n    setMellaMeasureNumFun,\n  }\n)(App);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\biggiePage\\index.jsx",["769","770","771","772","773"],"import React, { useEffect, useState } from \"react\";\nimport { Layout, message } from \"antd\";\nimport Biggie from \"./Biggie\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport { setBiggieConnectStatusFun } from \"../../store/actions\";\nimport HeaderItem from \"./../temperaturePage/components/headerItem\";\nimport HistoryTable from \"../../components/historyTable\";\nimport LinkEquipment from \"./components/linkEquipment\";\nimport { px } from \"../../utils/px\";\nimport { fetchRequest } from \"../../utils/FetchUtil1\";\nimport { fetchRequest4 } from \"../../utils/FetchUtil4\";\nimport MyModal from \"../../utils/myModal/MyModal\";\nimport PropTypes from 'prop-types';\nimport \"./biggiePage.less\";\n\n\nconst { Header, Content, Footer, Sider } = Layout;\nlet storage = window.localStorage;\n\nconst BiggirPage = ({\n  hardwareReduce,\n  setBiggieConnectStatusFun,\n  petReduce,\n  bodyHeight,\n}) => {\n  let { petDetailInfo } = petReduce;\n  let { biggieBodyWeight } = hardwareReduce;\n  //定义体重值 体脂值 体重单位 连接状态\n  const [weight, setWeight] = useState(0);\n  const [saveNum, setSaveNum] = useState(0);\n  const [fat, setFat] = useState(0);\n  const [unit, setUnit] = useState(\"kg\");\n  const [connectStatus, setConnectStatus] = useState(\"disconnected\");\n  const [isSavePMS, setIsSavePMS] = useState(false);\n  const [saveLoad, setSaveLoad] = useState(false);\n  const [isHaveSaveBtn, setIsHaveSaveBtn] = useState(true);\n\n  const _saveWeight = () => {\n    let params = {\n      petId: petDetailInfo.petId,\n      doctorId: storage.userId,\n      weight: weight,\n      memo: \"\",\n      fat,\n      bodyConditionScore: null,\n    };\n    setSaveLoad(true);\n    console.log(\"---体重保存入参--：\", params);\n    fetchRequest(\"/exam/addClamantPetExam\", \"POST\", params)\n      .then((res) => {\n        setSaveLoad(false);\n        if (res.flag === true) {\n          switch (storage.lastOrganization) {\n            case '3'://vetspire\n              updataWeightVetspire()\n              break;\n            case '4'://ezyVet\n              updataWeightEzyvet()\n              break;\n            default:\n              message.success(\"Data successfully saved in Mella\");\n              break;\n          }\n          setSaveNum(saveNum + 1);\n          setIsHaveSaveBtn(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setSaveLoad(false);\n      });\n  };\n  const updataWeightVetspire = () => {\n    let datas = {\n      APIkey: storage.connectionKey,\n      patientId: petDetailInfo.patientId,\n    }\n    fetchRequest4('/VetSpire/vetspireGetPetLatestExam', \"POST\", datas)\n      .then(res => {\n        if (res.flag) {\n          let data = res.data.encounters[0].vitals\n          let encountersId = data.id\n          let params = {\n            vitalId: encountersId,\n            APIkey: storage.connectionKey,\n            weight: unit === 'kg' ? (weight * 2.2046).toFixed(1) : weight\n          }\n          fetchRequest4(`/VetSpire/vetspireUpdateWeight`, \"POST\", params)\n            .then(res => {\n              if (res.flag) {\n                message.success('Data successfully saved in Vetspire')\n              } else {\n                message.error('Data failed saved in Vetspire')\n              }\n            })\n            .catch(err => {\n              message.error('Data failed saved in Vetspire')\n            })\n        } else {\n          message.error('Failed to obtain the latest medical record')\n        }\n      })\n      .catch(err => {\n        message.error('Failed to obtain the latest medical record')\n      })\n\n  }\n  const updataWeightEzyvet = () => {\n    let params = {\n      id: petDetailInfo.patientId\n    }\n    fetchRequest4('/EzyVet/ezyvetGetPetLatestExam', \"GET\", params, `Bearer ${storage.connectionKey}`)\n      .then(res => {\n        if (res.code === 10004 && res.msg === 'ezyvet token失效') {\n          storage.connectionKey = res.newToken;\n          reUpdataWeightEzyvet();\n          return\n        }\n        if (res.flag && res.data && res.data.items.length > 0) {\n          let data = res.data.items[0]\n          let { consult_id } = data\n          if (!consult_id) {\n            message.error('Failed to obtain the latest medical record, the data is saved in Mella')\n            return\n          }\n          let paramId = data.id\n          let parames1 = {\n            consult_id,\n            weight: unit === 'kg' ? weight : (weight / 2.2046).toFixed(2)\n          }\n          fetchRequest4(`/EzyVet/ezyvetUpdateWeight/${paramId}`, \"PATCH\", parames1, `Bearer ${storage.connectionKey}`)\n            .then(res => {\n              if (res.code === 10004 && res.msg === 'ezyvet token失效') {\n                storage.connectionKey = res.newToken;\n                reUpdataWeightEzyvet();\n                return\n              }\n              if (res.flag) {\n                message.success('Data successfully saved in EzyVet')\n              } else {\n                message.error('Data failed saved in EzyVet')\n              }\n            })\n            .catch(err => {\n              message.error('Data failed saved in EzyVet')\n            })\n        } else {\n          message.error('Failed to obtain the latest medical record')\n        }\n      })\n      .catch(err => {\n        message.error('Failed to obtain the latest medical record')\n      })\n  }\n\n  const reUpdataWeightEzyvet = () => {\n    let params = {\n      id: petDetailInfo.patientId\n    }\n    fetchRequest4('/EzyVet/ezyvetGetPetLatestExam', \"GET\", params, `Bearer ${storage.connectionKey}`)\n      .then(res => {\n        if (res.flag && res.data && res.data.items.length > 0) {\n          let data = res.data.items[0]\n          let { consult_id } = data\n          if (!consult_id) {\n            message.error('Failed to obtain the latest medical record, the data is saved in Mella')\n            return\n          }\n          let paramId = data.id\n          let parames1 = {\n            consult_id,\n            weight: unit === 'kg' ? weight : (weight / 2.2046).toFixed(2)\n          }\n          fetchRequest4(`/EzyVet/ezyvetUpdateWeight/${paramId}`, \"PATCH\", parames1, `Bearer ${storage.connectionKey}`)\n            .then(res => {\n              if (res.flag) {\n                message.success('Data successfully saved in EzyVet')\n              } else {\n                message.error('Data failed saved in EzyVet')\n              }\n            })\n            .catch(err => {\n              message.error('Data failed saved in EzyVet')\n            })\n        } else {\n          message.error('Failed to obtain the latest medical record')\n        }\n      })\n      .catch(err => {\n        message.error('Failed to obtain the latest medical record')\n      })\n  }\n\n  useEffect(() => {\n    let isSave = storage.connectionKey ? false : true;\n    setIsSavePMS(isSave);\n    return () => { };\n  }, []);\n  useEffect(() => {\n    let {\n      biggieConnectStatus,\n      biggieBodyFat,\n      biggieBodyWeight,\n      biggieUnit,\n      biggieSameWeightCount,\n    } = hardwareReduce;\n    setConnectStatus(biggieConnectStatus);\n    setFat(biggieBodyFat);\n    setUnit(biggieUnit);\n    if (biggieUnit === \"lb\") {\n      biggieBodyWeight = biggieBodyWeight * 2;\n    }\n    setWeight(biggieBodyWeight);\n    if (biggieSameWeightCount === 6) {\n      let ipcRenderer = window.require(\"electron\").ipcRenderer;\n      ipcRenderer.send(\"keyboardWriting\", weight);\n    }\n\n    return () => { };\n  }, [hardwareReduce]);\n\n  useEffect(() => {\n    setIsHaveSaveBtn(true);\n    return () => { };\n  }, [biggieBodyWeight]);\n  //宠物变了,要设置为未连接\n  useEffect(() => {\n    setBiggieConnectStatusFun(\"disconnected\")\n  }, [petDetailInfo]);\n\n  return (\n    <>\n      <Layout className=\"biggiePage\" style={{ height: bodyHeight }}>\n        <div style={{ height: px(100), background: \"#fff\", position: 'relative' }}>\n          <div style={{ height: '100%' }}>\n            <HeaderItem />\n          </div>\n        </div>\n        <Content className=\"biggieContentBox\">\n          {_.isEmpty(petDetailInfo) ? (\n            <>\n              <div className=\"chackPatientBox\">\n                <p className=\"chackPatientTitle\">Select a patient</p>\n              </div>\n            </>\n          ) : connectStatus === \"isMeasuring\" ? (\n            <div className=\"biggbody\" >\n              <div className=\"flex\" style={{ width: '100%', }}>\n                <div className=\"biggieTopBox\" style={{ width: px(400), }}>\n                  <Biggie\n                    weight={weight}\n                    bodyFat={fat}\n                    score={5}\n                    impedance={fat}\n                    isIbs={unit === \"lb\"}\n                    onPress={_saveWeight}\n                    discardOnPress={() =>\n                      setBiggieConnectStatusFun(\"disconnected\")\n                    }\n                    issave={isSavePMS}\n                    isHaveSaveBtn={isHaveSaveBtn}\n                  />\n                </div>\n              </div>\n\n              <div className=\"biggeTitleBox\">\n                <p className=\"biggeTitle\">History</p>\n              </div>\n              <div className=\"biggeTableBox\">\n                <HistoryTable saveNum={saveNum} tableColumnType='weight' />\n              </div>\n            </div>\n          ) : (\n            <div className=\"biggbody\">\n              <LinkEquipment />\n            </div>\n          )}\n        </Content>\n      </Layout>\n      <MyModal visible={saveLoad} />\n    </>\n  );\n};\n\nBiggirPage.propTypes = {\n  bodyHeight: PropTypes.number,\n  devicesTypeList: PropTypes.array\n}\n\nexport default connect(\n  (state) => ({\n    hardwareReduce: state.hardwareReduce,\n    petReduce: state.petReduce,\n  }),\n  {\n    setBiggieConnectStatusFun,\n  }\n)(BiggirPage);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\doctorSelectExam\\DoctorSelectAllExam.jsx",["774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\temperaturePage\\components\\measuredData.jsx",["802","803","804","805","806","807","808","809","810","811","812","813","814"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scanPage\\components\\scanPet.jsx",["815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848"],"import React, { useEffect, useState, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Layout,\n  Menu,\n  PageHeader,\n  Radio,\n  Input,\n  Space,\n  Button,\n  Modal,\n  message,\n  Carousel,\n} from \"antd\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\nimport {\n  selectHardwareModalShowFun,\n  petSortTypeFun,\n  petDetailInfoFun,\n  setRulerConnectStatusFun,\n  setRulerMeasureValueFun,\n  setRulerUnitFun,\n  setRulerConfirmCountFun,\n} from \"../../../store/actions\";\nimport _ from \"lodash\";\nimport NumericInput from \"./numericInput\";\nimport { fetchRequest } from \"../../../utils/FetchUtil1\";\nimport head from \"./../../../assets/img/head.png\";\nimport neck from \"./../../../assets/img/neck.png\";\nimport upper from \"./../../../assets/img/upper.png\";\nimport lower from \"./../../../assets/img/lower.png\";\nimport Full from \"./../../../assets/img/Full.png\";\nimport body from \"./../../../assets/img/body.png\";\nimport catHead from \"./../../../assets/img/catHead.png\";\nimport catNeck from \"./../../../assets/img/catNeck.png\";\nimport catUpper from \"./../../../assets/img/catUpper.png\";\nimport catLower from \"./../../../assets/img/catLower.png\";\nimport catFull from \"./../../../assets/img/catFull.png\";\nimport catBody from \"./../../../assets/img/catBody.png\";\nimport redjinggao from './../../../assets/img/redjinggao.png'\nimport \"./scanPet.less\";\nimport { px } from \"../../../utils/px\";\nimport MyModal from '../../../utils/myModal/MyModal'\n\nconst { Content, Header } = Layout;\nconst ScanPet = ({\n  petMessage,\n  petDetailInfoFun,\n  ruleMessage,\n  setRulerConfirmCountFun,\n  setRulerMeasureValueFun,\n  setRulerUnitFun,\n  setRulerConnectStatusFun\n}) => {\n  let { petSpeciesBreedId, patientId, petId } = petMessage;\n  let { rulerMeasureValue, rulerConfirmCount, rulerUnit, rulerConnectStatus } = ruleMessage;\n  let storage = window.localStorage;\n  const [radioValue, setRadioValue] = useState(\"in\");\n  const [inputIndex, setInputIndex] = useState(-1);\n  const [visible, setVisible] = useState(false);\n  const [carouselIndex, setCarouselIndex] = useState(1);\n  const [headValue, setHeadValue] = useState(\"\"); //接收输入框的值\n  const [neckValue, setNeckValue] = useState(\"\"); //接收输入框的值\n  const [upperValue, setUpperValue] = useState(\"\"); //接收输入框的值\n  const [lowerValue, setLowerValue] = useState(\"\"); //接收输入框的值\n  const [torsoValue, setTorsoValue] = useState(\"\"); //接收输入框的值\n  const [bodyValue, setBodyValue] = useState(\"\"); //接收输入框的值\n  const [showModal, setShowModal] = useState(false);\n  const [selectPetDetail, setSelectPetDetail] = useState({})\n  let newData = [];\n\n\n  //保存input组\n  const inputEl = (data) => {\n    newData.push(data);\n  };\n\n  //切换聚焦事件\n  const switchFocus = () => {\n    let num = inputIndex;\n    if (num === 3) {\n      setCarouselIndex(2);\n    }\n    if (num < 5) {\n      setInputIndex(num + 1);\n    }\n  };\n\n  //结束事件\n  const finishScan = () => {\n    Modal.confirm({\n      title: \"Confirm\",\n      icon: <ExclamationCircleOutlined />,\n      content: \"Whether To Save Data\",\n      top: \"40vh\",\n      onOk: saveData,\n    });\n  };\n  //保存数据\n  const saveData = () => {\n    const newNum = (val) => {\n      if (val) {\n        if (rulerUnit === \"in\") {\n          return parseFloat((parseFloat(val) * 2.54).toFixed(1));\n        } else {\n          return parseFloat(val);\n        }\n      } else {\n        return \"\";\n      }\n    };\n    let prams = {\n      l2rarmDistance: newNum(bodyValue) || null,\n      lowerTorsoCircumference: newNum(lowerValue) || null,\n      upperTorsoCircumference: newNum(upperValue) || null,\n      neckCircumference: newNum(neckValue) || null,\n      h2tLength: newNum(headValue) || null,\n      torsoLength: newNum(torsoValue) || null,\n    };\n    let url = `/pet/updatePetInfo/${storage.userId}/${petId}`;\n    fetchRequest(url, \"POST\", prams)\n      .then((res) => {\n        if (res.flag) {\n          petDetailInfoFun({\n            ...petMessage,\n            ...prams,\n          });\n          message.success(\"Uploaded successfully\");\n        } else {\n          message.error(\"upload failed\");\n        }\n      })\n      .catch((err) => {\n        message.error(\"update failed\");\n        console.log(err);\n      });\n  };\n\n  //判断是猫还是狗还是其他\n  const checkPetType = () => {\n    //0是猫，1是狗，或者petSpeciesBreedId为空判断图片为狗\n    if (petSpeciesBreedId === 11001 || _.inRange(petSpeciesBreedId, 1, 136)) {\n      return 0;\n    } else if (\n      petSpeciesBreedId === 12001 ||\n      _.inRange(petSpeciesBreedId, 136, 456)\n    ) {\n      return 1;\n    } else {\n      return 1;\n    }\n  };\n\n  //切换图片\n  const changeImage = () => {\n    switch (inputIndex) {\n      case 0:\n        return checkPetType() === 1 ? (\n          <img src={head} />\n        ) : (\n          <img src={catHead} />\n        );\n      case 1:\n        return checkPetType() === 1 ? (\n          <img src={neck} />\n        ) : (\n          <img src={catNeck} />\n        );\n      case 2:\n        return checkPetType() === 1 ? (\n          <img src={upper} />\n        ) : (\n          <img src={catUpper} />\n        );\n      case 3:\n        return checkPetType() === 1 ? (\n          <img src={lower} />\n        ) : (\n          <img src={catLower} />\n        );\n      case 4:\n        return checkPetType() === 1 ? (\n          <img src={Full} />\n        ) : (\n          <img src={catFull} />\n        );\n      case 5:\n        return checkPetType() === 1 ? (\n          <img src={body} />\n        ) : (\n          <img src={catBody} />\n        );\n      default:\n        return checkPetType() === 1 ? (\n          <img src={body} />\n        ) : (\n          <img src={catBody} />\n        );\n    }\n  };\n\n  //点击输入框事件\n  const clickInput = (index) => {\n    setInputIndex(index);\n  };\n\n  //单位转化\n  const changeUnit = (value) => {\n    if (rulerUnit === \"cm\") {\n      return _.round(value * 2.54, 1);\n    } else if (rulerUnit === \"in\") {\n      return _.floor(_.divide(value, 2.54), 2);\n    }\n  };\n\n  //单选框改变事件\n  const changeRadio = (e) => {\n    setRadioValue(e.target.value);\n    setRulerUnitFun(e.target.value);\n  };\n\n  //小圆点点击事件\n  const clickPoint = (index) => {\n    if (index === 1) {\n      setCarouselIndex(1);\n    } else {\n      setCarouselIndex(2);\n    }\n  };\n  //切换宠物获取到长度信息,对数据根据界面单位进行换算\n  const petLengthDataConvert = (val) => {\n    if (!val) {\n      return \"\";\n    } else {\n      if (rulerUnit === \"cm\") {\n        return val.toFixed(1);\n      } else {\n        return _.floor(_.divide(val, 2.54), 2);\n      }\n    }\n  };\n\n  //尺子正在测量中切换宠物清空数据\n  const onClickModal = () => {\n    setShowModal(false);\n    // petDetailInfoFun(selectPetDetail);\n    setInputIndex(0);\n    setCarouselIndex(1);\n    let {\n      torsoLength,\n      l2rarmDistance,\n      upperTorsoCircumference,\n      lowerTorsoCircumference,\n      h2tLength,\n      neckCircumference,\n    } = petMessage;\n\n    setBodyValue(petLengthDataConvert(l2rarmDistance));\n    setLowerValue(petLengthDataConvert(lowerTorsoCircumference));\n    setUpperValue(petLengthDataConvert(upperTorsoCircumference));\n    setNeckValue(petLengthDataConvert(neckCircumference));\n    setHeadValue(petLengthDataConvert(h2tLength));\n    setTorsoValue(petLengthDataConvert(torsoLength));\n  }\n\n  //监听点击界面中下一步按钮\n  useEffect(() => {\n    console.log(\"inputIndex\", inputIndex);\n\n    if (inputIndex < 6 && inputIndex !== -1) {\n      newData[inputIndex].focus();\n    }\n    if (inputIndex === 6) {\n      finishScan();\n    }\n\n    return () => { };\n  }, [inputIndex]);\n\n  useEffect(() => {\n    if (carouselIndex === 2) {\n      setInputIndex(4);\n    } else if (carouselIndex === 1) {\n      setInputIndex(0);\n    }\n    return () => { };\n  }, [carouselIndex]);\n\n  //监听用户点击了硬件中的下一步按钮\n  useEffect(() => {\n    if (inputIndex === -1) {\n      setInputIndex(0);\n    } else if (inputIndex < 6) {\n      setInputIndex(inputIndex + 1);\n    }\n    if (inputIndex === 3) {\n      setCarouselIndex(2);\n    }\n    return () => { };\n  }, [rulerConfirmCount]);\n\n  // useEffect(() => {\n  //   setRulerConnectStatusFun('disconnected')\n  // },[])\n\n\n  //监听切换了宠物\n  useEffect(() => {\n    // if (rulerConnectStatus === 'isMeasuring') {\n    //   setShowModal(true);\n    // } else {\n      setInputIndex(0);\n      setCarouselIndex(1);\n      let {\n        torsoLength,\n        l2rarmDistance,\n        upperTorsoCircumference,\n        lowerTorsoCircumference,\n        h2tLength,\n        neckCircumference,\n      } = petMessage;\n\n      setBodyValue(petLengthDataConvert(l2rarmDistance));\n      setLowerValue(petLengthDataConvert(lowerTorsoCircumference));\n      setUpperValue(petLengthDataConvert(upperTorsoCircumference));\n      setNeckValue(petLengthDataConvert(neckCircumference));\n      setHeadValue(petLengthDataConvert(h2tLength));\n      setTorsoValue(petLengthDataConvert(torsoLength));\n    // }\n    return () => { };\n  }, [petId]);\n  //监听用户点击了硬件中的下一步按钮和拉动皮尺\n  useEffect(() => {\n    if (inputIndex < 6) {\n      switch (inputIndex) {\n        case 0:\n          setHeadValue(rulerMeasureValue);\n          break;\n        case 1:\n          setNeckValue(rulerMeasureValue);\n          break;\n        case 2:\n          setUpperValue(rulerMeasureValue);\n          break;\n        case 3:\n          setLowerValue(rulerMeasureValue);\n          break;\n        case 4:\n          setTorsoValue(rulerMeasureValue);\n          break;\n        case 5:\n          setBodyValue(rulerMeasureValue);\n          break;\n        default:\n          break;\n      }\n    }\n  }, [rulerConfirmCount, rulerMeasureValue]);\n  //监听单位改变\n  useEffect(() => {\n    setRadioValue(rulerUnit);\n    setHeadValue(headValue && changeUnit(headValue));\n    setNeckValue(neckValue && changeUnit(neckValue));\n    setUpperValue(upperValue && changeUnit(upperValue));\n    setLowerValue(lowerValue && changeUnit(lowerValue));\n    setTorsoValue(torsoValue && changeUnit(torsoValue));\n    setBodyValue(bodyValue && changeUnit(bodyValue));\n    return () => { };\n  }, [rulerUnit]);\n\n\n  return (\n    <>\n      <Content className=\"scanContentBox\">\n        <div className=\"scanImageBox\">{changeImage()}</div>\n        {/*选择单位框*/}\n        <Radio.Group\n          value={radioValue}\n          onChange={changeRadio}\n          buttonStyle=\"solid\"\n          className=\"selectLengthUnit\"\n        >\n          <Radio.Button\n            value=\"in\"\n            style={{\n              background: radioValue === \"in\" ? \"#e1206d\" : \"#fff\",\n              borderColorRight: radioValue === \"in\" ? \"#e1206d\" : \"#fff\",\n              borderRadius: \"20px\",\n              borderTopRightRadius: \"0px\",\n              borderBottomRightRadius: \"0px\",\n            }}\n          >\n            in\n          </Radio.Button>\n          <Radio.Button\n            value=\"cm\"\n            className=\"cmButton\"\n            style={{\n              background: radioValue === \"cm\" ? \"#e1206d\" : \"#fff\",\n              borderColorRight: radioValue === \"cm\" ? \"#e1206d\" : \"#fff\",\n              borderRadius: \"20px\",\n              borderTopLeftRadius: \"0px\",\n              borderBottomLeftRadius: \"0px\",\n            }}\n          >\n            cm\n          </Radio.Button>\n        </Radio.Group>\n        <div className=\"slideshowBox\" style={{ height: px(100) }}>\n          <div className=\"scollInputGroup\">\n            {/*第一列输入框*/}\n            <Input.Group\n              className=\"inputGroupItem\"\n              style={{ display: carouselIndex === 1 ? \"\" : \"none\" }}\n            >\n              <Space className=\"inputItemBox\">\n                <div className=\"inputItem\">\n                  <p className=\"inputTitle\">Head Circumference</p>\n                  <NumericInput\n                    value={headValue}\n                    onChange={setHeadValue}\n                    getInput={inputEl}\n                    onClick={() => clickInput(0)}\n                    index={inputIndex}\n                    onKey={0}\n                  />\n                </div>\n                <div className=\"inputItem\">\n                  <p className=\"inputTitle\">Neck Circumference</p>\n                  <NumericInput\n                    value={neckValue}\n                    onChange={setNeckValue}\n                    getInput={inputEl}\n                    onClick={() => clickInput(1)}\n                    index={inputIndex}\n                    onKey={1}\n                  />\n                </div>\n                <div className=\"inputItem\">\n                  <p className=\"inputTitle\">Upper Torso Circumference</p>\n                  <NumericInput\n                    value={upperValue}\n                    onChange={setUpperValue}\n                    getInput={inputEl}\n                    onClick={() => clickInput(2)}\n                    index={inputIndex}\n                    onKey={2}\n                  />\n                </div>\n                <div className=\"inputItem\">\n                  <p className=\"inputTitle\">Lower Torso Circumference</p>\n                  <NumericInput\n                    value={lowerValue}\n                    onChange={setLowerValue}\n                    getInput={inputEl}\n                    onClick={() => clickInput(3)}\n                    index={inputIndex}\n                    onKey={3}\n                  />\n                </div>\n              </Space>\n            </Input.Group>\n            {/*第二列输入框*/}\n            <Input.Group\n              className=\"inputGroupItem\"\n              style={{ display: carouselIndex === 2 ? \"\" : \"none\" }}\n            >\n              <Space className=\"inputItemBox\">\n                <div className=\"inputItem\">\n                  <p className=\"inputTitle\">Full Torso Length</p>\n                  <NumericInput\n                    value={torsoValue}\n                    onChange={setTorsoValue}\n                    getInput={inputEl}\n                    onClick={() => clickInput(4)}\n                    index={inputIndex}\n                    onKey={4}\n                  />\n                </div>\n                <div className=\"inputItem\">\n                  <p className=\"inputTitle\">Full Body Length</p>\n                  <NumericInput\n                    value={bodyValue}\n                    onChange={setBodyValue}\n                    getInput={inputEl}\n                    onClick={() => clickInput(5)}\n                    index={inputIndex}\n                    onKey={5}\n                  />\n                </div>\n              </Space>\n            </Input.Group>\n          </div>\n        </div>\n\n        {/*小圆点 */}\n        <div className=\"dotBox\">\n          <ul className=\"dotList\">\n            <li>\n              <Button\n                className=\"dotItem\"\n                onClick={() => clickPoint(1)}\n                style={{\n                  background: carouselIndex === 1 ? \"#0a0a0a\" : \"#bdbaba\",\n                }}\n              >\n                1\n              </Button>\n            </li>\n            <li>\n              <Button\n                className=\"dotItem\"\n                onClick={() => clickPoint(2)}\n                style={{\n                  background: carouselIndex === 2 ? \"#0a0a0a\" : \"#bdbaba\",\n                }}\n              >\n                2\n              </Button>\n            </li>\n          </ul>\n        </div>\n        {/*下一步 */}\n        <div className=\"nextBtnBox\">\n          <Button\n            type=\"primary\"\n            shape=\"round\"\n            size=\"large\"\n            className=\"nextBtn\"\n            onClick={inputIndex > 4 ? finishScan : switchFocus}\n          >\n            {inputIndex > 4 ? \"Finish\" : \"Next\"}\n          </Button>\n        </div>\n      </Content>\n    </>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    petMessage: state.petReduce.petDetailInfo,\n    ruleMessage: state.hardwareReduce,\n  }),\n  {\n    selectHardwareModalShowFun,\n    petSortTypeFun,\n    petDetailInfoFun,\n    setRulerConnectStatusFun,\n    setRulerMeasureValueFun,\n    setRulerUnitFun,\n    setRulerConfirmCountFun,\n  }\n)(ScanPet);\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\combineScales\\index.jsx",["849","850","851","852","853"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\biggiePage\\Biggie.jsx",["854","855","856","857","858","859","860","861","862"],"import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types';\nimport { SyncOutlined, createFromIconfontCN } from '@ant-design/icons';\nimport { SearchOutlined } from '@ant-design/icons';\nimport { px, mTop } from './../../utils/px'\nimport cir from './../../assets/images/cir.png'\nimport xia from './../../assets/img/xia.png'\n\n//import 'antd/dist/antd.css';\nimport './biggie.less'\n\n/**\n *\n * @param {string} weight   体重值\n * @param {string} bodyFat   体脂\n * @param {string} score   健康指数\n * @param {string} impedance   阻抗值\n * @param {boolean} issave   按钮文本，为true展示save，为false展示send to pms\n * @param {function} onPress   点击按钮调用的函数\n *\n * @returns\n */\n\nconst Biggie = ({ weight, bodyFat, score, impedance, issave, onPress, discardOnPress, isIbs, isHaveSaveBtn = true }) => {\n\n  // let { weight, bodyFat, score } = this.props\n\n  let lTColor = bodyFat !== null && bodyFat >= 0 ? '#87C563' : '#D8D9D9'\n  let rTColor = score !== null && score >= 0 ? '#87C563' : '#D8D9D9'\n  let lTtext = bodyFat !== null && bodyFat >= 0 ? `${bodyFat}%` : `Not Available`\n  let lTtextSize = bodyFat !== null && bodyFat >= 0 ? px(16) : px(15)\n  let rTtext = score !== null && score >= 0 ? `${score}` : `Not\\nAvailable`\n  let rTtextSize = score !== null && score >= 0 ? px(16) : px(15)\n\n  return (\n    <div className=\"biggie\" >\n      <div className=\"top\">\n\n        <div style={{ borderRadius: px(150) }} className='biggiel'>\n          <div style={{ backgroundColor: lTColor, borderRadius: px(75), }} className='lT'>\n            <div className='lTText' style={{ fontSize: lTtextSize }}>{lTtext}</div>\n          </div>\n          <div style={{ fontSize: px(14) }}>{`Body Fat\\nPercent`}</div>\n          <img\n            src={xia}\n            style={{ width: px(20), marginBottom: px(5) }}\n          />\n        </div>\n\n\n        <div style={{  borderRadius: px(150) }} className='cen'>\n          <div style={{ borderRadius: px(75) }} className='lT'>\n            <img\n              src={cir}\n              width={'100%'}\n            />\n          </div>\n          <div className='cTText' style={{ fontWeight: '800' }}>{weight}</div>\n          <div className='cTTextUnit'>{`${isIbs ? 'lbs' : 'kgs'}`}</div>\n          <div className='cenCText'>Weight</div>\n          <img\n            src={xia}\n            style={{ width: px(20), marginBottom: px(6) }}\n          />\n        </div>\n\n\n\n        <div style={{ borderRadius: px(150) }} className='biggiel'>\n          <div style={{ backgroundColor: rTColor, borderRadius: px(75) }} className='lT'>\n            <div className='lTText' style={{ fontSize: rTtextSize }}>{rTtext}</div>\n          </div>\n          <div style={{ fontSize: px(14) }}>{`Body\\nCondition\\nScore`}</div>\n          <img\n            src={xia}\n            style={{ width: px(20), marginBottom: px(5) }}\n          />\n        </div>\n      </div>\n\n\n\n\n      <div className='biggiefoot'>\n        {isHaveSaveBtn &&\n          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-around', width: '100%' }}>\n            <div\n              className='biggiefootbtn'\n              // style={{ height: px(36), }}\n              onClick={() => {\n                discardOnPress()\n              }}\n            >\n              <div style={{ color: '#fff', fontSize: px(16) }}>{`Discard`}</div>\n            </div>\n\n\n            <div\n              className='biggiefootbtn'\n              // style={{ height: px(36), }}\n              onClick={() => {\n                onPress()\n              }}\n            >\n              <div style={{ color: '#fff', fontSize: px(16) }}>{issave ? `Save` : `Send to PMS`}</div>\n            </div>\n\n\n          </div>\n        }\n\n\n        {(impedance && impedance > 0) ? <div style={{ color: '#000', fontSize: px(18), marginTop: mTop(10) }}>{`Impedance ${impedance} Ohms`}</div> : null}\n      </div>\n    </div>\n  )\n\n}\n\nBiggie.propTypes = {\n  weight: PropTypes.string || PropTypes.number,\n  bodyFat: PropTypes.number || PropTypes.string,\n  score: PropTypes.number || PropTypes.string,\n  impedance: PropTypes.number || PropTypes.string,\n  issave: PropTypes.bool,\n  onPress: PropTypes.func,\n  isIbs: PropTypes.bool\n}\nexport default Biggie\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\myAccount\\index.jsx",["863","864","865","866","867","868","869"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\help\\Help.jsx",["870"],"import React, { Component } from 'react'\n\nimport Heard from './../../../utils/heard/Heard'\nimport using from './../../../assets/images/using.png'\nimport measuring from './../../../assets/images/measuring.png'\nimport unassigned from './../../../assets/images/unassigned.png'\nimport adding from './../../../assets/images/adding.png'\nimport email from './../../../assets/images/email.png'\nimport phone from './../../../assets/images/phone.png'\nimport './help.less'\nimport { px } from './../../../utils/px'\nlet storage = window.localStorage;\n\nexport default class Help extends Component {\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big')\n\n    //监听屏幕分辩率是否变化，变化就去更改界面内容距离大小\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\n\n\n  }\n  componentWillUnmount() {\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer\n    ipcRenderer.send('big')\n    this.setState({\n\n    })\n  }\n\n\n\n  render() {\n    let list = [\n      {\n        img: using,\n        title: 'Using the app'\n      }, {\n        img: measuring,\n        title: 'Measuring with Mella'\n      }, {\n        img: unassigned,\n        title: 'Unassigned Readings'\n      },\n      {\n        img: adding,\n        title: 'Adding New Users'\n      },\n    ]\n    let num = 150 / list.length\n    let mar = num + 'px'\n    return (\n      <div id=\"help\">\n        <div className=\"heard\">\n          <Heard\n            menu8Click={() => {\n              switch (storage.identity) {\n                case '2': this.props.history.push({ pathname: '/EzyVetSelectExam', listDate: storage.ezyVetList, defaultCurrent: storage.defaultCurrent })\n\n                  break;\n                case '1': this.props.history.push('/VetSpireSelectExam')\n\n                  break;\n                case '3': this.props.history.push({ pathname: '/uesr/selectExam', listDate: storage.doctorList, defaultCurrent: storage.defaultCurrent })\n\n                  break;\n\n                default:\n                  break;\n              }\n            }}\n            onReturn={() => {\n              this.props.history.goBack()\n            }}\n          />\n        </div>\n\n        <div className=\"body\">\n          <div className=\"title\">How can we help you?</div>\n          <div className=\"input\">\n            <input\n              type=\"text\"\n              placeholder=\"Describe you issue     &#xe63f;\"\n\n            />\n          </div>\n\n          <div className=\"list\">\n            <ul>\n              {list.map((data, index) => (\n                <li key={index}\n                  // style={{ width: px(150), height: px(150) }}\n                >\n\n                  <>\n                    <img src={data.img} alt=\"\" />\n                    <p>{data.title}</p>\n                  </>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div className=\"popularArticles\">\n            <div className=\"text\">Popular Articles</div>\n            <span className=\" iconfont  icon-jiantou3 dropDown\" />\n          </div>\n          <div className=\"popularArticles tutorials\">\n            <div className=\"text\">Tutorials</div>\n            <span className=\" iconfont  icon-jiantou3 dropDown\" />\n          </div>\n\n          <div className=\"time\">\n            <p style={{ fontSize: px(24) }}>Still need help?</p>\n            <div className=\"line\" style={{ height: px(6) }}></div>\n            <p style={{ fontSize: px(24) }}>Monday - Friday: 9am - 5pm (ET)</p>\n          </div>\n\n\n        </div>\n\n        <div className=\"foot\">\n          <div className=\"l\">\n            <img src={email} alt=\"\"/>\n            <div className=\"text\">Drop us a line</div>\n            <a href=\"mailto:support@mella.ai\"\n              // style={{ fontSize: px(18) }}\n              onClick={(e) => {\n                // e.preventDefault();\n                // let electron = window.electron\n                // electron.shell.openExternal(' https://www.mella.ai/')\n                // return false;\n              }}\n            >support@mella.ai</a>\n          </div>\n\n          <div className=\"l r\">\n            <img src={phone} alt=\"\"/>\n            <div className=\"text\">Bark at Us!</div>\n            <div className=\"text\">201.977.6411</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\signIn\\SignIn.jsx",["871","872","873","874","875","876","877","878","879","880","881","882","883","884"],"import React, { Component } from \"react\";\nimport { Input, Button, message, Spin, BackTop } from \"antd\";\nimport {\n  createFromIconfontCN,\n  SyncOutlined,\n  LoadingOutlined,\n} from \"@ant-design/icons\";\n\nimport \"./signIn.less\";\nimport mellaLogo from \"./../../assets/images/mellaLogo.png\";\nimport dui from \"./../../assets/images/dui.png\";\nimport back_white from \"./../../assets/img/back-white.png\";\nimport back_hui from \"./../../assets/img/back-hui.png\";\nimport { fetchRequest } from \"./../../utils/FetchUtil1\";\nimport { fetchRequest2 } from \"./../../utils/FetchUtil2\";\nimport temporaryStorage from \"../../utils/temporaryStorage\";\nimport { fetchRequest1 } from \"../../utils/FetchUtil\";\nimport { mTop, px, MTop, pX, win } from \"../../utils/px\";\nimport MinClose from \"./../../utils/minClose/MinClose\";\nimport MouseDiv from \"./../../utils/mouseDiv/MouseDiv\";\nimport { addLogin, addQRCode } from \"../../utils/axios\";\nlet storage = window.localStorage;\nconst MyIcon = createFromIconfontCN({\n  scriptUrl: \"//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js\",\n});\nlet num = 0;\n//有可能出现,登录成功跳转后获取到了二维码,这样就会导致出现一直轮询,未解决这个问题设置变量isSign\nlet isSign = true;\n\nexport default class SignIn extends Component {\n  state = {\n    isRemember: false,\n    email: \"\",\n    hash: \"\",\n    isCode: false,\n    baseUrl: \"\",\n    QRToken: \"\",\n    isExpired: false, //二维码是否过期\n    spin: false,\n    isLoadQrCode: false, //是否正在加载二维码\n  };\n  componentDidMount() {\n    isSign = true;\n    storage.lastOrganization = \"\";\n    //通知main.js渲染一个small窗口\n    let ipcRenderer = window.electron.ipcRenderer;\n    ipcRenderer.send(\"small\", win());\n    //如果有保存的账号密码则展示出来\n    if (storage.signIn !== undefined && storage.signIn !== \"\") {\n      let data = storage.signIn;\n      data = JSON.parse(data);\n      this.setState({\n        email: data.email,\n        hash: data.hash,\n        QRToken: \"\",\n      });\n    }\n    //是否勾选了保持登录\n    if (storage.isRemember !== undefined) {\n      let isRemember = storage.isRemember === \"true\" ? true : false;\n      this.setState({\n        isRemember,\n      });\n    }\n    // 监听分辨率是否改变\n    ipcRenderer.on(\"changeFenBianLv\", this.changeFenBianLv);\n    //清空本地的注册界面的信息\n    temporaryStorage.logupVetInfo = {};\n    this._getQRCode();\n  }\n  componentWillUnmount() {\n    isSign = false;\n    this.timer && clearInterval(this.timer);\n    let ipcRenderer = window.electron.ipcRenderer;\n    ipcRenderer.removeListener(\"changeFenBianLv\", this.changeFenBianLv);\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer;\n    // ipcRenderer.send('small')\n    ipcRenderer.send(\"small\", win());\n    this.setState({});\n  };\n  _getQRCode = () => {\n    this.setState({\n      isLoadQrCode: true,\n    });\n    num = 0;\n    fetchRequest2(\"/user/getLoginQRcode\", \"GET\", \"\")\n      // addQRCode()\n      .then((res) => {\n        message.destroy();\n\n        console.log(\"---获取二维码\", res);\n        if (res.flag === true) {\n          this.setState({\n            baseUrl: res.data.QRcode,\n            QRToken: res.data.QRToken,\n            isLoadQrCode: false,\n          });\n          this.timer = setInterval(() => {\n            if (!isSign) {\n              this.timer && clearInterval(this.timer);\n            }\n            num++;\n            console.log(\"lunxin\");\n            this._polling();\n\n            if (num > 280) {\n              //超过280秒则去显示二维码过期，要重新获取\n              this.setState({\n                isExpired: true,\n              });\n              num = 0;\n              this.timer && clearInterval(this.timer);\n            }\n          }, 1000);\n        } else {\n          message.error(\"Failed to obtain QR code\", 10);\n          this.setState({\n            isLoadQrCode: false,\n          });\n        }\n      })\n      .catch((err) => {\n        message.error(\"Failed to obtain QR code\", 10);\n        this.setState({\n          isLoadQrCode: false,\n        });\n        console.log(err);\n      });\n  };\n  //轮询\n  _polling = () => {\n    fetchRequest2(`/user/loginWithQRcode/${this.state.QRToken}`)\n      .then((res) => {\n        console.log(\"轮询结果：\", res);\n        if (res.flag === true) {\n          switch (res.code) {\n            case 10001:\n              console.log(\"未扫码\");\n\n              break;\n\n            case 11033:\n              console.log(\"扫码未点击登录\");\n              this.timer && clearInterval(this.timer);\n              temporaryStorage.QRToken = this.state.QRToken;\n              let { name, url } = res.data;\n              this.props.history.replace({\n                pathname: \"/user/login/scanCodeLogin\",\n                params: { name, url },\n              });\n\n              break;\n\n            case 11023:\n              console.log(\"过期\");\n              this.setState({\n                isExpired: true,\n              });\n              num = 0;\n              this.timer && clearInterval(this.timer);\n\n              break;\n\n            default:\n              break;\n          }\n        }\n        console.log(\"code\", res.code);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //登录接口\n  _continue = () => {\n    const { email, hash, isRemember } = this.state;\n\n    message.destroy();\n    let params = {\n      email: email.replace(/(^\\s*)/g, \"\"),\n      hash,\n      identityTypeId: \"1\",\n    };\n    if (email === \"\") {\n      message.error(\"please input your email\");\n      return;\n    }\n    if (hash === \"\") {\n      message.error(\"please input your password\");\n      return;\n    }\n    console.log(params);\n    this.setState({\n      spin: true,\n    });\n    // fetchRequest('/user/mellaLogin', 'POST', params)\n    addLogin(params)\n      .then((res) => {\n        console.log(res);\n        this.setState({\n          spin: false,\n        });\n        if (res.status && res.status === 404) {\n          message.error(\"system error\");\n          return;\n        }\n        if (res.status === 500) {\n          message.error(\"system error\");\n\n          return;\n        }\n        if (res.code === 10001 && res.msg === \"账号错误\") {\n          message.error(\"Account error\");\n          return;\n        }\n        if (res.code === 10002 && res.msg === \"密码错误\") {\n          message.error(\"wrong password\");\n          return;\n        }\n        if (\n          res.code === 0 &&\n          res.msg === \"success\" &&\n          res.success.roleId === 1\n        ) {\n          message.error(\n            \"You do not have the authority of a doctor, please contact the administrator or customer service\",\n            10\n          );\n          return;\n        }\n        if (res.code === 10004 && res.msg === \"账号被限制\") {\n          message.error(\n            \"The account is restricted, please contact the management\",\n            10\n          );\n          return;\n        }\n        if (res.code === 10003) {\n          message.error(\"The password or email is incorrect, please re-enter\");\n          return;\n        }\n\n        if (res.code === 0 && res.msg === \"success\") {\n          this.timer && clearInterval(this.timer);\n          console.log(\"账号密码正确，登录进去了\");\n          let { userWorkplace, lastOrganization, token } = res.success;\n          storage.token = token;\n          storage.userId = \"\";\n          let data = {\n            email: email.replace(/(^\\s*)/g, \"\"),\n            hash,\n          };\n          data = JSON.stringify(data);\n          if (isRemember === true) {\n            storage.signIn = data;\n          } else {\n            storage.signIn = \"\";\n          }\n          storage.saveSign = data;\n\n          storage.userId = res.success.userId;\n          storage.roleId = res.success.roleId;\n\n          //每次登陆后清空宠物列表缓存的数据\n          storage.doctorList = \"\";\n          storage.defaultCurrent = \"\";\n\n          //由于后台接口原因，导致这里的最后工作场所可能不是自己的，因此下面全注释掉。改成如果有多个工作场所则跳转到选择工作场所界面，不是多个则跳转到选择宠物界面\n          if (res.success.lastWorkplaceId) {\n            storage.lastWorkplaceId = res.success.lastWorkplaceId;\n          } else {\n            storage.lastWorkplaceId = \"\";\n          }\n\n          if (res.success.lastOrganization) {\n            storage.lastOrganization = res.success.lastOrganization;\n          } else {\n            storage.lastOrganization = \"\";\n          }\n\n          // console.log(\"----------\", userWorkplace, userWorkplace.length);\n\n          if (userWorkplace) {\n            storage.userWorkplace = JSON.stringify(userWorkplace);\n            let connectionKey = \"\";\n            for (let i = 0; i < userWorkplace.length; i++) {\n              const element = userWorkplace[i];\n              if (element.organizationEntity) {\n                if (\n                  element.organizationEntity.organizationId === lastOrganization\n                ) {\n                  if (element.organizationEntity.connectionKey) {\n                    connectionKey = element.organizationEntity.connectionKey;\n                  }\n                  if (element.roleId) {\n                    console.log(element.roleId);\n                    storage.roleId = element.roleId;\n                  }\n\n                  break;\n                }\n              }\n            }\n            console.log(\"----------key值为：\", connectionKey);\n            storage.connectionKey = connectionKey;\n          } else {\n            storage.userWorkplace = \"\";\n            storage.connectionKey = \"\";\n          }\n\n          this.props.history.push(\"/MainBody\");\n        }\n      })\n      .catch((err) => {\n        this.setState({\n          spin: false,\n        });\n        console.log(err);\n      });\n  };\n\n  _signUp = (e) => {\n    e.preventDefault();\n    this.props.history.push(\"/uesr/logUp/VetPrifile\");\n  };\n  _change = () => {\n    let { isCode } = this.state;\n    message.destroy();\n    if (isCode === false) {\n      this._getQRCode();\n    } else {\n      this.timer && clearInterval(this.timer);\n      num = 0;\n      this.setState({\n        isExpired: false,\n      });\n    }\n    this.setState({ isCode: !this.state.isCode });\n  };\n  //二维码界面\n  _qrCode = () => {\n    let { isCode, baseUrl, isExpired, isLoadQrCode } = this.state;\n    let imgOpacity = isLoadQrCode ? (baseUrl ? 0.1 : 0.5) : 1;\n\n    if (!isExpired) {\n      const antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n      return (\n        <div className=\"qrcode\">\n          <img\n            src={`data:image/jpeg;base64,${baseUrl}`}\n            alt=\"\"\n            style={{\n              width: px(120),\n              height: px(120),\n              opacity: imgOpacity,\n            }}\n          />\n          {isLoadQrCode && (\n            // true &&\n\n            <div className=\"err\">\n              <Spin\n                indicator={antIcon}\n                tip=\"Loading...\"\n                style={{ fontSize: 16, color: \"#e1206d\" }}\n              />\n            </div>\n          )}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"qrcode\">\n          <img\n            src={`data:image/jpeg;base64,${baseUrl}`}\n            alt=\"\"\n            style={{ opacity: \"0.1\", width: px(120), height: px(120) }}\n          />\n\n          <div className=\"err\">\n            <div className=\"errText\">QR code has expired</div>\n            <div\n              className=\"btn\"\n              style={{ width: px(145), height: px(35), marginTop: px(10) }}\n              onClick={this.refresh}\n            >\n              Refresh\n            </div>\n          </div>\n        </div>\n      );\n    }\n  };\n  //点击refresh按钮\n  refresh = () => {\n    this.setState({\n      isExpired: false,\n    });\n    num = 0;\n    this._getQRCode();\n  };\n  beforeDiv = () => {\n    return <img src={back_hui} alt=\"\" style={{ width: px(15) }} />;\n  };\n  afterDiv = () => {\n    return <img src={back_white} alt=\"\" style={{ width: px(15) }} />;\n  };\n\n  render() {\n    let { isCode, baseUrl } = this.state;\n    let code = isCode ? \"icon-diannao-copy\" : \"icon-erweima-copy\";\n    return (\n      <div id=\"signIn\">\n        <div\n          className=\"heaed\"\n          style={{ paddingTop: px(10), paddingRight: px(20) }}\n        >\n          <div className=\"l\">\n            <MouseDiv\n              className=\"mouseDiv\"\n              beforeDiv={this.beforeDiv}\n              afterDiv={this.afterDiv}\n              divClick={() => {\n                this.props.history.push(\"/\");\n              }}\n            />\n          </div>\n          <div className=\"r\">\n            <MinClose />\n          </div>\n        </div>\n\n        <div className=\"body\">\n          <div className=\"logo\">\n            <img src={mellaLogo} alt=\"\" />\n          </div>\n          <div className=\"body\" style={{ position: \"relative\" }}>\n            <div\n              className=\"text\"\n              // style={{\n              //   fontSize: px(28),\n              //   marginBottom: px(20),\n              //   marginTop: px(30),\n              // }}\n            >\n              Please enter email <br />\n              and password\n            </div>\n\n            <div className=\"inpF\">\n              <Input\n                className=\"inp\"\n                // style={{\n                //   width: px(310),\n                //   height: px(45),\n                //   fontSize: px(18),\n                // }}\n                value={this.state.email}\n                placeholder=\"rachel@friends.com\"\n                bordered={false}\n                onChange={(item) => {\n                  let str = item.target.value;\n                  this.setState({\n                    email: str,\n                  });\n                }}\n              />\n              <Input.Password\n                className=\"inp\"\n                // style={{\n                //   width: px(310),\n                //   height: px(45),\n                //   marginLeft: px(6),\n                //   marginBottom: px(18),\n                //   fontSize: px(18),\n                // }}\n                visibilityToggle={false}\n                value={this.state.hash}\n                placeholder=\"********\"\n                bordered={false}\n                onChange={(item) => {\n                  let str = item.target.value;\n                  this.setState({\n                    hash: str,\n                  });\n                }}\n                onKeyDown={(e) => {\n                  if (e.keyCode === 13) {\n                    this._continue();\n                  }\n                }}\n              />\n\n              <div\n                className=\"text\"\n                // style={{\n                //   fontSize: px(28),\n                //   lineHeight: px(1),\n                //   marginTop: px(10),\n                //   marginBottom: px(20),\n                // }}\n              >\n                {\"Or scan QR Code\"}\n              </div>\n            </div>\n\n            {this._qrCode()}\n            <div\n              className=\"littleText flex\"\n              style={{\n                fontSize: px(12),\n                marginTop: px(10),\n                marginBottom: px(10),\n              }}\n            >\n              Go to your Mella mobile app to access\n              <br />\n              the QR scanner\n            </div>\n            <div className=\"stay\">\n              <div className=\"remember\">\n                <p style={{ fontSize: px(16) }}>Stay Signed In</p>\n                <div\n                  className=\"box\"\n                  style={{ width: px(20), height: px(20), marginLeft: px(12) }}\n                  onClick={() => {\n                    let { isRemember } = this.state;\n                    this.setState({\n                      isRemember: !isRemember,\n                    });\n                    storage.isRemember = !isRemember;\n                  }}\n                >\n                  {this.state.isRemember && <img src={dui} alt=\"\" />}\n                </div>\n              </div>\n              <div\n                className=\"forgot\"\n                style={{ fontSize: px(16) }}\n                onMouseDown={() => {\n                  let forget = document.querySelectorAll(\"#signIn .forgot\");\n                  forget[0].style.opacity = 0.5;\n                }}\n                onMouseUp={() => {\n                  document.querySelectorAll(\n                    \"#signIn .forgot\"\n                  )[0].style.opacity = 1;\n                  if (this.state.email) {\n                    temporaryStorage.forgotPassword_email = this.state.email;\n                  }\n\n                  this.props.history.push(\"/user/login/forgotPassword\");\n                }}\n              >\n                Forgot?\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className=\"button11\"\n          style={{ backgroundColor: \"#E7E7E7\" }}\n        >\n          <div\n            className=\"btn1 flex\"\n            onClick={this._continue}\n            // style={{ height: px(40) }}\n          >\n            <p>{`CONTINUE`}</p>\n          </div>\n\n          <div className=\"text2\" style={{ marginTop: px(12) }}>\n            <p style={{ fontSize: px(17) }}>\n              Do not have an account?{\" \"}\n              <a href=\"#\" onClick={this._signUp}>\n                Sign Up\n              </a>\n            </p>\n          </div>\n        </div>\n\n        {this.state.spin && (\n          <div className=\"modal\">\n            <div className=\"loadIcon\" style={{ marginBottom: px(5) }}>\n              <LoadingOutlined\n                style={{ fontSize: 30, color: \"#fff\", marginTop: px(-30) }}\n              />\n            </div>\n            <p>loading...</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\orgAndPractice\\ConnectWorkplace.jsx",["885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\App.js",["902","903"],"import React, { Component } from 'react'\n\nimport { BrowserRouter, Switch, Route, HashRouter } from 'react-router-dom'\n\nimport Home from './components/home/Home'\nimport Choose from './components/choose/Choose'\nimport EzyVetLogin from './components/ezyVetLogin/EzyVetLogin'\nimport EzyVetSelectTime from './components/ezyVetSelectTime/EzyVetSelectTime'\nimport SelectMella from './components/selectMella/SelectMella'\nimport APIkey from './components/apiKey/APIKey'\nimport VerifyOrganizationInformation from './components/selectLocation/VerifyOrganizationInformation'\nimport EzyVetSelectExam from './components/ezyVetSelectExam/EzyVetSelectExam'\nimport DoctorSelectExam from './components/doctorSelectExam/DoctorSelectScheduledExam'\n\nimport DoctorSelectAllExam from './components/doctorSelectExam/DoctorSelectAllExam'\nimport Praviders from './components/praviders/Praviders'\nimport SelectExam from \"./components/selectExam/SelectExam\";\n\nimport Mesasure from \"./components/measure/Mesasure\";\nimport NorMalMeasurement from \"./components/measure/NorMalMeasurement\";\n\nimport MaxMinReturn from './utils/maxminreturn/MaxMinReturn'\nimport EditPetInfo from './components/editPetInfo/EditPetInfo'\nimport WorkPlace from './components/workPlace/WorkPlace'\n\nimport DoctorAddPet from './components/doctorAddPet/DoctorAddPet'\nimport AddYuding from './components/doctorSelectExam/AddYuding'\n//登录部分\nimport SignIn from './components/signIn/SignIn'\nimport ForgotPassword from './components/signIn/forgotPassword/ForgotPassword'\nimport ResetPassword from './components/signIn/resetPassword/ResetPassword'\n\nimport ScanCodeLogin from './components/signIn/scanCodeLogin/ScanCodeLogin'\n\n//邮箱注册的整体部分\nimport VetPrifile from './components/createAccount/vetProfile/VetPrifile'\nimport JoinOrganizationByOption from './components/createAccount/joinOrganizationByOption/JoinOrganizationByOption'\nimport FindMyOrganization from './components/createAccount/findMyOrganization/FindMyOrganization'\nimport FindMyWorkplace from './components/createAccount/findMyWorkplace/FindMyWorkplace'\nimport IsHavePMS from './components/createAccount/ishavePMS/IsHavePMS'\nimport VerifyEmail from './components/createAccount/verifyEmail/index'\nimport NewOrganization from './components/createAccount/newOrganization/NewOrganization'\nimport NewWorkplace from './components/createAccount/newWorkplace/NewWorkplace'\n\nimport InviteTeam from './components/createAccount/inviteTeam/InviteTeam'\n\n//options\nimport Help from './components/menuOptions/help/Help'\nimport Unassigned from './components/menuOptions/unassigned/Unassigned'\nimport Settings from './components/menuOptions/settings/Settings'\nimport AdvancedSettings from './components/menuOptions/advancedSettings/AdvancedSettings'\nimport Invite from './components/menuOptions/invite/Invite'\nimport PetAndParents from './components/menuOptions/petAndParents/PetAndParents'\nimport EditParent from './components/menuOptions/editParent/EditParent'\nimport MyAccount from './pages/myAccount'\n// import AdminAddPet from './components/menuOptions/adminAddPet/AdminAddPet'\nimport Veterinarians from './components/menuOptions/admin_VetProfile/Veterinarians'\nimport AddDevice from './components/menuOptions/addDevice/AddDevice'\nimport ConnectWorkplace from './components/menuOptions/orgAndPractice/ConnectWorkplace'\nimport NewOrg from './components/menuOptions/orgAndPractice/NewOrganization'\nimport Team from './components/menuOptions/orgAndPractice/InviteTeam'\n\nimport MainBody from './components/mainbody'\n\n\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nclass App extends Component {\n  render() {\n    return (\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/page1\" component={Choose} />\n          <Route exact path=\"/ezyVetLogin\" component={EzyVetLogin} />\n          <Route exact path=\"/EzyVetSelectTime\" component={EzyVetSelectTime} />\n          <Route exact path=\"/EzyVetSelectExam\" component={EzyVetSelectExam} />\n          <Route exact path=\"/page2\" component={APIkey} />\n          <Route exact path=\"/page3\" component={VerifyOrganizationInformation} />\n          <Route exact path=\"/page4\" component={SelectMella} />\n\n\n          <Route exact path=\"/VetSpireSelectExam\" component={SelectExam} />\n          <Route exact path=\"/page7\" component={MaxMinReturn} />\n\n          <Route exact path=\"/page8\" component={Mesasure} />\n          <Route exact path=\"/page9\" component={EditPetInfo} />\n          <Route exact path=\"/page10\" component={NorMalMeasurement} />\n          {/* <Route exact path=\"/page10\" component={MainBody} /> */}\n          <Route exact path=\"/MainBody\" component={MainBody} />\n\n\n\n          <Route exact path=\"/page12\" component={WorkPlace} />\n          <Route exact path=\"/AddYuding\" component={AddYuding} />\n\n\n          <Route exact path=\"/page11\" component={SignIn} />\n          <Route exact path=\"/user/login/forgotPassword\" component={ForgotPassword} />\n          <Route exact path=\"/user/login/resetPassword\" component={ResetPassword} />\n          <Route exact path=\"/user/login/scanCodeLogin\" component={ScanCodeLogin} />\n\n          <Route exact path=\"/uesr/logUp/FindMyOrganization\" component={FindMyOrganization} />\n          <Route exact path=\"/uesr/logUp/FindMyWorkplace\" component={FindMyWorkplace} />\n          <Route exact path=\"/uesr/logUp/VetPrifile\" component={VetPrifile} />\n          <Route exact path=\"/uesr/logUp/JoinOrganizationByOption\" component={JoinOrganizationByOption} />\n          <Route exact path=\"/uesr/logUp/isHavePMS\" component={IsHavePMS} />\n          <Route exact path=\"/uesr/logUp/VerifyEmail\" component={VerifyEmail} />\n          <Route exact path=\"/uesr/logUp/NewOrganization\" component={NewOrganization} />\n          <Route exact path=\"/uesr/logUp/NewWorkplace\" component={NewWorkplace} />\n          <Route exact path=\"/uesr/logUp/InviteTeam\" component={InviteTeam} />\n\n\n\n\n\n          <Route exact path=\"/uesr/selectExam\" component={DoctorSelectExam} />\n          <Route exact path=\"/uesr/DoctorSelectAllExam\" component={DoctorSelectAllExam} />\n\n\n\n\n\n\n\n          <Route exact path=\"/pet/doctorAddPet\" component={DoctorAddPet} />\n\n          {/* options */}\n          <Route exact path=\"/menuOptions/help\" component={Help} />\n          <Route exact path=\"/menuOptions/unassigned\" component={Unassigned} />\n          <Route exact path=\"/menuOptions/settings\" component={Settings} />\n          <Route exact path=\"/menuOptions/advancedsettings\" component={AdvancedSettings} />\n          <Route exact path=\"/menuOptions/invite\" component={Invite} />\n          <Route exact path=\"/menuOptions/petAndParents\" component={PetAndParents} />\n          <Route exact path=\"/menuOptions/editParent\" component={EditParent} />\n          <Route exact path=\"/MyAccount\" component={MyAccount} />\n          {/* <Route exact path=\"/menuOptions/adminAddPet\" component={AdminAddPet} /> */}\n          <Route exact path=\"/menuOptions/veterinarians\" component={Veterinarians} />\n          <Route exact path=\"/menuOptions/AddDevice\" component={AddDevice} />\n          <Route exact path=\"/menuOptions/ConnectWorkplace\" component={ConnectWorkplace} />\n          <Route exact path=\"/menuOptions/NewOrg\" component={NewOrg} />\n          <Route exact path=\"/menuOptions/Team\" component={Team} />\n\n\n\n\n\n\n\n\n        </Switch>\n      </HashRouter>\n    )\n  }\n}\nexport default App\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\choose\\Choose.jsx",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\selectMella\\SelectMella.jsx",["904"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\ezyVetSelectTime\\EzyVetSelectTime.jsx",["905","906","907","908"],"import React, { Component, } from 'react'\r\nimport {\r\n\r\n  Select,\r\n  DatePicker, Space,\r\n  message,\r\n  Button,\r\n  Input\r\n} from 'antd';\r\nimport { createFromIconfontCN } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\n//import 'antd/dist/antd.css';\r\nimport MaxMin from './../../utils/maxminreturn/MaxMinReturn'\r\nimport dui from './../../assets/images/dui.png'\r\nimport './ezyVetSelectTime.less'\r\nimport { FetchEszVet } from './../../utils/FetchEszVet'\r\n\r\n\r\nlet storage = window.localStorage;\r\nconst { RangePicker } = DatePicker;\r\n\r\nexport default class EzyVetSelectTime extends Component {\r\n\r\n  state = {\r\n    startTime: moment(moment().format(\"YYYY-MM-DD\")),\r\n    endTime: moment(),\r\n    patientId: ''\r\n  }\r\n\r\n  componentDidMount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('big')\r\n    console.log(storage.selectTime);\r\n    if (storage.selectTime && `${storage.selectTime}` !== `undefined` && storage.selectTime !== '') {\r\n      try {\r\n        this.setState({\r\n          startTime: moment(JSON.parse(storage.selectTime).startTime),\r\n          endTime: moment(JSON.parse(storage.selectTime).endTime)\r\n        })\r\n      } catch (error) {\r\n        console.log('时间转换错误', error);\r\n      }\r\n\r\n    }\r\n    console.log('============', storage.selectPatientId);\r\n    if (storage.selectPatientId && `${storage.selectPatientId}` !== `undefined` && storage.selectPatientId !== '') {\r\n      try {\r\n        this.setState({\r\n          patientId: storage.selectPatientId\r\n\r\n        })\r\n      } catch (error) {\r\n        console.log('时间转换错误', error);\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n  _next = () => {\r\n    let { startTime, endTime } = this.state\r\n    if (startTime === null || endTime === null) {\r\n      message.error('Please select a date range')\r\n      return\r\n    }\r\n    let saveSart = startTime.format('YYYY-MM-DD HH:mm:ss'), saveEnd = endTime.format('YYYY-MM-DD HH:mm:ss');\r\n    console.log('开始时间', startTime.format('YYYY-MM-DD HH:mm:ss'), '---------------结束时间', endTime.format('YYYY-MM-DD HH:mm:ss'));\r\n    let chazhi = new Date().getTimezoneOffset()\r\n    chazhi = chazhi + 360\r\n    console.log('差值', chazhi);\r\n    let start = startTime.add(chazhi, 'm').format('YYYY-MM-DD HH:mm:ss');\r\n    let end = endTime.add(chazhi, 'm').format('YYYY-MM-DD HH:mm:ss');\r\n    console.log(start, end);\r\n    let unix = `{\">\": ${moment(start).format('X')}, \"<\": ${moment(end).format('X')}}`\r\n    let uri = encodeURIComponent(unix)\r\n    console.log('-----------', unix, uri);\r\n    storage.unixToURI = uri\r\n    let selectTime = {\r\n      startTime: saveSart,\r\n      endTime: saveEnd,\r\n    }\r\n    console.log('最终的选择时间：', selectTime);\r\n    storage.selectTime = JSON.stringify(selectTime)\r\n    storage.selectPatientId = this.state.patientId\r\n    console.log(storage.selectTime, JSON.parse(storage.selectTime), storage.selectPatientId);\r\n    this.props.history.push('EzyVetSelectExam')\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div id=\"ezyVetSelectTime\">\r\n        {/* 关闭缩小 */}\r\n        <MaxMin\r\n          onClick={() => { this.props.history.push('/') }}\r\n          onClick1={() => this.props.history.push('/ezyVetLogin')}\r\n        />\r\n        <div className=\"text\">\r\n          Please select the scope of <br /> search for medical records\r\n        </div>\r\n\r\n        <div className=\"patirntID\">\r\n          <p style={{ width: '80px' }}>Patient ID:</p>\r\n          <Input\r\n            style={{ outline: 'medium' }}\r\n            value={this.state.patientId}\r\n            // bordered={false}\r\n            onChange={(item) => {\r\n              console.log(item);\r\n              this.setState({\r\n                patientId: item.target.value\r\n              })\r\n            }}\r\n\r\n          />\r\n\r\n        </div>\r\n\r\n        <div className=\"time\">\r\n          <Space direction=\"vertical\" size={12}>\r\n            <RangePicker\r\n              value={[this.state.startTime, this.state.endTime]}\r\n              showTime\r\n              ranges={{\r\n                Today: [moment(moment().format(\"YYYY-MM-DD\")), moment(moment().endOf('day'))],\r\n              }}\r\n              onChange={(dates, dateStrings) => {\r\n                // console.log('From: ', dates[0], ', to: ', dates[1]);\r\n                // console.log('From: ', dateStrings[0], ', to: ', dateStrings[1]);\r\n                console.log('我是第一个', dates, dateStrings);\r\n                // this.setState({\r\n                //   startTime: dateStrings[0],\r\n                //   endTime: dateStrings[1]\r\n                // })\r\n              }}\r\n              onCalendarChange={(dates, dateStrings) => {\r\n                console.log('我是第二个', dates, dateStrings);\r\n                this.setState({\r\n                  startTime: moment(dateStrings[0]),\r\n                  endTime: moment(dateStrings[1])\r\n                })\r\n              }}\r\n            />\r\n          </Space>\r\n        </div>\r\n\r\n        <div className=\"btn\">\r\n          <Button\r\n            type=\"primary\"\r\n            shape=\"round\"\r\n            size='large'\r\n            onClick={this._next}\r\n          >\r\n            Next\r\n          </Button>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\doctorSelectExam\\DoctorSelectScheduledExam.jsx",["909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936"],"////这是普通用户的选择界面，后期集成时候别忘了identity，进入测量界面的身份，是vetspire、ezyvet、普通医生\r\nimport React, { Component } from 'react'\r\nimport {\r\n  Table,\r\n  Input,\r\n  Button,\r\n  Space,\r\n  message,\r\n  Menu,\r\n  Modal,\r\n  Select,\r\n  ConfigProvider\r\n\r\n} from 'antd';\r\nimport Draggable from \"react-draggable\";\r\nimport Button1 from '../../utils/button/Button'\r\nimport moment from 'moment'\r\n//import 'antd/dist/antd.css';\r\nimport Heard from '../../utils/heard/Heard'\r\nimport { SyncOutlined, createFromIconfontCN } from '@ant-design/icons';\r\nimport MaxMin from '../../utils/maxminreturn/MaxMinReturn'\r\nimport './doctorSelectExam.less'\r\n\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { FetchEszVet } from '../../utils/FetchEszVet'\r\nimport { fetchRequest } from '../../utils/FetchUtil1'\r\nimport gender from '../../utils/gender'\r\nimport temporaryStorage from '../../utils/temporaryStorage';\r\nimport { MTop, mTop, pX, px, win } from '../../utils/px';\r\nimport { stopBubble } from '../../utils/current'\r\nimport { fetchRequest4 } from '../../utils/FetchUtil4';\r\nimport { fetchRhapsody } from '../../utils/FetchUtil5';\r\nimport jinggao from './../../assets/img/jinggao.png'\r\nimport redclose from './../../assets/img/redclose.png'\r\nimport blackTriangle from './../../assets/img/blackTriangle.png'\r\nimport refresh from './../../assets/img/Refresh.png'\r\nimport SelectionBox from '../../utils/selectionBox/SelectionBox'\r\n\r\nimport electronStore from '../../utils/electronStore';\r\n\r\nconst { SubMenu } = Menu;\r\nconst MyIcon = createFromIconfontCN({\r\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\r\n})\r\nlet storage = window.localStorage;\r\n\r\n\r\n\r\nexport default class DoctorSelecScheduledtExam extends Component {\r\n  state = {\r\n    loading: false,\r\n    api: '',\r\n    id: '',  //选择location的id\r\n    locations: [],\r\n    data: [],\r\n    searchData: [],\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    seleceID: '',  //宠物医生id\r\n    spin: false,   //刷新按钮是否旋转\r\n    unixToURI: '',\r\n    ezyVetToken: '',\r\n    current: 1,\r\n    closebgc: '',\r\n    minbgc: '',\r\n    closeColor: '',\r\n    heardSearchText: '',\r\n\r\n    isNotFound: true,\r\n    modalVis: false,\r\n\r\n    disabled: true,       //model是否可拖拽\r\n    bounds: { left: 0, top: 0, bottom: 0, right: 0 },\r\n\r\n    sortBy: 'Time',\r\n    showsortBy: false\r\n  }\r\n  componentWillMount () {\r\n    // console.log('------------', this.props.location.listDate);\r\n    try {\r\n      if ((this.props.location.listDate && this.props.location.listDate !== 'undefined')) {\r\n        // console.log('------------', this.props.location);\r\n        let data = JSON.parse(this.props.location.listDate)\r\n        this.setState({\r\n          data,\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    let { height, width } = window.screen\r\n    let windowsHeight = height > width ? width : height\r\n    console.log(windowsHeight, height, width);\r\n    if (windowsHeight < 900) {\r\n      ipcRenderer.send('table', win())\r\n    } else {\r\n      ipcRenderer.send('big', win())\r\n    }\r\n    // ipcRenderer.send('big')\r\n    message.destroy()\r\n\r\n\r\n\r\n    storage.identity = '3'\r\n\r\n    if ((this.props.location.listDate && this.props.location.listDate !== 'undefined')) {\r\n      let data = JSON.parse(this.props.location.listDate)\r\n      this.setState({\r\n        data,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        loading: true,\r\n      })\r\n    }\r\n    this._getExam()\r\n    temporaryStorage.logupVetInfo = {}\r\n    temporaryStorage.logupSelectOrganization = {}\r\n    temporaryStorage.logupSuccessData = {}\r\n    temporaryStorage.logupOrganization = {}\r\n    temporaryStorage.logupEmailCode = ''\r\n\r\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\r\n\r\n\r\n    let items = document.querySelectorAll('#doctorSelectExam .ant-table-thead .ant-table-cell')\r\n    for (let i = 0; i < items.length; i++) {\r\n      let style = items[i].style\r\n      style.padding = \"5px 5px\"\r\n      style.textAlign = 'center'\r\n\r\n\r\n    }\r\n\r\n  }\r\n  componentWillUnmount () {\r\n    message.destroy()\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n\r\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\r\n  }\r\n  changeFenBianLv = (e) => {\r\n    console.log(e);\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    let { height, width } = window.screen\r\n    let windowsHeight = height > width ? width : height\r\n    console.log(windowsHeight, height, width);\r\n    if (windowsHeight < 900) {\r\n      ipcRenderer.send('table', win())\r\n    } else {\r\n      ipcRenderer.send('big', win())\r\n    }\r\n    this.setState({\r\n\r\n    })\r\n  }\r\n\r\n  rhapsody = async (patientsArr) => {\r\n\r\n    // console.log(patientsArr);\r\n    let dataArr = []\r\n    try {\r\n      for (let i = 0; i < patientsArr.length; i++) {\r\n        let params = { query: `query { patient (id:\"${patientsArr[i].patientId}\") {  vitals { data{ id, weight{value}, createdAt, updatedAt}}}}` }\r\n        let item = await fetchRhapsody('', 'POST', params, storage.connectionKey)\r\n        if (item.data) {\r\n\r\n          let { vitals } = item.data.patient\r\n          let vitalData = vitals.data\r\n          console.log('-----------', vitalData);\r\n          let weight = ''\r\n          if (vitalData.length > 0) {\r\n            vitalData.sort((a, b) => {\r\n              return moment(parseInt(a.createdAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.createdAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\r\n            })\r\n            if (vitalData[0].weight && vitalData[0].weight.value) {\r\n              patientsArr[i].weight = (vitalData[0].weight.value * 0.45).toFixed(1)\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n      console.log(patientsArr);\r\n      patientsArr.sort((a, b) => {\r\n        return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\r\n      })\r\n      this.setState({\r\n        data: patientsArr,\r\n        loading: false\r\n      })\r\n\r\n      electronStore.set('doctorExam', patientsArr)\r\n    } catch (error) {\r\n      this.setState({\r\n        loading: false,\r\n      })\r\n      message.destroy()\r\n      message.error('Medical record acquisition failed')\r\n    }\r\n\r\n\r\n  }\r\n\r\n  _getExam = async () => {\r\n    console.log('进来了');\r\n\r\n\r\n\r\n\r\n\r\n    //现在Rhapsody组织数据还没有集成到后台，因此这里就先做临时处理\r\n    if (storage.lastOrganization === '34') {\r\n\r\n      console.log(storage.connectionKey);\r\n      //1.获取用户id\r\n\r\n      let params = { query: `query { business { id, name, state } }` }\r\n      fetchRhapsody('', 'POST', params, storage.connectionKey)\r\n\r\n        .then(res => {\r\n          console.log('---', res);\r\n          if (res.errors) {\r\n            this.setState({\r\n              loading: false,\r\n              spin: false\r\n            })\r\n            message.destroy()\r\n            message.error('Data acquisition failed')\r\n\r\n          } else {\r\n            console.log('获取到了businessId');\r\n            let businessId = res.data.business.id\r\n            // let param = {\r\n            //   query: `query  { patients (businessId:\"${businessId}\") { data{ id, clientId, name,gender, dateOfBirth\r\n            //   species{id,name},\r\n            //   breeds{id,name},\r\n            //   createdAt,owners{owner{firstName,lastName} }}}` }\r\n            let param = {\r\n              query: `query { \r\n                patients (businessId:\"${businessId}\") {\r\n                    data{ \r\n                         id, \r\n                         clientId, \r\n                         businessId, \r\n                         name  \r\n                         gender,\r\n                         dateOfBirth,\r\n                         species{id,name},\r\n                         breeds{id,name},\r\n                         createdAt ,\r\n                         owners{owner{firstName,lastName}}\r\n                    }\r\n                }\r\n            }`\r\n            }\r\n\r\n            console.log('获取病历单的入参', param, JSON.stringify(param));\r\n            fetchRhapsody('', 'POST', param, storage.connectionKey)\r\n              .then(res => {\r\n                console.log(res);\r\n                if (res.errors) {\r\n                  this.setState({\r\n                    loading: false,\r\n                    spin: false\r\n                  })\r\n                  message.destroy()\r\n                  message.error('Failed to get pet list')\r\n\r\n                } else {\r\n                  let patientsArr = res.data.patients.data\r\n                  let dataArr = []\r\n                  for (let i = 0; i < patientsArr.length; i++) {\r\n                    const patient = patientsArr[i];\r\n                    let { id, name, gender, dateOfBirth, breeds, owners, createdAt } = patient\r\n\r\n                    createdAt = moment(createdAt).format('X')\r\n                    let owner = 'unknown'\r\n                    if (owners.length > 0) {\r\n                      let ownerItem = owners[0]\r\n                      if (ownerItem && ownerItem.owner) {\r\n                        let { firstName, lastName } = ownerItem.owner\r\n                        if (firstName || lastName) {\r\n                          owner = `${lastName} ${firstName}`\r\n                        }\r\n                      }\r\n\r\n                    }\r\n\r\n                    let breed = 'unknown'\r\n                    if (breeds.length > 0 && breeds[0].name) {\r\n                      breed = breeds[0].name\r\n                    }\r\n\r\n                    let petAge = 'unknown'\r\n                    if (dateOfBirth) {\r\n                      petAge = moment(new Date()).diff(moment(dateOfBirth), 'years')\r\n                      // console.log('petAge', petAge);\r\n                    }\r\n\r\n                    let json = {\r\n                      insertedAt: createdAt,\r\n                      patientId: id,\r\n                      petName: name,\r\n                      owner,\r\n                      breed,\r\n                      gender: gender || 'unknown',\r\n                      age: petAge,\r\n                      petId: '',\r\n                      id: `${i}`,\r\n                      weight: null,\r\n                      rfid: null,\r\n                      url: null,\r\n                      speciesId: null,\r\n                    }\r\n                    dataArr.push(json)\r\n\r\n\r\n                  }\r\n\r\n                  console.log(dataArr);\r\n\r\n\r\n\r\n                  this.rhapsody(dataArr)\r\n                }\r\n\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n                this.setState({\r\n                  loading: false,\r\n                  spin: false\r\n                })\r\n                message.destroy()\r\n                message.error('Failed to get pet list')\r\n              })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.setState({\r\n            loading: false,\r\n            spin: false\r\n          })\r\n          message.destroy()\r\n          message.error('Data acquisition failed')\r\n        })\r\n\r\n\r\n\r\n\r\n      return\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    let startDay = moment().startOf('day').format('YYYY-MM-DD HH:mm:ss')\r\n    let endDay = moment().endOf('day').format('YYYY-MM-DD HH:mm:ss')\r\n    let chazhi = new Date().getTimezoneOffset()\r\n    let newstartTime = moment(startDay).add(chazhi, 'm').format('YYYY-MM-DD HH:mm:ss');\r\n    let newendTime = moment(endDay).add(chazhi, 'm').format('YYYY-MM-DD HH:mm:ss');\r\n\r\n    let params = {\r\n      doctorId: storage.userId,\r\n      offset: 0,\r\n      size: 100,\r\n      subStartTime: newstartTime,\r\n      subEndTime: newendTime\r\n    }\r\n    if (storage.lastWorkplaceId) {\r\n      params.workplaceId = storage.lastWorkplaceId\r\n    }\r\n    if (storage.lastOrganization) {\r\n      params.organizationId = storage.lastOrganization\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    console.log('查询宠物的入参', params,);\r\n    const isUnKnow = (val) => {\r\n      if (val) {\r\n        return val\r\n      } else {\r\n        return 'unknown'\r\n      }\r\n    }\r\n\r\n    // fetchRequest('/user/listAllPetInfo', 'GET', params)\r\n    fetchRequest('/new/pet/subscribe/page', 'POST', params)\r\n\r\n      .then(res => {\r\n        console.log('查询到的宠物列表,/new/pet/subscribe/page', res);\r\n\r\n        if (res.flag === true && res.data) {\r\n          let data = []\r\n          // let oldList = res.data\r\n          let oldList = res.data.list\r\n          for (let i = 0; i < oldList.length; i++) {\r\n            let { age, url, createTime, patientId, speciesId, petName, firstName, birthday, lastName, breedName, gender, petId, weight, rfid, l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference, pethubId, macId,\r\n              h2tLength, torsoLength } = oldList[i]\r\n            let owner = ''\r\n            patientId = isUnKnow(patientId)\r\n            petName = isUnKnow(petName)\r\n            breedName = isUnKnow(breedName)\r\n            age = isUnKnow(age)\r\n            weight = isUnKnow(weight)\r\n            if (!firstName) {\r\n              firstName = ''\r\n            }\r\n            if (!lastName) {\r\n              lastName = ''\r\n            }\r\n            if (lastName === '' && firstName === '') {\r\n              owner = 'unknown'\r\n            } else {\r\n              owner = `${lastName} ${firstName}`\r\n            }\r\n            createTime = moment(createTime).format('X')\r\n            let petGender = ''\r\n            switch (`${gender}`) {\r\n              case '1': petGender = 'F'\r\n\r\n                break;\r\n              case '0': petGender = \"M\"\r\n                break;\r\n              default: petGender = 'unknown'\r\n                break;\r\n            }\r\n            let petAge = 'unknown'\r\n            if (birthday) {\r\n              petAge = moment(new Date()).diff(moment(birthday), 'years')\r\n            }\r\n\r\n            let json = {\r\n              insertedAt: createTime,\r\n              patientId,\r\n              petName,\r\n              owner,\r\n              breed: breedName,\r\n              gender: petGender,\r\n              age: petAge,\r\n              petId,\r\n              id: i,\r\n              weight,\r\n              rfid,\r\n              url,\r\n              speciesId,\r\n              l2rarmDistance, neckCircumference, upperTorsoCircumference, lowerTorsoCircumference,\r\n              h2tLength, torsoLength,\r\n              pethubId, macId,\r\n\r\n            }\r\n            data.push(json)\r\n\r\n          }\r\n          data.sort((a, b) => {\r\n            return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\r\n          })\r\n          console.log('列表的数据：', data);\r\n          storage.doctorList = JSON.stringify(data)\r\n          this.setState({\r\n            data,\r\n            loading: false,\r\n            spin: false\r\n          })\r\n\r\n          electronStore.set('doctorExam', data)\r\n\r\n\r\n        } else {\r\n          this.setState({\r\n            loading: false,\r\n            spin: false\r\n          })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        this.setState({\r\n          loading: false,\r\n          spin: false\r\n        })\r\n      })\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  getColumnSearchProps = dataIndex => ({\r\n    //dataIndex 是标题名称\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => ( //通过 filterDropdown 自定义的列筛选功能，并实现一个搜索列的示例。\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    //自定义Icon\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    //\t本地模式下，确定筛选的运行函数 value:输入框里输入的内容     record:所有的项，相当于遍历\r\n    onFilter: (value, record) => {\r\n      console.log(value, record, dataIndex);\r\n      return record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : ''\r\n    },\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n  _refresh = () => {\r\n    console.log('点击了');\r\n    this.setState({\r\n      spin: true\r\n    })\r\n    // this._getData()\r\n    this._getExam()\r\n  }\r\n\r\n  /**------------------顶部start------------------------ */\r\n  _close = () => {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    console.log('关闭程序');\r\n    ipcRenderer.send('window-close')\r\n  }\r\n  _min = () => {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    console.log('最小化程序');\r\n    ipcRenderer.send('window-min')\r\n    this.setState({\r\n      minbgc: '',\r\n    })\r\n  }\r\n  _minMove = () => {\r\n\r\n    this.setState({\r\n      minbgc: 'rgb(211, 205, 205)'\r\n    })\r\n  }\r\n  _minLeave = () => {\r\n    this.setState({\r\n      minbgc: ''\r\n    })\r\n  }\r\n  _closeMove = () => {\r\n    this.setState({\r\n      closeColor: 'red',\r\n      closebgc: '#fff'\r\n    })\r\n  }\r\n  _closeLeave = () => {\r\n    this.setState({\r\n      closeColor: '#fff',\r\n      closebgc: ''\r\n    })\r\n  }\r\n\r\n  handleClick = e => {\r\n    console.log('click ', e);\r\n\r\n    switch (e.key) {\r\n      case '1': this.props.history.push('/page11'); break;\r\n      case '2': this.props.history.push('/'); break;\r\n      case '3':\r\n        try {\r\n\r\n          let selectNum = document.getElementsByClassName('ant-pagination-item-active')\r\n          // storage.defaultCurrent = selectNum[0].title\r\n          storage.doctorList = JSON.stringify(this.state.data)\r\n        } catch (error) {\r\n          console.log('错误信息', error);\r\n        }\r\n\r\n\r\n        this.props.history.push('/page8'); break;\r\n      case '4': this.props.history.push('/page12'); break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n  };\r\n\r\n  _search1 = (search) => {       //这个是搜索调用后台的函数，现在废弃20210929\r\n    let params = {\r\n      doctorId: storage.userId,\r\n      petName: search,\r\n    }\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    if (storage.lastWorkplaceId) {\r\n      params.workplaceId = storage.lastWorkplaceId\r\n    }\r\n    const isUnKnow = (val) => {\r\n      if (val) {\r\n        return val\r\n      } else {\r\n        return 'unknown'\r\n      }\r\n    }\r\n    console.log('搜索的数据', params);\r\n    fetchRequest('/pet/listPetsLike', \"POST\", params)\r\n      .then(res => {\r\n        console.log(res);\r\n\r\n        if (res.flag === true) {\r\n          let data = []\r\n          for (let i = 0; i < res.data.length; i++) {\r\n            let { age, createTime, patientId, petName, firstName, birthday, lastName, breedName, gender, petId, weight } = res.data[i]\r\n            let owner = ''\r\n            patientId = isUnKnow(patientId)\r\n            petName = isUnKnow(petName)\r\n            breedName = isUnKnow(breedName)\r\n            age = isUnKnow(age)\r\n            weight = isUnKnow(weight)\r\n            if (!firstName) {\r\n              firstName = ''\r\n            }\r\n            if (!lastName) {\r\n              lastName = ''\r\n            }\r\n            if (lastName === '' && firstName === '') {\r\n              owner = 'unknown'\r\n            } else {\r\n              owner = `${lastName} ${firstName}`\r\n            }\r\n            createTime = moment(createTime).format('X')\r\n            let petGender = ''\r\n            switch (`${gender}`) {\r\n              case '1': petGender = 'F'\r\n\r\n                break;\r\n              case '0': petGender = \"M\"\r\n                break;\r\n              default: petGender = 'unknown'\r\n                break;\r\n            }\r\n            let petAge = 'unknown'\r\n            if (birthday) {\r\n              petAge = moment(new Date()).diff(moment(birthday), 'years')\r\n              // console.log('petAge', petAge);\r\n            }\r\n\r\n            let json = {\r\n              insertedAt: createTime,\r\n              patientId,\r\n              petName,\r\n              owner,\r\n              breed: breedName,\r\n              gender: petGender,\r\n              age: petAge,\r\n              petId,\r\n              id: i,\r\n              weight\r\n\r\n            }\r\n            data.push(json)\r\n\r\n          }\r\n          data.sort((a, b) => {\r\n            return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1\r\n          })\r\n          this.setState({\r\n            searchData: data,\r\n            loading: false\r\n          })\r\n        } else {\r\n          this.setState({\r\n            searchData: [],\r\n            loading: false\r\n          })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        this.setState({\r\n          loading: false\r\n        })\r\n      })\r\n  }\r\n\r\n  _search = (keyWord) => {       //这个是搜索功能 ，怎么展示列表的内容进行搜索\r\n\r\n    /**\r\n     * 使用indexof方法实现模糊查询\r\n     *     语法：stringObject.indexOf(searchvalue, fromindex)\r\n     *   参数：searchvalue 必需。规定需检索的字符串值。 fromindex 可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 stringObject.length - 1。如省略该参数，则将从字符串的首字符开始检索。\r\n     *    说明：该方法将从头到尾地检索字符串 stringObject，看它是否含有子串 searchvalue。开始检索的位置在字符串的 fromindex 处或字符串的开头（没有指定 fromindex 时）。如果找到一个 searchvalue，则返回 searchvalue 的第一次出现的位置。stringObject 中的字符位置是从 0 开始的。如果没有找到，将返回 -1。\r\n     *  \r\n     * list         原数组\r\n     * keyWord      查询关键词\r\n     * searchData   查询的结果\r\n     * \r\n     * toLowerCase（）方法：将字符串统一转成小写\r\n     * toUpperCase（）方法：将字符串统一转成大写\r\n     * \r\n     */\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    let list = this.state.data\r\n    let searchData = []\r\n    for (let i = 0; i < list.length; i++) {\r\n      let petName = list[i].petName.toLowerCase() || ''\r\n      let patientId = list[i].patientId.toLowerCase() || ''\r\n      let rfid = list[i].rfid || ''\r\n      if (`${petName}`.indexOf(keyWord.toLowerCase()) !== -1\r\n        || `${patientId}`.indexOf(keyWord.toLowerCase()) !== -1\r\n        || `${rfid}`.indexOf(keyWord) !== -1\r\n      ) {\r\n        searchData.push(list[i])\r\n      }\r\n    }\r\n    console.log(searchData);\r\n    this.setState({\r\n      searchData,\r\n      loading: false\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  RFIDSearch = () => {\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    fetchRequest4(`/pet/getPetInfoByRFID/${this.state.heardSearchText}/${storage.lastOrganization}`, 'GET')\r\n      .then(res => {\r\n        console.log('----RFID搜索结果', res);\r\n\r\n        if (res.flag === true && res.data) {\r\n          let { createTime, patientId, petName, firstName, lastName, breedName, gender, birthday, petId, rfid, weight } = res.data\r\n          patientId = patientId || 'unknown'\r\n          petName = petName || 'unknown'\r\n          breedName = breedName || 'unknown'\r\n          weight = weight || 'unknown'\r\n          let owner = ''\r\n          if (!firstName) {\r\n            firstName = ''\r\n          }\r\n          if (!lastName) {\r\n            lastName = ''\r\n          }\r\n          if (lastName === '' && firstName === '') {\r\n            owner = 'unknown'\r\n          } else {\r\n            owner = `${lastName} ${firstName}`\r\n          }\r\n          createTime = moment(createTime).format('X')\r\n          let petGender = ''\r\n          switch (`${gender}`) {\r\n            case '1': petGender = 'F'\r\n\r\n              break;\r\n            case '0': petGender = \"M\"\r\n              break;\r\n            default: petGender = 'unknown'\r\n              break;\r\n          }\r\n          let petAge = 'unknown'\r\n          if (birthday) {\r\n            petAge = moment(new Date()).diff(moment(birthday), 'years')\r\n            // console.log('petAge', petAge);\r\n          }\r\n          let json = {\r\n            insertedAt: createTime,\r\n            patientId,\r\n            petName,\r\n            owner,\r\n            breed: breedName,\r\n            gender: petGender,\r\n            age: petAge,\r\n            petId,\r\n            id: 0,\r\n            weight,\r\n            rfid\r\n          }\r\n          let searchData = []\r\n          searchData.push(json)\r\n          this.setState({\r\n            searchData,\r\n            loading: false\r\n          })\r\n\r\n\r\n\r\n\r\n        } else if (res.flag === true && res.msg === '该组织下无此宠物信息') {\r\n          console.log('找到了但是不是在这个组织下');\r\n          this.setState({\r\n            loading: false,\r\n            modalVis: true,\r\n            isNotFound: false,\r\n            heardSearchText: ''\r\n          })\r\n        } else {\r\n          console.log('没有找到');\r\n          this.setState({\r\n            loading: false,\r\n            modalVis: true,\r\n            isNotFound: true,\r\n            heardSearchText: ''\r\n          })\r\n        }\r\n      })\r\n      .catch(err => {\r\n\r\n        console.log('抛出异常:', err);\r\n        this.setState({\r\n          loading: false,\r\n        })\r\n      })\r\n  }\r\n  draggleRef = React.createRef();\r\n  onStart = (event, uiData) => {\r\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\r\n    const targetRect = this.draggleRef?.current?.getBoundingClientRect();\r\n    this.setState({\r\n      bounds: {\r\n        left: -targetRect?.left + uiData?.x,\r\n        right: clientWidth - (targetRect?.right - uiData?.x),\r\n        top: -targetRect?.top + uiData?.y,\r\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y)\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  render () {\r\n    const columns = [\r\n      {\r\n        title: 'Time',\r\n        dataIndex: 'insertedAt',\r\n        key: 'insertedAt',\r\n        width: '16%',\r\n        // ...this.getColumnSearchProps('insertedAt'),\r\n        render: (text, record, index) => {\r\n          let chazhi = new Date().getTimezoneOffset()\r\n          // console.log(moment(parseInt(text) * 1000).format('YYYY-MM-DD HH:mm'));\r\n          let year = moment(parseInt(text) * 1000).format('YYYY-MM-DD');\r\n          let time = moment(parseInt(text) * 1000).format('hh:mm a');\r\n          let newTime = moment(parseInt(text) * 1000).format('YYYY-MM-DD HH:mm');\r\n          // console.log(moment(parseInt(text) * 1000).add(chazhi, 'm').format('YYYY-MM-DD HH:mm'));\r\n          return (\r\n            <div className='flex' style={{ paddingTop: pX(3), paddingBottom: pX(3), paddingLeft: px(10), justifyContent: 'flex-start', alignItems: 'flex-start' }}>\r\n              <p>{`${year}`}</p>\r\n              <p>{`${time}`}</p>\r\n            </div>\r\n          )\r\n        },\r\n\r\n      },\r\n      {\r\n        title: 'Pet ID',\r\n        dataIndex: 'patientId',\r\n        key: 'patientId',\r\n        width: '15%',\r\n        // ...this.getColumnSearchProps('patientId'),\r\n      },\r\n      {\r\n        title: 'Pet Name',\r\n        dataIndex: 'petName',\r\n        key: 'petName',\r\n        width: '15%',\r\n        // ...this.getColumnSearchProps('petName'),\r\n      },\r\n      {\r\n        title: 'Owner',\r\n        dataIndex: 'owner',\r\n        key: 'owner',\r\n        width: '15%',\r\n        // ...this.getColumnSearchProps('owner'),\r\n      },\r\n      {\r\n        title: 'Breed',\r\n        dataIndex: 'breed',\r\n        key: 'breed',\r\n        width: '15%',\r\n        // ...this.getColumnSearchProps('breed'),\r\n        render: (text, record, index) => {\r\n          if (!text || text === 'defaultdog' || text === 'defaultother' || text === 'defaultcat') {\r\n            return (\r\n              <p style={{ textAlign: 'center' }}>{'unknown'}</p>\r\n            )\r\n          } else {\r\n            return (\r\n              <p style={{ textAlign: 'center' }}>{text}</p>\r\n            )\r\n          }\r\n\r\n        }\r\n      },\r\n\r\n      {\r\n        title: 'Gender',\r\n        dataIndex: 'gender',\r\n        key: 'gender',\r\n        width: '12%',\r\n        // width: '30%',\r\n        // ...this.getColumnSearchProps('gender'),\r\n      },\r\n      {\r\n        title: 'Age',\r\n        dataIndex: 'age',\r\n        key: 'age',\r\n        width: '12%',\r\n        // width: '20%',\r\n        render: (text, record, index) => {\r\n          // console.log(text);\r\n\r\n          if (`${text}` === 'NaN') {\r\n            return (\r\n              <p style={{ textAlign: 'center', justifyItems: 'center' }}>{'unknown'}</p>\r\n            )\r\n          } else {\r\n            return (\r\n              <p style={{ textAlign: 'center' }}>{text}</p>\r\n            )\r\n          }\r\n\r\n        }\r\n      },\r\n\r\n\r\n    ];\r\n    const { loading, data, api, id, seleceID, spin, closeColor, closebgc, minbgc, disabled, bounds, modalVis, sortBy, showsortBy } = this.state\r\n\r\n    let items = document.querySelectorAll('#doctorSelectExam .ant-table-thead .ant-table-cell')\r\n    for (let i = 0; i < items.length; i++) {\r\n      let style = items[i].style\r\n      style.padding = `5px 5px`\r\n      style.textAlign = 'center'\r\n    }\r\n    const noData = () => {\r\n      return (\r\n        <div className='flex nodata' style={{ paddingTop: px(60), paddingBottom: px(60) }}>\r\n          <p style={{ fontSize: px(22) }}>No pet found, </p>  &nbsp;&nbsp;\r\n          <a style={{ fontSize: px(22) }} href=\"#\"\r\n            onClick={(e) => {\r\n              console.log('我要去添加宠物');\r\n              // try {\r\n\r\n              //   storage.doctorList = JSON.stringify(this.state.data)\r\n              // } catch (error) {\r\n              //   console.log('错误信息', error);\r\n              // }\r\n              // // /pet/doctorAddPet\r\n              // this.props.history.push({ pathname: '/pet/doctorAddPet' })\r\n              this.props.history.push({ pathname: '/AddYuding', })\r\n              e.preventDefault();\r\n\r\n            }}\r\n\r\n          >{`go to add`}</a>\r\n        </div>\r\n      )\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n      <div id=\"doctorSelectExam\" onClick={(e) => {\r\n        console.log('隐藏');\r\n        this.setState({\r\n          showsortBy: false\r\n        })\r\n      }}>\r\n        {/* 关闭缩小 */}\r\n        <Heard\r\n          onReturn={() => {\r\n            this.props.history.push('/page11')\r\n\r\n          }}\r\n          onSearch={(data) => {\r\n\r\n            storage.doctorExam = JSON.stringify(data)\r\n\r\n            storage.doctorList = JSON.stringify(this.state.data)\r\n            if (storage.isClinical === 'true') {\r\n              this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: data.patientId })\r\n            } else {\r\n              this.props.history.push({ pathname: '/page10', })\r\n            }\r\n          }}\r\n          menu10Click={() => {\r\n            this.props.history.push({ pathname: '/uesr/DoctorSelectAllExam', })\r\n          }}\r\n          blueSearch={true}\r\n        />\r\n\r\n\r\n        <div className=\"hread flex\">\r\n          <div className=\"hread1 flex\" style={{ marginTop: px(30) }}>\r\n            <div className=\"heard1L flex\">\r\n              <div className=\"title\" style={{ fontSize: px(25) }}>Scheduled Patients</div>\r\n              <div className=\"refresh flex\"\r\n                style={{ fontSize: px(25), marginLeft: px(10) }}\r\n              >\r\n                <SyncOutlined onClick={this._refresh} spin={spin} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"walkin flex\"\r\n              style={{ borderRadius: px(50), height: px(45), fontSize: px(20) }}\r\n              onClick={() => {\r\n                storage.doctorExam = JSON.stringify('')\r\n                storage.doctorList = JSON.stringify(this.state.data)\r\n                if (storage.isClinical === 'true') {\r\n                  this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: null })\r\n                } else {\r\n                  this.props.history.push({ pathname: '/page10', })\r\n                }\r\n\r\n              }}\r\n            >Walk-In</div>\r\n\r\n          </div>\r\n          <div className=\"heard2 flex\" style={{ marginTop: px(8), marginBottom: px(8) }}>\r\n\r\n            <div className=\"sort flex\" >\r\n              <p style={{ fontSize: px(16), marginRight: px(10) }}>sort By:</p>\r\n\r\n              <SelectionBox\r\n                listArr={[\r\n                  { key: 'time', value: 'Time' },\r\n                  { key: 'petid', value: 'Pet ID' },\r\n                  { key: 'owner', value: 'Owner' },\r\n                  { key: 'breed', value: 'Breed' },\r\n                  { key: 'petname', value: 'Pet Name' },\r\n                  { key: 'gender', value: 'Gender' },\r\n                ]}\r\n                clickItem={(item) => {\r\n                  let petList = [].concat(data)\r\n                  switch (item.key) {\r\n                    case 'time':\r\n                      petList.sort((a, b) => { return moment(parseInt(a.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') > moment(parseInt(b.insertedAt) * 1000).format('YYYY-MM-DD HH:mm') ? -1 : 1 })\r\n                      break;\r\n                    case 'petid':\r\n                      petList.sort((a, b) => { return a.patientId >= b.patientId ? 1 : -1 })\r\n                      break;\r\n                    case 'owner':\r\n                      petList.sort((a, b) => { return a.owner >= b.owner ? 1 : -1 })\r\n                      break;\r\n                    case 'breed':\r\n                      petList.sort((a, b) => { return a.breed >= b.breed ? 1 : -1 })\r\n                      break;\r\n                    case 'petname':\r\n                      petList.sort((a, b) => { return a.petName >= b.petName ? 1 : -1 })\r\n                      break;\r\n                    case 'gender':\r\n                      petList.sort((a, b) => { return a.gender >= b.gender ? 1 : -1 })\r\n                      break;\r\n                  }\r\n\r\n                  this.setState({\r\n                    sortBy: item.value,\r\n                    showsortBy: false,\r\n                    data: petList\r\n                  })\r\n                }}\r\n              />\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div className=\"table\" >\r\n          <ConfigProvider renderEmpty={noData}>\r\n            <Table\r\n              style={{\r\n                // border: ' #979797 1px solid',\r\n                padding: 0,\r\n                margin: 0,\r\n                width: '95%',\r\n                // height: px(500)\r\n              }}\r\n              rowKey={data => data.id}\r\n              bordered={false}\r\n              columns={columns}\r\n              dataSource={(this.state.heardSearchText.length === 0) ? this.state.data : this.state.searchData}\r\n              loading={loading}\r\n              locale={{ filterConfirm: <div>111</div> }}\r\n              // pagination={{ showSizeChanger: false, showQuickJumper: true, defaultCurrent: this.state.current }}\r\n              pagination={false}\r\n              scroll={{\r\n                y: px(600)\r\n              }}\r\n              onRow={(record) => {\r\n                return {\r\n                  onClick: (event) => {\r\n\r\n                    console.log('record', record);\r\n                    storage.doctorExam = JSON.stringify(record)\r\n                    storage.doctorList = JSON.stringify(this.state.data)\r\n\r\n                    if (storage.isClinical === 'true') {\r\n                      this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: record.patientId })\r\n                    } else {\r\n                      this.props.history.push({ pathname: '/page10', })\r\n                    }\r\n\r\n\r\n                  }, // 点击行\r\n\r\n                };\r\n              }}\r\n            />\r\n          </ConfigProvider>\r\n        </div>\r\n        <div className=\"hread flex\" style={{ alignItem: 'center' }}>\r\n          <div className=\"hread1\" style={{ marginTop: px(10), justifyContent: 'flex-end', display: 'flex', }}>\r\n            <div className=\"walkin flex\"\r\n              style={{ borderRadius: px(50), height: px(45), fontSize: px(20), marginRight: px(10) }}\r\n              onClick={() => {\r\n                this.props.history.push({ pathname: '/AddYuding', })\r\n\r\n              }}\r\n            >Create New Scheduled</div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n        <Modal\r\n\r\n          // visible={isOrg}\r\n          visible={modalVis}\r\n          onCancel={() => this.setState({ modalVis: false })}\r\n          width={350}\r\n          footer={[]}\r\n          modalRender={(modal) => (\r\n            <Draggable\r\n              disabled={disabled}\r\n              bounds={bounds}\r\n              onStart={(event, uiData) => this.onStart(event, uiData)}\r\n            >\r\n              <div ref={this.draggleRef}>{modal}</div>\r\n            </Draggable>\r\n          )}\r\n          destroyOnClose={true}\r\n          wrapClassName=\"doctorSelectExamModal\"\r\n        >\r\n          <div id='doctorSelectExamModal'>\r\n            <div className=\"text\"\r\n              onMouseOver={() => {\r\n                if (disabled) {\r\n                  this.setState({\r\n                    disabled: false,\r\n                  });\r\n                }\r\n              }}\r\n              onMouseOut={() => {\r\n                this.setState({\r\n                  disabled: true,\r\n                });\r\n              }}\r\n\r\n            >{this.state.isNotFound ? 'Pet not found!' : 'Pet found!'}</div>\r\n            <div className='Img'>\r\n              {this.state.isNotFound ?\r\n                <img src={redclose} width=\"50px\" /> :\r\n                <img src={jinggao} width=\"50px\" />\r\n              }\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n            {this.state.isNotFound ? <p > This pet is not on your database</p> :\r\n              <p >Pet Identified but does not <br /> belong to your organization.</p>}\r\n\r\n\r\n            <div style={{ marginTop: px(20) }}>\r\n              <Button1\r\n                text={'OK'}\r\n\r\n                onClick={() => this.setState({\r\n                  modalVis: false\r\n                })}\r\n              />\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          </div>\r\n\r\n        </Modal>\r\n\r\n\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\vetProfile\\VetPrifile.jsx",["937","938","939","940","941","942","943","944"],"import React, { Component, } from 'react'\r\nimport {\r\n  Button,\r\n\r\n  Modal,\r\n  message\r\n} from 'antd';\r\nimport Draggable from \"react-draggable\";\r\nimport { createFromIconfontCN, CaretDownFilled } from '@ant-design/icons';\r\n//import 'antd/dist/antd.css';\r\n\r\nimport './vetProfile.less'\r\nimport imgArray from './../../../utils/areaCode/imgArray'\r\nimport MaxMin from './../../../utils/maxminreturn/MaxMinReturn'\r\nimport { fetchRequest2 } from './../../../utils/FetchUtil2'\r\nimport { fetchRequest } from './../../../utils/FetchUtil1'\r\nimport countryList from './../../../utils/areaCode/country';\r\nimport moment from 'moment';\r\nimport temporaryStorage from '../../../utils/temporaryStorage'\r\nimport { mTop, pX, px } from '../../../utils/px';\r\nimport MyModal from './../../../utils/myModal/MyModal'\r\nimport { fetchRequest3 } from './../../../utils/FetchUtil3';\r\n\r\nconst options = [\r\n  { label: 'Dogs', value: 'Dogs' },\r\n  { label: 'Cats', value: 'Cats' },\r\n  { label: 'Small Pets', value: 'Small Pets' },\r\n  { label: 'Nutrition', value: 'Nutrition' },\r\n  { label: 'Surgery', value: 'Surgery' },\r\n  { label: 'Zoo', value: 'Zoo' },\r\n  { label: 'Wildlife', value: 'Wildlife' },\r\n  { label: 'Cardiology', value: 'Cardiology' },\r\n  { label: 'Neurology', value: 'Neurology' },\r\n  { label: 'Anaesthesia', value: 'Anaesthesia' },\r\n  { label: 'Other', value: 'Other' },\r\n]\r\nexport default class VetPrifile extends Component {\r\n\r\n  state = {\r\n    code: 1,\r\n    imgArrayIndex: 0,\r\n    otherText: '',\r\n    name: '',\r\n    lastName: '',\r\n    email: '',\r\n    phone: '',\r\n    birthday: moment(),\r\n    password: '',\r\n    password1: '',\r\n    checboxtValue: [],\r\n    expertise: '00000000000',       //专业领域，勾选某一项，则这一项为1，反之为0    01011111101\r\n\r\n    visible: false,       //nodel框是否显示\r\n    disabled: true,       //model是否可拖拽\r\n    bounds: { left: 0, top: 0, bottom: 0, right: 0 },\r\n    loadVisible: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    //发送指令让main.js创建一个big窗口\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('big')\r\n\r\n    //检测是否本地是否有注册信息，有就展示出来。\r\n    console.log(temporaryStorage.logupVetInfo);\r\n    if (temporaryStorage.logupVetInfo && temporaryStorage.logupVetInfo.email) {\r\n      console.log('进来了');\r\n      let { firstName, lastName, email, hash, code, initPhone, imgArrayIndex } = temporaryStorage.logupVetInfo\r\n      this.setState({\r\n        name: firstName || '',\r\n        lastName,\r\n        email,\r\n        password: hash,\r\n        password1: hash,\r\n        code,\r\n        phone: initPhone || '',\r\n        imgArrayIndex\r\n      })\r\n\r\n\r\n    }\r\n\r\n\r\n    //如果是从别的界面跳转过来并且带来了邮箱号，要直接展示在输入框里。eg：忘记密码输入的邮箱号未注册，跳转到注册界面\r\n    if (this.props.location && this.props.location.email) {\r\n      this.setState({\r\n        email: this.props.location.email\r\n      })\r\n    }\r\n    //监听屏幕分辩率是否变化，变化就去更改界面内容距离大小\r\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\r\n\r\n\r\n  }\r\n  componentWillUnmount() {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\r\n  }\r\n  changeFenBianLv = (e) => {\r\n    console.log(e);\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('big')\r\n    this.setState({\r\n\r\n    })\r\n  }\r\n\r\n\r\n  _next1 = () => {\r\n    let { name, lastName, email, code, phone, password1, password, } = this.state\r\n    message.destroy()\r\n    console.log({ name, email, code, phone, password1, password, });\r\n    email = email.toLocaleLowerCase()\r\n    if (name.length <= 0) {\r\n      message.error('Please enter your first name', 3)\r\n      return\r\n    }\r\n    if (lastName.length <= 0) {\r\n      message.error('Please enter your last name', 3)\r\n      return\r\n    }\r\n    if (!email) {\r\n      message.error('Please enter the mailbox number', 3)\r\n      return\r\n    } else {\r\n      if (email.indexOf('@') === -1 || email.indexOf('@') === 0 || email.indexOf('@') === email.length - 1) {\r\n        message.error('E-mail format is incorrect', 3)\r\n        return\r\n      }\r\n    }\r\n    // if (!phone) {\r\n    //   message.error('Please enter the phone number', 3)\r\n    //   return\r\n    // }\r\n    if (password.length <= 0 || password1.length <= 0) {\r\n      message.error('Please enter the password', 3)\r\n      return\r\n    }\r\n\r\n    if (password !== password1) {\r\n      message.error('The password entered twice is incorrect, please re-enter', 3)\r\n      return\r\n    }\r\n    this.setState({\r\n      loadVisible: true\r\n    })\r\n    fetchRequest(`/user/checkUser/${email}`, 'GET', '')\r\n      .then(res => {\r\n        console.log(res);\r\n        if (!res.flag) {\r\n          console.log('邮箱号以被注册，是否忘记密码');\r\n          this.setState({\r\n            loadVisible: false,\r\n            visible: true\r\n          })\r\n        }\r\n        else {\r\n          console.log('邮箱号可以使用');\r\n          if (res.code === 11011 || res.code === 11012) {\r\n            this.setState({\r\n              loadVisible: false,\r\n              visible: true\r\n            })\r\n            return\r\n          }\r\n\r\n          let params = {\r\n            firstName: name,\r\n            lastName,\r\n            email,\r\n            // phone: `+${code}${phone}`,\r\n            hash: password,\r\n          }\r\n          if (phone) {\r\n            params.phone = `+${code}${phone}`\r\n          }\r\n          console.log('注册接口的入参：', params);\r\n          fetchRequest2('/user/deskRegistAWSSNS', \"POST\", params)\r\n            .then(res => {\r\n              this.setState({\r\n                loadVisible: false\r\n              })\r\n              console.log('注册接口返回数据：', res);\r\n              if (res.flag) {\r\n                console.log('注册成功了，去验证验证码');\r\n                temporaryStorage.logupEmailCode = res.data\r\n                params.code = code\r\n                params.initPhone = phone\r\n                params.imgArrayIndex = this.state.imgArrayIndex\r\n                temporaryStorage.logupVetInfo = params\r\n                this.props.history.push('/uesr/logUp/VerifyEmail')\r\n              } else {\r\n                message.error('registration failed', 3)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.setState({\r\n                loadVisible: false\r\n              })\r\n              message.error(`Error:${err.message}`)\r\n              console.log('注册接口抛出错误：', err);\r\n            })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          loadVisible: false\r\n        })\r\n        message.error(`Error:${err.message}`)\r\n        console.log('检测邮箱号的接口出错了', err);\r\n      })\r\n  }\r\n  _next = () => {\r\n    let { name, lastName, email, code, phone, password1, password, } = this.state\r\n    message.destroy()\r\n    console.log({ name, email, code, phone, password1, password, });\r\n    email = email.toLocaleLowerCase()\r\n    if (name.length <= 0) {\r\n      message.error('Please enter your first name', 3)\r\n      return\r\n    }\r\n    if (lastName.length <= 0) {\r\n      message.error('Please enter your last name', 3)\r\n      return\r\n    }\r\n    if (!email) {\r\n      message.error('Please enter the mailbox number', 3)\r\n      return\r\n    } else {\r\n      if (email.indexOf('@') === -1 || email.indexOf('@') === 0 || email.indexOf('@') === email.length - 1) {\r\n        message.error('E-mail format is incorrect', 3)\r\n        return\r\n      }\r\n    }\r\n    // if (!phone) {\r\n    //   message.error('Please enter the phone number', 3)\r\n    //   return\r\n    // }\r\n    if (password.length <= 0 || password1.length <= 0) {\r\n      message.error('Please enter the password', 3)\r\n      return\r\n    }\r\n\r\n    if (password !== password1) {\r\n      message.error('The password entered twice is incorrect, please re-enter', 3)\r\n      return\r\n    }\r\n    this.setState({\r\n      loadVisible: true\r\n    })\r\n\r\n\r\n    let params = {\r\n      firstName: name,\r\n      lastName,\r\n      email,\r\n      hash: password,\r\n    }\r\n    if (phone) {\r\n      params.phone = `+${code}${phone}`\r\n    }\r\n    console.log('注册接口的入参：', params);\r\n    fetchRequest3('/user/registByAWSSES', \"POST\", params)\r\n      .then(res => {\r\n        this.setState({\r\n          loadVisible: false\r\n        })\r\n        console.log('注册接口返回数据：', res);\r\n        switch (res.code) {\r\n          case 11011:\r\n            console.log('用户已存在，应该跳出弹框')\r\n            this.setState({\r\n              visible: true\r\n            })\r\n\r\n            break;\r\n\r\n          case 20000:\r\n            console.log('可以注册，跳转到下一页');\r\n            temporaryStorage.logupEmailCode = res.data\r\n            params.code = code\r\n            params.initPhone = phone\r\n            params.imgArrayIndex = this.state.imgArrayIndex\r\n            temporaryStorage.logupVetInfo = params\r\n            this.props.history.push('/uesr/logUp/VerifyEmail')\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n        // if (res.flag) {\r\n        //   console.log('注册成功了，去验证验证码');\r\n        //   temporaryStorage.logupEmailCode = res.data\r\n        //   params.code = code\r\n        //   params.initPhone = phone\r\n        //   params.imgArrayIndex = this.state.imgArrayIndex\r\n        //   temporaryStorage.logupVetInfo = params\r\n        //   this.props.history.push('/uesr/logUp/VerifyEmail')\r\n        // } else {\r\n        //   message.error('registration failed', 3)\r\n        // }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          loadVisible: false\r\n        })\r\n        message.error(`Error:${err.message}`)\r\n        console.log('注册接口抛出错误：', err);\r\n      })\r\n\r\n  }\r\n  _signIn = (e) => {\r\n    e.preventDefault();\r\n    this.props.history.push('/page11')\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let { lastName, disabled, bounds, name, email, phone, password, password1, visible } = this.state\r\n    return (\r\n      <div id=\"vetPrifile\" >\r\n        {/* 关闭缩小 */}\r\n        <div className=\"heard\">\r\n          <MaxMin\r\n            onClick={() => { this.props.history.push('/') }}\r\n            onClick1={() => this.props.history.push('/')}\r\n          />\r\n        </div>\r\n        <div className=\"body\">\r\n          <div className=\"text\"\r\n            style={{ fontSize: px(30), marginBottom: px(120) }}\r\n          >\r\n            Let’s start by creating your account\r\n          </div>\r\n          <div className=\"form\" >\r\n            <div className=\"item\" style={{ marginBottom: px(40) }}>\r\n              <div className=\"l\" style={{ margin: `0 ${px(8)}px` }}>\r\n                <input\r\n                  type=\"text\"\r\n                  value={name}\r\n                  placeholder=\"First Name\"\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n\r\n                    this.setState({\r\n                      name: data\r\n                    })\r\n                  }}\r\n                />\r\n\r\n              </div>\r\n              <div className=\"l\" style={{ margin: `0 ${px(8)}px` }}>\r\n                <input\r\n                  type=\"text\"\r\n                  value={lastName}\r\n                  placeholder=\"Last Name\"\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n\r\n                    this.setState({\r\n                      lastName: data\r\n                    })\r\n                  }}\r\n                />\r\n\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"item\" style={{ marginBottom: px(40) }}>\r\n              <div className=\"l\" style={{ margin: `0 ${px(8)}px` }}>\r\n                <input\r\n                  type=\"Email\"\r\n                  value={email}\r\n                  placeholder=\"Email Address*\"\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      email: data\r\n                    })\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"l\" style={{ margin: `0 ${px(8)}px` }}>\r\n                <ul id=\"list\" style={{ top: -px(80), left: px(10) }}>\r\n                  {countryList.map((item, index) => {\r\n                    let url = imgArray[item.locale.toLowerCase()] ? imgArray[item.locale.toLowerCase()].default : ''\r\n                    return (\r\n                      <li key={index}>\r\n                        <div key={index}\r\n                          style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}\r\n                          onClick={() => {\r\n                            console.log(item, index);\r\n                            this.setState({\r\n                              code: item.code,\r\n                              imgArrayIndex: index\r\n                            })\r\n                            document.getElementById('list').style.display = \"none\"\r\n                          }}\r\n                        >\r\n                          <img src={url} alt=\"\" />\r\n                          <p >{`${item.en}   +${item.code}`}</p>\r\n                        </div>\r\n                      </li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n\r\n\r\n                <div className='phone'>\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', position: 'absolute', left: '10px' }}\r\n                    onClick={() => {\r\n                      document.getElementById('list').style.display = \"block\"\r\n                    }}\r\n                  >\r\n                    <img style={{ zIndex: '888' }}\r\n                      src={imgArray[countryList[this.state.imgArrayIndex].locale.toLowerCase()].default} alt=\"\"\r\n                    />\r\n                    <CaretDownFilled style={{ marginRight: '10px' }} />\r\n                  </div>\r\n\r\n\r\n                  <input\r\n                    type=\"Phone\"\r\n                    value={phone}\r\n                    placeholder=\"Phone Number\"\r\n                    onChange={(value) => {\r\n                      let data = value.target.value\r\n                      this.setState({\r\n                        phone: data.replace(/[^\\-?\\d]/g, '')\r\n                      })\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n            <div className=\"item\" style={{ marginBottom: px(40) }}>\r\n              <div className=\"l\" style={{ margin: `0 ${px(8)}px` }}>\r\n                <input\r\n                  type=\"Password\"\r\n                  value={password}\r\n                  placeholder=\"Create Password\"\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      password: data\r\n                    })\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"l\" style={{ margin: `0 ${px(8)}px` }}>\r\n                <input\r\n                  type=\"Password\"\r\n                  value={password1}\r\n                  placeholder=\"Confirm  Password\"\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      password1: data\r\n                    })\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <div className=\"foot\">\r\n          <div className=\"footText\"\r\n          >Already have an accoun? <a href=\"#\" onClick={this._signIn}> Sign In</a></div>\r\n\r\n          {/* 按钮 */}\r\n          <div className=\"btn\" style={{ padding: `${px(40)}px 0` }}>\r\n            <Button\r\n              type=\"primary\"\r\n              shape=\"round\"\r\n              size='large'\r\n              htmlType=\"submit\"\r\n              onClick={this._next}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <MyModal\r\n\r\n          visible={this.state.loadVisible}\r\n        />\r\n\r\n        <Modal\r\n\r\n          visible={visible}\r\n          // visible={true}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          width={330}\r\n          closable={false}\r\n          footer={[\r\n\r\n          ]}\r\n          destroyOnClose={true}\r\n          wrapClassName=\"vetPrifileModal\"\r\n        >\r\n          <div id='vetPrifileModal'>\r\n            <div className=\"title\">Email Already Exists</div>\r\n\r\n            <div className='text'>Please sign up with your Mella<br />account and create a new<br />workspace from the<br />Settings menu.</div>\r\n\r\n            <div className=\"btn\">\r\n\r\n              <button\r\n                onClick={() => {\r\n                  this.setState({\r\n                    visible: false,\r\n                    email: ''\r\n                  })\r\n                }}\r\n              >Try Again</button>\r\n              <button\r\n                onClick={() => {\r\n                  this.setState({\r\n                    visible: false\r\n                  })\r\n                  this.props.history.replace('/page11')\r\n                }}\r\n              >Sign Up</button>\r\n\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </Modal>\r\n      </div>\r\n\r\n\r\n    )\r\n  }\r\n}\r\n\r\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\joinOrganizationByOption\\JoinOrganizationByOption.jsx",["945","946","947","948","949","950","951","952"],"import React, { Component } from 'react'\r\nimport {\r\n  // Button,\r\n  message,\r\n  Modal,\r\n  Input\r\n} from 'antd';\r\nimport Draggable from \"react-draggable\";\r\n//import 'antd/dist/antd.css';\r\nimport MaxMin from '../../../utils/maxminreturn/MaxMinReturn'\r\nimport { createFromIconfontCN, SyncOutlined } from '@ant-design/icons';\r\nimport Button from './../../../utils/button/Button'\r\nimport Close from './../../../assets/img/close.png'\r\nimport left1 from './../../../assets/img/left1.png'\r\nimport './joinOrganizationByOption.less'\r\nimport { fetchRequest } from '../../../utils/FetchUtil1';\r\nimport temporaryStorage from '../../../utils/temporaryStorage';\r\nimport { px } from '../../../utils/px'\r\nimport MyModal from '../../../utils/myModal/MyModal';\r\nimport { fetchRequest2 } from '../../../utils/FetchUtil2';\r\n\r\nconst MyIcon = createFromIconfontCN({\r\n  scriptUrl: '//at.alicdn.com/t/font_2326495_7b2bscbhvvt.js'\r\n})\r\nexport default class FindWorkplace extends Component {\r\n\r\n  state = {\r\n    search: '',\r\n    listData: [],\r\n    searchData: [],\r\n    selectId: {},\r\n    isOrg: false,       //nodel框是否显示\r\n    isWorkplace: false,\r\n    workplaceList: [],\r\n    disabled: true,       //model是否可拖拽\r\n    bounds: { left: 0, top: 0, bottom: 0, right: 0 },\r\n    selectworkplace: {}\r\n  }\r\n  componentDidMount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('big')\r\n    fetchRequest(`/organization/listAll`, \"GET\", '')\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.msg === 'success') {\r\n          this.setState({\r\n            listData: res.data\r\n          })\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n    this.setState({\r\n      selectId: temporaryStorage.logupSelectOrganization\r\n    })\r\n    temporaryStorage.logupSelectOrganization = {}\r\n\r\n    //监听屏幕分辩率是否变化，变化就去更改界面内容距离大小\r\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\r\n\r\n\r\n\r\n  }\r\n  componentWillUnmount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\r\n  }\r\n  changeFenBianLv = (e) => {\r\n    console.log(e);\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('big')\r\n    this.setState({\r\n\r\n    })\r\n  }\r\n  onStart = (event, uiData) => {\r\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\r\n    const targetRect = this.draggleRef?.current?.getBoundingClientRect();\r\n    this.setState({\r\n      bounds: {\r\n        left: -targetRect?.left + uiData?.x,\r\n        right: clientWidth - (targetRect?.right - uiData?.x),\r\n        top: -targetRect?.top + uiData?.y,\r\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y)\r\n      }\r\n    });\r\n  };\r\n\r\n  _logIn = () => {\r\n\r\n    let storage = window.localStorage;\r\n    let { email, hash } = temporaryStorage.logupVetInfo\r\n    let params = {\r\n      email: email.replace(/(^\\s*)/g, \"\"),\r\n      hash,\r\n      identityTypeId: '1'\r\n    }\r\n    console.log('---登录入参', params);\r\n    fetchRequest('/user/mellaLogin', 'POST', params)\r\n      .then(res => {\r\n        console.log(res);\r\n        this.setState({\r\n          isLoading: false\r\n        })\r\n        if (res.status && res.status === 404) {\r\n          message.error('system error');\r\n          return\r\n        }\r\n        if (res.status && res.status === 500) {\r\n          message.error('Internal Server Error');\r\n          return\r\n        }\r\n        if (res.code === 10001 && res.msg === '账号错误') {\r\n          message.error('Account error');\r\n          return\r\n        }\r\n        if (res.code === 10002 && res.msg === '密码错误') {\r\n          message.error('wrong password')\r\n          return;\r\n        }\r\n        if (res.code === 0 && res.msg === 'success' && res.success.roleId === 1) {\r\n          message.error('You do not have the authority of a doctor, please contact the administrator or customer service', 10)\r\n          return\r\n        }\r\n\r\n        if (res.code === 0 && res.msg === 'success') {\r\n          console.log('账号密码正确，登录进去了');\r\n          let { userWorkplace, lastOrganization, token } = res.success\r\n          storage.token = token\r\n          storage.userId = ''\r\n\r\n          storage.userId = res.success.userId\r\n          storage.roleId = res.success.roleId\r\n\r\n          //每次登陆后清空宠物列表缓存的数据\r\n          storage.doctorList = ''\r\n          storage.defaultCurrent = ''\r\n          this.setState({\r\n            isOrg: false,\r\n            isWorkplace: false\r\n          })\r\n\r\n          if (userWorkplace) {\r\n            storage.userWorkplace = JSON.stringify(userWorkplace)\r\n            let connectionKey = ''\r\n            const element = userWorkplace[0];\r\n            storage.lastOrganization = element.organizationEntity.organizationId\r\n            storage.lastWorkplaceId = element.workplaceEntity.workplaceId\r\n            if (element.organizationEntity.connectionKey) {\r\n              connectionKey = element.organizationEntity.connectionKey\r\n            }\r\n            if (element.roleId) {\r\n              console.log(element.roleId);\r\n              storage.roleId = element.roleId\r\n            }\r\n            if (userWorkplace.length === 1) {\r\n              this.props.history.push(\"/MainBody\");\r\n\r\n            } else {\r\n              this.props.history.push('/page12')\r\n            }\r\n          } else {\r\n            storage.userWorkplace = ''\r\n            storage.connectionKey = ''\r\n            this.props.history.push(\"/MainBody\");\r\n            storage.lastOrganization = ''\r\n            storage.lastWorkplaceId = ''\r\n          }\r\n\r\n        }\r\n        if (res.code === 10000 && res.msg === '系统内部错误') {\r\n          message.error('system error')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        this.setState({\r\n          isLoading: false\r\n        })\r\n        message.error('Login failed')\r\n      })\r\n  }\r\n  _search = (val) => {\r\n    let search = val.target.value\r\n    let { listData } = this.state\r\n    let searchData = []\r\n    for (let i = 0; i < listData.length; i++) {\r\n      if (listData[i].name.toLowerCase().indexOf(search.toLowerCase()) !== -1) {\r\n        searchData.push(listData[i])\r\n      }\r\n    }\r\n    this.setState({\r\n      search,\r\n      searchData\r\n    })\r\n\r\n  }\r\n  _searchworkPlace = (val) => {\r\n    let search = val.target.value\r\n    let listData = this.state.workplaceList\r\n    console.log('----------------', listData);\r\n    let searchData = []\r\n    for (let i = 0; i < listData.length; i++) {\r\n      if (listData[i].workplaceName.toLowerCase().indexOf(search.toLowerCase()) !== -1) {\r\n        searchData.push(listData[i])\r\n      }\r\n    }\r\n    this.setState({\r\n      search,\r\n      searchData\r\n    })\r\n\r\n  }\r\n\r\n  _list = () => {\r\n    const { search, listData, searchData } = this.state\r\n    let data = (search.length > 0) ? searchData : listData\r\n    let option = data.map((item, index) => {\r\n      return <li key={item.organizationId}\r\n        onClick={() => {\r\n          this.setState({\r\n            selectId: item\r\n          })\r\n          console.log(item);\r\n          temporaryStorage.logupSelectOrganization = item\r\n\r\n\r\n        }}\r\n\r\n      >\r\n        <div className=\"item\"> {item.name}</div>\r\n\r\n        {(this.state.selectId.organizationId === item.organizationId ? <span className=\"search\">&#xe614;</span> : null)}\r\n      </li>\r\n    })\r\n    return (\r\n      <ul>\r\n        {option}\r\n      </ul>\r\n    )\r\n  }\r\n\r\n  _list1 = () => {\r\n    const { search, workplaceList, searchData } = this.state\r\n    let data = (search.length > 0) ? searchData : workplaceList\r\n    let option = data.map((item, index) => {\r\n      return <li key={item.workplaceId}\r\n        onClick={() => {\r\n          this.setState({\r\n            selectworkplace: item\r\n          })\r\n          console.log(item);\r\n\r\n        }}\r\n\r\n      >\r\n\r\n        {item.workplaceName}\r\n        {(this.state.selectworkplace === item ? <span className=\"search\">&#xe614;</span> : null)}\r\n      </li>\r\n\r\n    })\r\n    return (\r\n      <ul>\r\n        {option}\r\n      </ul>\r\n    )\r\n  }\r\n\r\n  _goNewOrg = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      isOrg: false,\r\n      isWorkplace: false\r\n    })\r\n    this.props.history.push('/uesr/logUp/NewOrganization')\r\n  }\r\n  _goNewWorkplace = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      isOrg: false,\r\n      isWorkplace: false\r\n    })\r\n    this.props.history.push('/uesr/logUp/NewWorkplace')\r\n  }\r\n  _goWorkplace = () => {\r\n    console.log('前往工作场所');\r\n    fetchRequest(`/workplace/listAllWorkplaceByOrganizationId/${temporaryStorage.logupSelectOrganization.organizationId}`, \"GET\", '')\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.msg === 'success') {\r\n          this.setState({\r\n            workplaceList: res.data,\r\n            isOrg: false,\r\n\r\n          }, () => {\r\n            this.setState({\r\n              isWorkplace: true\r\n            })\r\n          })\r\n        } else {\r\n          console.log('请求错误');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n  _addworkplaced = () => {\r\n    let params = {\r\n      userId: temporaryStorage.logupSuccessData.userId,\r\n      roleId: 2,\r\n      workplaceId: this.state.selectworkplace.workplaceId,\r\n      organizationId: this.state.selectworkplace.organizationId\r\n    }\r\n    console.log('入参：', params);\r\n    this.setState({\r\n      isLoading: true,\r\n      isWorkplace: false,\r\n      isOrg: false\r\n    })\r\n\r\n    fetchRequest('/user/updateUserInfo', 'POST', params)\r\n      .then(res => {\r\n        console.log(res);\r\n\r\n        if (res.flag === true) {\r\n          message.success('Join successfully', 3)\r\n\r\n          console.log('成功',);\r\n          this._logIn()\r\n        } else {\r\n          this.setState({\r\n            isLoading: false\r\n          })\r\n          message.error('Join failed', 3)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          isLoading: false\r\n        })\r\n        console.log(err);\r\n        message.error(err.message, 3)\r\n      })\r\n  }\r\n\r\n  render () {\r\n    let { disabled, bounds, isOrg, isWorkplace } = this.state\r\n    return (\r\n      <div id=\"joinOrganizationByOption\">\r\n        <div className=\"heard\">\r\n          {/* 关闭缩小 */}\r\n          <MaxMin\r\n            onClick={() => { this.props.history.push('/') }}\r\n            onClick1={() => this.props.history.push('/uesr/logUp/VetPrifile')}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"body\">\r\n          <div className=\"text\">Join an Organization</div>\r\n\r\n          <div className=\"way\" style={{ marginTop: px(20), marginBottom: px(60) }}>\r\n            <div className=\"item\" style={{ paddingTop: px(60) }}\r\n              onClick={() => {\r\n                // this.props.history.push('/uesr/logUp/FindMyOrganization')\r\n                this.setState({\r\n                  isOrg: true\r\n                })\r\n                console.log('搜索名称加入');\r\n              }}\r\n            >\r\n              <div className=\"iconBox\">\r\n                <MyIcon type='icon-search' className=\"icon\" />\r\n              </div>\r\n              <div className=\"r\">\r\n\r\n                <div className=\"title\">Search organization</div>\r\n\r\n                <div className=\"arrow\">\r\n                  <MyIcon type='icon-jiantou2' className=\"icon\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"item\" style={{ paddingTop: px(60) }}\r\n              onClick={() => {\r\n                console.log('创建');\r\n                this.props.history.push('/uesr/logUp/NewOrganization')\r\n              }}>\r\n              <div className=\"iconBox\">\r\n                <MyIcon type='icon-tianjia4' className=\"icon\" />\r\n              </div>\r\n              <div className=\"r\">\r\n                <div className=\"listtext\">\r\n                  <div className=\"title\">Create an organization</div>\r\n                </div>\r\n                <div className=\"arrow\">\r\n                  <MyIcon type='icon-jiantou2' className=\"icon\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"item\" style={{ paddingTop: px(60) }}\r\n              onClick={() => {\r\n\r\n                let params = {\r\n                  userId: temporaryStorage.logupSuccessData.userId,\r\n                  roleId: 2,\r\n                }\r\n                message.destroy()\r\n                this.setState({\r\n                  isLoading: true\r\n                })\r\n                console.log('搜索id加入', params);\r\n                fetchRequest2('/user/updateUserInfo', 'POST', params)\r\n                  .then(res => {\r\n                    console.log(res);\r\n                    if (res.flag === true) {\r\n\r\n                      console.log('成功',);\r\n                      this._logIn()\r\n                    } else {\r\n                      this.setState({\r\n                        isLoading: false\r\n                      })\r\n                      message.error('Identity update failed')\r\n                    }\r\n                  })\r\n                  .catch(err => {\r\n                    console.log(err);\r\n                    message.error(err.message, 3)\r\n                  })\r\n              }}>\r\n              <div className=\"iconBox\">\r\n                <MyIcon type='icon-guanbi2' className=\"icon\" />\r\n              </div>\r\n              <div className=\"r\">\r\n                <div className=\"listtext\">\r\n                  <div className=\"title\">Continue without organization</div>\r\n                </div>\r\n                <div className=\"arrow\">\r\n                  <MyIcon type='icon-jiantou2' className=\"icon\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <MyModal\r\n          visible={isOrg}\r\n          element={\r\n            <div className='myfindOrg' >\r\n              <div className=\"orgHeard\">\r\n                <div className=\"titleicon\" style={{ marginTop: px(5) }}>\r\n                  <div\r\n                  // className=\" iconfont icon-left return\"\r\n                  // onClick={() => { this.setState({ isWorkplace: false, isOrg: true }) }}\r\n                  >\r\n                    {/* <img src={left1} alt=\"\" style={{ height: px(25) }} /> */}\r\n                  </div>\r\n                  <div\r\n                    onClick={() => { this.setState({ isWorkplace: false, isOrg: false }) }}\r\n                  >\r\n                    <img src={Close} alt=\"\" style={{ width: px(25) }} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"text\"\r\n                  onMouseOver={() => {\r\n                    if (disabled) {\r\n                      this.setState({\r\n                        disabled: false,\r\n                      });\r\n                    }\r\n                  }}\r\n                  onMouseOut={() => {\r\n                    this.setState({\r\n                      disabled: true,\r\n                    });\r\n                  }}\r\n\r\n                >Find my organization</div>\r\n\r\n                <div className=\"searchBox\">\r\n\r\n                  <Input\r\n                    placeholder=\" &#xe61b; Search organization\"\r\n                    bordered={false}\r\n                    allowClear={true}\r\n                    value={this.state.search}\r\n                    onChange={this._search}\r\n                  />\r\n\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div className=\"list\"\r\n\r\n              >\r\n                {this._list()}\r\n              </div>\r\n\r\n              <div className=\"foot\">\r\n                <Button\r\n                  text={'Join Organization'}\r\n                  onClick={this._goWorkplace}\r\n                />\r\n                <span style={{ marginTop: px(20) }}>{`Don’t see your organization? `}</span>\r\n                <a href=\"#\" onClick={this._goNewOrg}>Create a new organization</a>\r\n              </div>\r\n\r\n            </div>\r\n          }\r\n\r\n        />\r\n\r\n\r\n\r\n\r\n        <MyModal\r\n          visible={isWorkplace}\r\n          element={\r\n            <div className='myfindOrg' >\r\n              <div className=\"orgHeard\">\r\n                <div className=\"titleicon\" style={{ marginTop: px(5) }}>\r\n                  <div\r\n                    // className=\" iconfont icon-left return\"\r\n                    onClick={() => { this.setState({ isWorkplace: false, isOrg: true }) }}\r\n                  >\r\n                    <img src={left1} alt=\"\" style={{ height: px(25) }} />\r\n                  </div>\r\n                  <div\r\n                    onClick={() => { this.setState({ isWorkplace: false, isOrg: false }) }}\r\n                  >\r\n                    <img src={Close} alt=\"\" style={{ width: px(25) }} />\r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"text\" style={{ fontSize: px(35) }}>Find my workplace</div>\r\n\r\n                <div className=\"searchBox\" style={{ borderRadius: px(15) }} >\r\n                  <Input\r\n                    placeholder=\" &#xe61b; Search workplace\"\r\n                    bordered={false}\r\n                    allowClear={true}\r\n                    value={this.state.search}\r\n                    onChange={this._searchworkPlace}\r\n                  />\r\n\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div className=\"list\"\r\n\r\n              >\r\n                {this._list1()}\r\n              </div>\r\n\r\n              <div className=\"foot\">\r\n                <Button\r\n                  text={'Join Workplace'}\r\n                  onClick={this._addworkplaced}\r\n                />\r\n                <span style={{ marginTop: px(20) }}>{`Don’t see your workplace? `}</span>\r\n                <a href=\"#\" onClick={this._goNewWorkplace}>Create a new workplace</a>\r\n              </div>\r\n\r\n            </div>\r\n          }\r\n\r\n        />\r\n        <MyModal\r\n          visible={this.state.isLoading}\r\n        />\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\newWorkplace\\NewWorkplace.jsx",["953","954","955","956","957"],"import React, { Component, } from 'react'\r\nimport {\r\n  Button,\r\n  Input,\r\n  Form,\r\n  Select,\r\n  Space,\r\n  Modal,\r\n\r\n  message\r\n} from 'antd';\r\nimport Draggable from \"react-draggable\";\r\nimport { createFromIconfontCN, CaretDownFilled } from '@ant-design/icons';\r\n//import 'antd/dist/antd.css';\r\n\r\nimport './newWorkplace.less'\r\nimport imgArray from './../../../utils/areaCode/imgArray'\r\nimport MaxMin from './../../../utils/maxminreturn/MaxMinReturn'\r\nimport { fetchRequest2 } from './../../../utils/FetchUtil2'\r\nimport { fetchRequest } from './../../../utils/FetchUtil1'\r\nimport countryList from './../../../utils/areaCode/country';\r\nimport temporaryStorage from '../../../utils/temporaryStorage'\r\n\r\nconst { Option } = Select;\r\nexport default class NewWorkplace extends Component {\r\n\r\n  state = {\r\n    code: 1,\r\n    imgArrayIndex: 0,\r\n    phone: '',\r\n    practiceName: '',\r\n    address: '',\r\n    country: '',\r\n    city: '',\r\n    state: '',\r\n    zipcode: '',\r\n    address1: '',\r\n    address2: '',\r\n    workplaceTypeId: 1,\r\n    email: '',\r\n    visible: false,       //nodel框是否显示\r\n    disabled: true,       //model是否可拖拽\r\n    bounds: { left: 0, top: 0, bottom: 0, right: 0 },\r\n\r\n  }\r\n\r\n  componentDidMount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('middle')\r\n\r\n  }\r\n\r\n\r\n\r\n  _next = () => {\r\n    let { practiceName, workplaceTypeId, code, phone, country, city, state, address1, address2, zipcode, email } = this.state\r\n    message.destroy()\r\n\r\n    if (!practiceName) {\r\n      message.error('Please enter an Practice name', 3)\r\n      return;\r\n    }\r\n    if (!email) {\r\n      message.error('Please enter the contact email', 3)\r\n      return;\r\n    } else {\r\n      if (email.indexOf('@') === -1 || email.indexOf('@') === 0 || email.indexOf('@') === email.length - 1) {\r\n        message.error('E-mail format is incorrect', 3)\r\n        return\r\n      }\r\n    }\r\n    if (!phone) {\r\n      message.error('Please enter the phone number', 3)\r\n      return;\r\n    }\r\n    if (!country) {\r\n      message.error('Please enter country name', 3)\r\n      return;\r\n    }\r\n    if (!city) {\r\n      message.error('Please enter the city name', 3)\r\n      return;\r\n    }\r\n    if (!address1) {\r\n      message.error('Please enter address1', 3)\r\n      return;\r\n    }\r\n    if (!address2) {\r\n      message.error('Please enter address2', 3)\r\n      return;\r\n    }\r\n    if (!zipcode) {\r\n      message.error('Please enter the postal code', 3)\r\n      return;\r\n    }\r\n\r\n\r\n    let params = {\r\n      organizationId: temporaryStorage.logupSelectOrganization.organizationId,\r\n      workplaceName: practiceName,\r\n      workplaceTypeId,\r\n      address1,\r\n      address2,\r\n      phone: `+${code}${phone}`,\r\n      country,\r\n      city,\r\n      state,\r\n      zipcode,\r\n      email\r\n    }\r\n\r\n    console.log('入参信息：', params);\r\n    let { userId } = temporaryStorage.logupSuccessData\r\n    fetchRequest(`/workplace/addWorkplace/${userId}`, \"POST\", params)\r\n      .then(res => {\r\n        console.log(res);\r\n        if (res.code === 20000) {\r\n          this.props.history.push('/uesr/logUp/FindMyWorkplace')\r\n        } else if (res.code === 11029) {\r\n          message.error('The workplace has been registered!', 3)\r\n        }\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        message.error(err.message, 3)\r\n      })\r\n  }\r\n\r\n  onStart = (event, uiData) => {\r\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\r\n    const targetRect = this.draggleRef?.current?.getBoundingClientRect();\r\n    this.setState({\r\n      bounds: {\r\n        left: -targetRect?.left + uiData?.x,\r\n        right: clientWidth - (targetRect?.right - uiData?.x),\r\n        top: -targetRect?.top + uiData?.y,\r\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y)\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n\r\n  render () {\r\n\r\n    let { disabled, visible, bounds, address1, address2, phone, practiceName, country, city, state, zipcode, workplaceTypeId, email } = this.state\r\n    return (\r\n      <div id=\"newWorkplace\" >\r\n        {/* 关闭缩小 */}\r\n        <MaxMin\r\n          onClick={() => { this.props.history.push('/') }}\r\n          onClick1={() => this.props.history.goBack()}\r\n        />\r\n        <div className=\"text\">\r\n          New Practice\r\n        </div>\r\n        <div className=\"text1\">Tell us more about the place you will be using Mella!</div>\r\n        <div className=\"form\">\r\n          <div className=\"item\">\r\n            <div className=\"l\">\r\n              <p>Practice Name*</p>\r\n              <input\r\n                type=\"text\"\r\n                value={practiceName}\r\n                placeholder={'Practice Name'}\r\n                onChange={(value) => {\r\n                  let data = value.target.value\r\n                  this.setState({\r\n                    practiceName: data\r\n                  })\r\n                }}\r\n              />\r\n\r\n            </div>\r\n          </div>\r\n          <div className=\"item\">\r\n\r\n\r\n\r\n            <div className=\"l\">\r\n              <p>Contact Email*</p>\r\n              <input\r\n                type=\"Email\"\r\n                value={email}\r\n                placeholder={'Contact Email'}\r\n                onChange={(value) => {\r\n                  let data = value.target.value\r\n                  this.setState({\r\n                    email: data\r\n                  })\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"item\">\r\n\r\n            <div className=\"l\">\r\n              <p>Type of Practice*</p>\r\n              <div className=\"select\" >\r\n                <Select\r\n                  value={workplaceTypeId}\r\n                  style={{ width: '100%', borderRadius: '100px' }}\r\n                  onChange={(value) => { this.setState({ workplaceTypeId: value }) }}\r\n                >\r\n                  <Option value={1}>practice </Option>\r\n                  <Option value={2}>clinic </Option>\r\n                  <Option value={3}>shelter</Option>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"l\">\r\n              <ul id=\"list\">\r\n                {countryList.map((item, index) => {\r\n                  let url = imgArray[item.locale.toLowerCase()] ? imgArray[item.locale.toLowerCase()].default : ''\r\n                  return (\r\n                    <li key={index}>\r\n                      <div key={index}\r\n                        style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}\r\n                        onClick={() => {\r\n                          console.log(item, index);\r\n                          this.setState({\r\n                            code: item.code,\r\n                            imgArrayIndex: index\r\n                          })\r\n                          document.getElementById('list').style.display = \"none\"\r\n                        }}\r\n                      >\r\n                        <img src={url} alt=\"\" />\r\n                        <p >{`${item.en}   +${item.code}`}</p>\r\n                      </div>\r\n                    </li>\r\n                  )\r\n                })}\r\n              </ul>\r\n\r\n              <p>Contact Number*</p>\r\n              <div className='phone'>\r\n                <div\r\n                  style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}\r\n                  onClick={() => {\r\n                    document.getElementById('list').style.display = \"block\"\r\n                  }}\r\n                >\r\n                  <img style={{ zIndex: '888' }}\r\n                    src={imgArray[countryList[this.state.imgArrayIndex].locale.toLowerCase()].default} alt=\"\"\r\n                  />\r\n                  <CaretDownFilled style={{ marginRight: '10px' }} />\r\n                </div>\r\n\r\n\r\n                <input\r\n                  type=\"Phone\"\r\n                  value={phone}\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      phone: data.replace(/[^\\-?\\d]/g, '')\r\n                    })\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n          <div className=\"item\">\r\n            <div className=\"l\">\r\n              <p>Address*</p>\r\n              <div className=\"inputs\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={country}\r\n                  placeholder={'country'}\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      country: data\r\n                    })\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  value={city}\r\n                  placeholder={'city'}\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      city: data\r\n                    })\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  value={state}\r\n                  placeholder={'state'}\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      state: data\r\n                    })\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  value={address1}\r\n                  placeholder={'address1'}\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      address1: data\r\n                    })\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  value={address2}\r\n                  placeholder={'address2'}\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      address2: data\r\n                    })\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  value={zipcode}\r\n                  placeholder={'zipcode'}\r\n                  onChange={(value) => {\r\n                    let data = value.target.value\r\n                    this.setState({\r\n                      zipcode: data\r\n                    })\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* 按钮 */}\r\n          <div className=\"btn\">\r\n            <Button\r\n              type=\"primary\"\r\n              shape=\"round\"\r\n              size='large'\r\n              htmlType=\"submit\"\r\n              onClick={this._next}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          title={\r\n            <div\r\n              style={{\r\n                width: '100%',\r\n                cursor: 'move',\r\n                height: '20px',\r\n                fontWeight: '700'\r\n              }}\r\n              onMouseOver={() => {\r\n                if (disabled) {\r\n                  this.setState({\r\n                    disabled: false,\r\n                  });\r\n                }\r\n              }}\r\n              onMouseOut={() => {\r\n                this.setState({\r\n                  disabled: true,\r\n                });\r\n              }}\r\n            >\r\n              remind\r\n            </div>\r\n          }\r\n          visible={visible}\r\n          // visible={true}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          width={330}\r\n          modalRender={(modal) => (\r\n            <Draggable\r\n              disabled={disabled}\r\n              bounds={bounds}\r\n              onStart={(event, uiData) => this.onStart(event, uiData)}\r\n            >\r\n              <div ref={this.draggleRef}>{modal}</div>\r\n            </Draggable>\r\n          )}\r\n          footer={[\r\n            <button\r\n              style={{ width: '110px', height: '40px', border: 0, backgroundColor: '#E1206D', color: '#fff', borderRadius: '60px', fontSize: '18px' }}\r\n              onClick={() => {\r\n                this.setState({\r\n                  visible: false,\r\n                  email: ''\r\n                })\r\n              }}\r\n            >Cancel</button>,\r\n            <button\r\n              style={{ width: '110px', height: '40px', border: 0, backgroundColor: '#E1206D', color: '#fff', borderRadius: '60px', fontSize: '18px' }}\r\n              onClick={() => {\r\n                this.setState({\r\n                  visible: false\r\n                })\r\n                this.props.history.replace('/uesr/logUp/FindMyOrganization')\r\n              }}\r\n            >Join</button>\r\n\r\n          ]}\r\n          destroyOnClose={true}\r\n        >\r\n          <div id='vetPrifileModal'>\r\n\r\n            <p>This organization has already been registered, do you want to join?</p>\r\n          </div>\r\n\r\n        </Modal>\r\n\r\n      </div>\r\n\r\n\r\n    )\r\n  }\r\n}","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\inviteTeam\\InviteTeam.jsx",["958","959","960","961","962","963","964","965","966","967"],"import React, { Component, } from 'react'\r\nimport {\r\n    Tag,\r\n    Input,\r\n    Tooltip,\r\n    message,\r\n    // Button\r\n} from 'antd';\r\nimport Draggable from \"react-draggable\";\r\nimport { createFromIconfontCN, CaretDownFilled, PlusOutlined } from '@ant-design/icons';\r\n//import 'antd/dist/antd.css';\r\n\r\nimport './inviteTeam.less'\r\nimport imgArray from './../../../utils/areaCode/imgArray'\r\nimport MaxMin from './../../../utils/maxminreturn/MaxMinReturn'\r\nimport { fetchRequest } from './../../../utils/FetchUtil1'\r\nimport temporaryStorage from '../../../utils/temporaryStorage'\r\nimport { fetchRequest2 } from '../../../utils/FetchUtil2';\r\nimport { mTop, px } from '../../../utils/px';\r\nimport Button from './../../../utils/button/Button'\r\nimport MyModal from '../../../utils/myModal/MyModal';\r\n\r\nexport default class InviteTeam extends Component {\r\n\r\n    state = {\r\n\r\n        tags: [],\r\n        inputVisible: false,\r\n        inputValue: '',\r\n        editInputIndex: -1,\r\n        editInputValue: '',\r\n        visible: false\r\n    }\r\n\r\n    componentDidMount () {\r\n        let ipcRenderer = window.electron.ipcRenderer\r\n        ipcRenderer.send('big')\r\n\r\n        //监听屏幕分辩率是否变化，变化就去更改界面内容距离大小\r\n        ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\r\n\r\n\r\n    }\r\n    componentWillUnmount () {\r\n        let ipcRenderer = window.electron.ipcRenderer\r\n        ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\r\n    }\r\n    changeFenBianLv = (e) => {\r\n        console.log(e);\r\n        let ipcRenderer = window.electron.ipcRenderer\r\n        ipcRenderer.send('big')\r\n        this.setState({\r\n\r\n        })\r\n    }\r\n\r\n\r\n    handleClose = removedTag => {\r\n        const tags = this.state.tags.filter(tag => tag !== removedTag);\r\n        console.log(tags);\r\n        this.setState({ tags });\r\n    };\r\n\r\n    showInput = () => {\r\n        this.setState({ inputVisible: true }, () => this.input.focus());\r\n    };\r\n\r\n    handleInputChange = e => {\r\n        this.setState({ inputValue: e.target.value });\r\n    };\r\n\r\n    handleInputConfirm = () => {\r\n        const { inputValue } = this.state;\r\n        let { tags } = this.state;\r\n        if (inputValue && tags.indexOf(inputValue) === -1) {\r\n            console.log('输入的内容为：', inputValue);\r\n            message.destroy()\r\n            fetchRequest(`/user/checkUser/${inputValue}`, 'GET', '')\r\n                .then(res => {\r\n\r\n\r\n                    console.log('检测邮箱存不存在', res);\r\n\r\n                    if (res.code) {\r\n                        switch (res.code) {\r\n\r\n                            case 11011:\r\n                                console.log('邮箱存在，发送邮件');\r\n                                tags = [...tags, inputValue];\r\n                                console.log(tags);\r\n\r\n                                this.setState({\r\n                                    tags,\r\n                                    inputVisible: false,\r\n                                    inputValue: '',\r\n                                });\r\n                                break;\r\n                            // case 11012:\r\n                            //     console.log('账号被限制、注册未激活状态');\r\n\r\n\r\n\r\n                            // case 11013:\r\n                            //     console.log('邮箱未被注册，跳出弹框询问是否前往注册');\r\n                            case 11014:\r\n                                console.log('邮箱被注销或者封停，跳出弹框询问是否前往注册');\r\n                                message.error('This mailbox was not found!', 3)\r\n                                this.setState({\r\n                                    inputVisible: false,\r\n                                    inputValue: '',\r\n                                });\r\n                                break;\r\n\r\n                        }\r\n                    } else {\r\n                        console.log('系统错误', res);\r\n                        message.error('system error')\r\n                        this.setState({\r\n                            spin: false\r\n                        })\r\n                    }\r\n\r\n\r\n                })\r\n                .catch(err => {\r\n                    message.error(`Error:${err.message}`)\r\n                    console.log('检测邮箱号的接口出错了', err);\r\n                })\r\n\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n    saveInputRef = input => {\r\n        this.input = input;\r\n    };\r\n\r\n    saveEditInputRef = input => {\r\n        this.editInput = input;\r\n    };\r\n\r\n    _next = () => {\r\n        message.destroy()\r\n        let { tags } = this.state\r\n        let { userId } = temporaryStorage.logupSuccessData\r\n        let { organizationId } = temporaryStorage.logupOrganization\r\n        console.log({ tags, userId, organizationId });\r\n        if (tags.length === 0) {\r\n            this._logIn()\r\n        }\r\n        this.setState({\r\n            visible: true\r\n        })\r\n        console.log('入参:', tags);\r\n        fetchRequest2(`/user/inviteUserByEmail/${userId}/${organizationId}`, \"POST\", tags)\r\n            .then(res => {\r\n                console.log(res);\r\n                if (res.flag === true) {\r\n                    console.log('成功，跳转');\r\n                    message.success('Invitation successful', 3)\r\n                    this._logIn()\r\n                } else {\r\n                    this.setState({\r\n                        visible: false\r\n                    })\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    visible: false\r\n                })\r\n                console.log(err);\r\n                message.error(err.message, 3)\r\n            })\r\n    }\r\n    _logIn = () => {\r\n\r\n        let storage = window.localStorage;\r\n        let { email, hash } = temporaryStorage.logupVetInfo\r\n        let params = {\r\n            email: email.replace(/(^\\s*)/g, \"\"),\r\n            hash,\r\n            identityTypeId: '1'\r\n        }\r\n        console.log('登录入参:', params);\r\n        fetchRequest('/user/mellaLogin', 'POST', params)\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({\r\n                    visible: false\r\n                })\r\n                if (res.status && res.status === 404) {\r\n                    message.error('system error');\r\n                    return\r\n                }\r\n                if (res.code === 10001 && res.msg === '账号错误') {\r\n                    message.error('Account error');\r\n                    return\r\n                }\r\n                if (res.code === 10002 && res.msg === '密码错误') {\r\n                    message.error('wrong password')\r\n                    return;\r\n                }\r\n                if (res.code === 0 && res.msg === 'success' && res.success.roleId === 1) {\r\n                    message.error('You do not have the authority of a doctor, please contact the administrator or customer service', 10)\r\n                    return\r\n                }\r\n\r\n                if (res.code === 0 && res.msg === 'success') {\r\n                    console.log('账号密码正确，登录进去了');\r\n                    let { userWorkplace, lastOrganization, token } = res.success\r\n                    storage.token = token\r\n                    storage.userId = ''\r\n\r\n                    storage.userId = res.success.userId\r\n                    storage.roleId = res.success.roleId\r\n\r\n                    //每次登陆后清空宠物列表缓存的数据\r\n                    storage.doctorList = ''\r\n                    storage.defaultCurrent = ''\r\n\r\n\r\n\r\n\r\n                    if (userWorkplace) {\r\n                        storage.userWorkplace = JSON.stringify(userWorkplace)\r\n                        let connectionKey = ''\r\n                        const element = userWorkplace[0];\r\n                        storage.lastOrganization = element.organizationEntity.organizationId\r\n                        storage.lastWorkplaceId = element.workplaceEntity.workplaceId\r\n                        if (element.organizationEntity.connectionKey) {\r\n                            connectionKey = element.organizationEntity.connectionKey\r\n                        }\r\n                        if (element.roleId) {\r\n                            console.log(element.roleId);\r\n                            storage.roleId = element.roleId\r\n                        }\r\n                        if (userWorkplace.length === 1) {\r\n                            this.props.history.push('/uesr/selectExam')\r\n\r\n                        } else {\r\n                            this.props.history.push('/page12')\r\n                        }\r\n                    } else {\r\n                        storage.userWorkplace = ''\r\n                        storage.connectionKey = ''\r\n                        this.props.history.push('/uesr/selectExam')\r\n                    }\r\n\r\n\r\n                }\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    visible: false\r\n                })\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render () {\r\n        const { tags, inputVisible, inputValue, editInputIndex, editInputValue } = this.state;\r\n        // console.log('---', editInputIndex);\r\n        return (\r\n            <div id=\"inviteTeam\" >\r\n                {/* 关闭缩小 */}\r\n                <div className=\"heard\">\r\n                    <MaxMin\r\n                        onClick={() => { this.props.history.push('/') }}\r\n                        onClick1={() => this.props.history.goBack()}\r\n                    />\r\n                    <div className=\"text\">Invite your Team</div>\r\n\r\n                    <div className=\"addF\">\r\n                        <p>To:</p>\r\n                        <div className=\"add\">\r\n\r\n                            <>\r\n                                {tags.map((tag, index) => {\r\n                                    const isLongTag = tag.length > 25;  //标签里面的字符串的长度\r\n\r\n                                    const tagElem = (\r\n                                        <Tag\r\n                                            className=\"edit-tag\"\r\n                                            key={tag}\r\n                                            closable={true}\r\n                                            onClose={() => this.handleClose(tag)}\r\n                                        >\r\n                                            <span>\r\n                                                {isLongTag ? `${tag.slice(0, 25)}...` : tag}\r\n                                            </span>\r\n                                        </Tag>\r\n                                    );\r\n                                    return isLongTag ? (\r\n                                        <Tooltip title={tag} key={tag}>\r\n                                            {tagElem}\r\n                                        </Tooltip>\r\n                                    ) : (\r\n                                        tagElem\r\n                                    );\r\n                                })}\r\n                                {inputVisible && (\r\n                                    <Input\r\n                                        ref={this.saveInputRef}\r\n                                        type=\"text\"\r\n                                        size=\"small\"\r\n                                        className=\"tag-input\"\r\n                                        value={inputValue}\r\n                                        onChange={this.handleInputChange}\r\n                                        onBlur={this.handleInputConfirm}\r\n                                        onPressEnter={this.handleInputConfirm}\r\n                                    />\r\n                                )}\r\n                                {!inputVisible && (\r\n                                    <Tag className=\"site-tag-plus\" onClick={this.showInput}>\r\n                                        <PlusOutlined />Press Enter to add mailbox\r\n                                    </Tag>\r\n                                )}\r\n                            </>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"btn\"\r\n                    style={{ padding: `${px(40)}px 0` }}\r\n                >\r\n                    <Button\r\n                        type=\"primary\"\r\n                        shape=\"round\"\r\n                        size='large'\r\n                        htmlType=\"submit\"\r\n                        onClick={this._logIn}\r\n                        text={'Skip'}\r\n                    >\r\n                        Skip\r\n                    </Button>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        shape=\"round\"\r\n                        size='large'\r\n                        htmlType=\"submit\"\r\n                        onClick={this._next}\r\n                        text={'Send'}\r\n                    >\r\n\r\n                    </Button>\r\n                </div>\r\n                <MyModal visible={this.state.visible} />\r\n\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\verifyEmail\\index.jsx",["968","969"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\unassigned\\Unassigned.jsx",["970","971","972","973","974","975","976","977","978"],"import React, { Component } from \"react\";\nimport { Table, Popconfirm, Modal, Input, message, Select, Spin } from \"antd\";\nimport moment from \"moment\";\nimport Draggable from \"react-draggable\";\n\nimport \"./unassigned.less\";\nimport Heard from \"./../../../utils/heard/Heard\";\nimport { fetchRequest } from \"../../../utils/FetchUtil1\";\n\nimport del from \"./../../../assets/images/del.png\";\nimport Close from \"./../../../assets/img/close.png\";\n\nimport UploadImg from \"./../../../utils/uploadImg/UploadImg\";\nimport { mTop, px, MTop } from \"../../../utils/px\";\nimport electronStore from \"./../../../utils/electronStore\";\nimport MyModal from \"../../../utils/myModal/MyModal\";\nimport Button from \"./../../../utils/button/Button\";\n\nlet storage = window.localStorage;\nconst { Option } = Select;\n\nexport default class Unassigned extends Component {\n  state = {\n    historyData: [], //列表的数据集合\n    units: \"℉\",\n    searchText: \"\", //搜索测试记录框输入的内容\n    serchExamData: [], //搜索到的测量记录\n    seleceEmergencies: {}, //分配的这条记录里的所有内容，比如温度、id、时间等\n    visible: false, //nodel框是否显示\n    imgId: -1, //上传后返回的图像id号\n\n    assignPatientId: \"\",\n    assignPetName: \"\",\n    assignOwnerName: \"\",\n    assignBreed: \"\",\n    assignBreedId: \"\",\n    assignPetAge: \"\",\n    assignPetWeight: \"\",\n    assignPetId: \"\",\n    assignPetImgUrl: \"\",\n    inputDisabled: false,\n    breedArr: [], //猫、狗品种集合\n    loading: false,\n    disabled: true, //model是否可拖拽\n    search: \"\", //分配宠物搜索框\n    petListData: [],\n    searchPetList: [],\n    assignVisible: false, //点击assign按钮后跳出的选择宠物的弹框\n    selectPetId: \"\",\n    modalLoading: false,//控制弹窗加载\n  };\n\n  componentDidMount() {\n    let ipcRenderer = window.electron.ipcRenderer;\n    let { height, width } = window.screen;\n    let windowsHeight = height > width ? width : height;\n    ipcRenderer.send(\"big\");\n    let getBreed = electronStore.get(\"getBreed\");\n    if (getBreed) {\n      this.setState({\n        breedArr: getBreed,\n      });\n    }\n    ipcRenderer.on(\"changeFenBianLv\", this.changeFenBianLv);\n    this._getEmergencyHistory();\n    const timer = setTimeout(() => {\n      this._getBreed();\n      clearTimeout(timer);\n    }, 3000);\n    this.gerAllPetMsg();\n    // let list = electronStore.get(\"doctorExam\");\n    // this.setState({\n    //   petListData: list || [],\n    // });\n  }\n  componentWillUnmount() {\n    message.destroy();\n    let ipcRenderer = window.electron.ipcRenderer;\n\n    ipcRenderer.removeListener(\"changeFenBianLv\", this.changeFenBianLv);\n  }\n  changeFenBianLv = (e) => {\n    console.log(e);\n    let ipcRenderer = window.electron.ipcRenderer;\n    let { height, width } = window.screen;\n    let windowsHeight = height > width ? width : height;\n    ipcRenderer.send(\"Lowbig\");\n    this.setState({});\n  };\n  //获取通过walk-In测量的信息，通过判断获取的数据中petId是否为空来展示数据\n  _getEmergencyHistory = () => {\n    //封装的日期排序方法\n    function ForwardRankingDate(data, p) {\n      for (let i = 0; i < data.length - 1; i++) {\n        for (let j = 0; j < data.length - 1 - i; j++) {\n          if (Date.parse(data[j][p]) < Date.parse(data[j + 1][p])) {\n            var temp = data[j];\n            data[j] = data[j + 1];\n            data[j + 1] = temp;\n          }\n        }\n      }\n      return data;\n    }\n    let historys = [];\n    this.setState({\n      loading: true,\n    });\n    fetchRequest(`/pet/getPetExamByDoctorId/${storage.userId}`, \"GET\", \"\") //userID要自动的\n      .then((res) => {\n        console.log(\"---res\", res);\n        if (res.flag === true) {\n          let datas = res.data;\n          for (let i = datas.length - 1; i >= 0; i--) {\n            if (datas[i].petId === null) {\n              let {\n                petId,\n                examId,\n                userId,\n                petVitalTypeId,\n                temperature,\n                roomTemperature,\n                bloodPressure,\n                memo,\n                clinicalDatagroupId,\n                bodyConditionScore,\n                heartRate,\n                respiratoryRate,\n                referenceRectalTemperature,\n                furLength,\n                createTime,\n                clinicalDataEntity,\n              } = datas[i];\n              let day = moment().diff(moment(createTime), \"day\");\n              // console.log(day);\n              if (day > 3) {\n                continue;\n              }\n\n              let Tem = temperature;\n              try {\n                if (clinicalDataEntity) {\n                  Tem = temperature || clinicalDataEntity.data0;\n                }\n              } catch (error) {\n                console.log(\"抛出的异常\", error);\n              }\n              let str = {\n                clinicalDatagroupId,\n                createTime,\n                date: moment(createTime).format(\"MMM DD\"),\n                time: moment(createTime).format(\"hh:mm A\"),\n                temp: parseInt(Tem * 10) / 10,\n                placement: petVitalTypeId,\n                note: memo,\n                historyId: examId,\n                bodyConditionScore,\n                heartRate,\n                respiratoryRate,\n                referenceRectalTemperature,\n                furLength,\n                roomTemperature,\n                bloodPressure,\n                petId,\n                userId,\n                day,\n              };\n\n              historys.push(str);\n            }\n          }\n          //把所有数据拿完后做个排序\n          let historyData = ForwardRankingDate(historys, \"createTime\");\n          console.log(\"historyData:\", historyData);\n          this.setState({\n            historyData,\n            loading: false,\n          });\n        } else {\n          this.setState({\n            loading: false,\n          });\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({\n          loading: false,\n        });\n      });\n  };\n  //获取宠物类别\n  _getBreed = () => {\n    fetchRequest(`/pet/selectBreedBySpeciesId`, \"POST\", { speciesId: 1 })\n      .then((res) => {\n        if (res.code === 0) {\n          let arr = [];\n          res.petlist.map((item, index) => {\n            let data = {\n              petSpeciesBreedId: item.petSpeciesBreedId,\n              breedName: item.breedName,\n              speciesId: 1,\n            };\n\n            arr.push(data);\n          });\n\n          fetchRequest(`/pet/selectBreedBySpeciesId`, \"POST\", { speciesId: 2 })\n            .then((res) => {\n              if (res.code === 0) {\n                res.petlist.map((item, index) => {\n                  let data = {\n                    petSpeciesBreedId: item.petSpeciesBreedId,\n                    breedName: item.breedName,\n                    speciesId: 2,\n                  };\n                  arr.push(data);\n                });\n\n                console.log(\"----品种集合：\", arr);\n                electronStore.set(\"getBreed\", arr);\n                this.setState({\n                  breedArr: arr,\n                });\n              }\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  //获取所有宠物详情信息\n  gerAllPetMsg = () => {\n    let params = {\n      doctorId: storage.userId,\n      offset: 0,\n      size: 100,\n    }\n    if (storage.lastWorkplaceId) {\n      params.workplaceId = storage.lastWorkplaceId\n    }\n    if (storage.lastOrganization) {\n      params.organizationId = storage.lastOrganization\n    }\n    fetchRequest('/user/listAllPetInfo', 'GET', params)\n      .then((res) => {\n        console.log('res: ', res);\n        if (res.flag === true && res.data) {\n          this.setState({\n            petListData: res.data,\n          })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n  _search = (value = \"\") => {\n    let list = this.state.historyData;\n    let searchData = [];\n    let keyWord = value || this.state.searchText;\n    for (let i = 0; i < list.length; i++) {\n      let note = list[i].note ? list[i].note.toLowerCase() : \"\";\n      if (`${note}`.indexOf(keyWord.toLowerCase()) !== -1) {\n        searchData.push(list[i]);\n      }\n    }\n\n    this.setState({\n      serchExamData: searchData,\n    });\n  };\n  _searchPet = (value = \"\") => {\n    let list = this.state.petListData;\n    let searchData = [];\n    let keyWord = value || this.state.searchText;\n    for (let i = 0; i < list.length; i++) {\n      let name = list[i].petName ? list[i].petName.toLowerCase() : \"\";\n      let rfid = list[i].rfid ? list[i].rfid.toLowerCase() : \"\";\n      let patientId = list[i].patientId ? list[i].patientId.toLowerCase() : \"\";\n\n      if (\n        `${name}`.indexOf(keyWord.toLowerCase()) !== -1 ||\n        `${rfid}`.indexOf(keyWord.toLowerCase()) !== -1 ||\n        `${patientId}`.indexOf(keyWord.toLowerCase()) !== -1\n      ) {\n        searchData.push(list[i]);\n      }\n    }\n\n    this.setState({\n      searchPetList: searchData,\n    });\n  };\n  draggleRef = React.createRef();\n  handleOk = (e) => {\n    console.log(e);\n    this.setState({\n      visible: false,\n      assignPatientId: \"\",\n      assignPetName: \"\",\n      assignOwnerName: \"\",\n      assignBreed: \"\",\n      assignBreedId: \"\",\n      assignPetAge: \"\",\n      assignPetWeight: \"\",\n      assignPetId: \"\",\n      assignPetImgUrl: \"\",\n    });\n  };\n  handleCancel = (e) => {\n    console.log(\"取消\");\n    this.setState({\n      visible: false,\n      assignPatientId: \"\",\n      assignPetName: \"\",\n      assignOwnerName: \"\",\n      assignBreed: \"\",\n      assignBreedId: \"\",\n      assignPetAge: \"\",\n      assignPetWeight: \"\",\n      assignPetId: \"\",\n      assignPetImgUrl: \"\",\n    });\n  };\n  onStart = (event, uiData) => {\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\n    const targetRect = this.draggleRef?.current?.getBoundingClientRect();\n    this.setState({\n      bounds: {\n        left: -targetRect?.left + uiData?.x,\n        right: clientWidth - (targetRect?.right - uiData?.x),\n        top: -targetRect?.top + uiData?.y,\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y),\n      },\n    });\n  };\n  _select = (value, data) => {\n    console.log(value, data); //value的值为id\n    this.setState({\n      assignBreedId: value,\n      assignBreed: data.children,\n    });\n  };\n  _modal = () => {\n    let that = this;\n\n    function getPetInfoByPatientId() {\n      switch (storage.identity) {\n        case \"1\":\n          console.log(\"我是vetspire查找\");\n\n          break;\n\n        case \"2\":\n          console.log(\"我是ezyVet查找\");\n          let params = {\n            animalId: that.state.assignPatientId,\n            organizationId: 4,\n          };\n          let paramsArray = [];\n          Object.keys(params).forEach((key) =>\n            paramsArray.push(key + \"=\" + params[key])\n          );\n          let url =\n            \"http://ec2-3-214-224-72.compute-1.amazonaws.com:8080/mellaserver/petall/getPetInfoByAnimalId\";\n          // 判断是否地址拼接的有没有 ？,当没有的时候，使用 ？拼接第一个参数，如果有参数拼接，则用&符号拼接后边的参数\n          if (url.search(/\\?/) === -1) {\n            url = url + \"?\" + paramsArray.join(\"&\");\n          } else {\n            url = url + \"&\" + paramsArray.join(\"&\");\n          }\n          console.log(\"ezyVet集成查找宠物入参-请求地址\", params, url);\n          fetch(url, {\n            method: \"GET\",\n            headers: {\n              authorization: `Bearer ${storage.ezyVetToken}`,\n            },\n          })\n            .then((response) => response.json())\n            .then((res) => {\n              console.log(\"res\", res);\n              this.setState({\n                spin: false,\n              });\n              if (res.flag === true) {\n                //有宠物，进入1\n                let petArr = res.data;\n                if (petArr.length > 1) {\n                  petArr.sort(function (a, b) {\n                    return a.createTime > b.createTime ? 1 : -1;\n                  });\n                }\n                console.log(petArr);\n\n                let { petId } = petArr;\n                // assign(petId)\n              } else {\n                //没有宠物\n                message.error(\"There are no pets under this patientID\");\n              }\n            })\n            .catch((err) => {\n              console.log(err);\n              message.error(\"There are no pets under this patientID\");\n            });\n\n          break;\n\n        case \"3\":\n          console.log(\"我是一般医生查找\");\n          let datas = {\n            patientId: that.state.assignPatientId,\n            doctorId: storage.userId,\n          };\n          if (storage.lastWorkplaceId) {\n            datas.workplaceId = storage.lastWorkplaceId;\n          }\n          console.log(\"入参：\", datas);\n          fetchRequest(\"/pet/getPetInfoByPatientIdAndPetId\", \"POST\", datas)\n            .then((res) => {\n              if (res.flag === true) {\n                //有宠物，进入1\n                let petArr = res.data;\n                if (petArr.length > 1) {\n                  petArr.sort(function (a, b) {\n                    return a.createTime > b.createTime ? 1 : -1;\n                  });\n                }\n\n                console.log(\"获取到宠物信息\", petArr);\n\n                let {\n                  petId,\n                  petName,\n                  firstName,\n                  lastName,\n                  breedName,\n                  age,\n                  weight,\n                  url,\n                  birthday,\n                } = petArr[0];\n\n                let assignPetName = petName ? petName : \"\";\n                let assignOwnerName = lastName ? lastName : \"\";\n                assignOwnerName = firstName\n                  ? `${assignOwnerName} ${firstName}`\n                  : assignOwnerName;\n                let assignBreed = breedName ? breedName : \"\";\n                let assignPetAge = age ? age : \"\";\n                let assignPetWeight = weight ? weight : \"\";\n                let assignPetImgUrl = url ? url : \"\";\n\n                if (!assignPetAge) {\n                  let now = moment(new Date());\n                  let year = now.diff(moment(birthday), \"years\");\n                  assignPetAge = year;\n                }\n\n                that.setState({\n                  assignPetName,\n                  assignBreed,\n                  assignPetAge,\n                  assignPetWeight,\n                  assignPetId: petId,\n                  assignPetImgUrl,\n                  inputDisabled: true,\n                });\n\n                // assign(petId)\n              } else {\n                that.setState({\n                  inputDisabled: false,\n                  assignPetName: \"\",\n                  assignOwnerName: \"\",\n                  assignBreed: \"\",\n                  assignBreedId: \"\",\n                  assignPetAge: \"\",\n                  assignPetWeight: \"\",\n                  assignPetId: \"\",\n                  assignPetImgUrl: \"\",\n                });\n                message.error(\"There are no pets under this patientID\");\n              }\n            })\n            .catch((err) => {\n              that.setState({\n                inputDisabled: false,\n                assignPetName: \"\",\n                assignOwnerName: \"\",\n                assignBreed: \"\",\n                assignBreedId: \"\",\n                assignPetAge: \"\",\n                assignPetWeight: \"\",\n                assignPetId: \"\",\n                assignPetImgUrl: \"\",\n              });\n              message.error(\"There are no pets under this patientID\");\n              console.log(err);\n            });\n          break;\n\n        default:\n          break;\n      }\n    }\n    const assignPet = () => {\n      let parmes = {\n        petId: this.state.assignPetId,\n        clinicalDatagroupId: that.state.seleceEmergencies.clinicalDatagroupId,\n      };\n      console.log(\"分配的数据信息\", parmes);\n      fetchRequest(\n        `/pet/addAndSavePetExam/${that.state.seleceEmergencies.historyId}`,\n        \"POST\",\n        parmes\n      )\n        .then((res) => {\n          console.log(\"----------\", res);\n          if (res.flag === true) {\n            console.log(\"分配成功\");\n            message.success(\"Assigned successfully\");\n            that._getEmergencyHistory();\n            that.setState({\n              visible: false,\n              assignPatientId: \"\",\n              assignPetName: \"\",\n              assignOwnerName: \"\",\n              assignBreed: \"\",\n              assignBreedId: \"\",\n              assignPetAge: \"\",\n              assignPetWeight: \"\",\n              assignPetId: \"\",\n              assignPetImgUrl: \"\",\n            });\n          } else {\n            message.error(\"Assignment failed\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          message.error(\"Assignment failed\");\n        });\n    };\n    let { disabled, bounds, visible } = this.state;\n    let options = this.state.breedArr.map((d) => (\n      <Option key={d.petSpeciesBreedId}>{d.breedName}</Option>\n    ));\n    return (\n      <Modal\n        wrapClassName={\"web\"} //对话框外部的类名，主要是用来修改这个modal的样式的\n        destroyOnClose={true}\n        title={\n          <div\n            style={{\n              width: \"100%\",\n              cursor: \"move\",\n              height: \"30px\",\n              textAlign: \"center\",\n            }}\n            onMouseOver={() => {\n              if (disabled) {\n                this.setState({\n                  disabled: false,\n                });\n              }\n            }}\n            onMouseOut={() => {\n              this.setState({\n                disabled: true,\n              });\n            }}\n            onFocus={() => { }}\n            onBlur={() => { }}\n          // end\n          ></div>\n        }\n        visible={visible}\n        // visible={true}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n        modalRender={(modal) => (\n          <Draggable\n            disabled={disabled}\n            bounds={bounds}\n            onStart={(event, uiData) => this.onStart(event, uiData)}\n          >\n            <div ref={this.draggleRef}>{modal}</div>\n          </Draggable>\n        )}\n        footer={[]} // 设置footer为空，去掉 取消 确定默认按钮\n      >\n        <div id=\"unassignedModal\">\n          <div className=\"title\">\n            Assign <br />\n            Measurement to\n          </div>\n\n          <div className=\"addPhoto\">\n            <UploadImg\n              getImg={(val) => {\n                console.log(\"hahahahahahah我获得了\", val);\n                this.setState({\n                  imgId: val.imageId,\n                });\n              }}\n              imgUrl={this.state.assignPetImgUrl}\n              disable={this.state.inputDisabled}\n            />\n          </div>\n\n          <div className=\"item\">\n            <p>Patient ID:</p>\n            <Input\n              value={this.state.assignPatientId}\n              bordered={false}\n              onChange={(item) => {\n                this.setState({\n                  assignPatientId: item.target.value,\n                });\n              }}\n              onKeyDown={(e) => {\n                if (e.keyCode === 13) {\n                  getPetInfoByPatientId();\n                }\n                if (e.keyCode === 27) {\n                  console.log(\"清空\");\n                  this.setState({\n                    assignPatientId: \"\",\n                  });\n                }\n              }}\n              onBlur={() => {\n                if (this.state.assignPatientId.length > 0) {\n                  getPetInfoByPatientId();\n                }\n              }}\n            />\n          </div>\n\n          <div className=\"item\">\n            <p>Pet Name:</p>\n            <Input\n              disabled={this.state.inputDisabled}\n              value={this.state.assignPetName}\n              bordered={false}\n              onChange={(item) => {\n                this.setState({\n                  assignPetName: item.target.value,\n                });\n              }}\n            />\n          </div>\n\n          <div className=\"item\">\n            <p>Owner Name:</p>\n            <Input\n              disabled={this.state.inputDisabled}\n              value={this.state.assignOwnerName}\n              bordered={false}\n              onChange={(item) => {\n                this.setState({\n                  assignOwnerName: item.target.value,\n                });\n              }}\n            />\n          </div>\n          <div className=\"item\">\n            <p>Breed:</p>\n            <div className=\"infoInput\">\n              {/* <Input bordered={false} /> */}\n              <Select\n                disabled={this.state.inputDisabled}\n                showSearch\n                style={{ width: \"100%\" }}\n                bordered={false}\n                value={this.state.assignBreed}\n                // size = {'small'}\n                placeholder=\"Search to Select\"\n                optionFilterProp=\"children\"\n                listHeight={256}\n                onSelect={(value, data) => this._select(value, data)}\n                filterOption={(input, option) =>\n                  option.children.toLowerCase().indexOf(input.toLowerCase()) >=\n                  0\n                }\n                filterSort={(optionA, optionB) =>\n                  optionA.children\n                    .toLowerCase()\n                    .localeCompare(optionB.children.toLowerCase())\n                }\n              >\n                {options}\n              </Select>\n            </div>\n          </div>\n          <div className=\"item\">\n            <p>Pet Age:</p>\n            <Input\n              disabled={this.state.inputDisabled}\n              value={this.state.assignPetAge}\n              bordered={false}\n              onChange={(item) => {\n                this.setState({\n                  assignPetAge: item.target.value,\n                });\n              }}\n            />\n          </div>\n          <div className=\"item\">\n            <p>Pet Weight:</p>\n            <Input\n              disabled={this.state.inputDisabled}\n              value={this.state.assignPetWeight}\n              bordered={false}\n              onChange={(item) => {\n                this.setState({\n                  assignPetWeight: item.target.value,\n                });\n              }}\n            />\n\n            <div className=\"unit\">{`kg`}</div>\n          </div>\n\n          <div className=\"btnF\">\n            <div className=\"btn\" onClick={this.handleCancel}>\n              Cancel\n            </div>\n            <div\n              className=\"btn\"\n              onClick={() => {\n                console.log('qweqwe123123');\n                if (this.state.assignPetId) {\n                  assignPet();\n                } else {\n                  message.error(\"Did not find this pet\");\n                }\n              }}\n            >\n              Confirm\n            </div>\n          </div>\n        </div>\n      </Modal>\n    );\n  };\n  //获取当前组织所有宠物信息\n  _list = () => {\n    const { search, petListData, searchPetList } = this.state;\n    let data = search.length > 0 ? searchPetList : petListData;\n    let option = data.map((item, index) => {\n      let male = item.gender === \"F\" ? \"Female\" : \"Male\";\n      return (\n        <li\n          key={item.petId}\n          onClick={() => {\n            this.setState({\n              selectPetId: item.petId,\n            });\n          }}\n        >\n          <div className=\"item\">\n            <span className=\"petName\" style={{ margin: `${px(5)}px 0` }}>\n              {item.petName}\n            </span>{\" \"}\n            &nbsp;&nbsp;\n            <span\n              className=\"petName\"\n              style={{ margin: `${px(5)}px 0` }}\n            >{`${item.age} yrs,`}</span>{\" \"}\n            &nbsp;&nbsp;\n            <span className=\"petName\" style={{ margin: `${px(5)}px 0` }}>\n              {male}\n            </span>\n          </div>\n\n          {this.state.selectPetId === item.petId ? (\n            <span className=\"search\">&#xe614;</span>\n          ) : null}\n        </li>\n      );\n    });\n    return <ul>{option}</ul>;\n  };\n\n\n  render() {\n    let { loading, disabled, historyData, searchText, serchExamData } =\n      this.state;\n    const _del = (key, record) => {\n      fetchRequest(`/pet/deletePetExamByExamId/${key}`, \"DELETE\").then(\n        (res) => {\n          if (res.flag === true) {\n            console.log(\"删除成功\");\n            const historyData = [...this.state.historyData];\n            console.log(historyData);\n            this.setState({\n              historyData: historyData.filter((item) => item.historyId !== key),\n            });\n          } else {\n            console.log(\"删除失败\");\n          }\n        }\n      );\n    };\n\n    const columns = [\n      {\n        title: \"\",\n        dataIndex: \"operation\",\n        key: \"operation\",\n        ellipsis: true,\n        align: \"center\",\n        render: (text, record, index) => {\n          return (\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                margin: `${px(8)}px 0`,\n              }}\n            >\n              <Popconfirm\n                title=\"Sure to delete?\"\n                onConfirm={() => _del(record.historyId, record)}\n              >\n                <img src={del} alt=\"\" width={25} style={{ marginRight: \"8px\" }} />\n              </Popconfirm>\n            </div>\n          );\n        },\n      },\n      {\n        title: \"Date\",\n        dataIndex: \"date\",\n        key: \"date\",\n        ellipsis: true,\n        align: \"center\",\n        render: (text, record, index) => {\n          return <p style={{ textAlign: \"center\" }}>{text}</p>;\n        },\n      },\n      {\n        title: \"Time\",\n        dataIndex: \"time\",\n        key: \"time\",\n        ellipsis: true,\n        align: \"center\",\n        render: (text, record, index) => {\n          return <p style={{ textAlign: \"center\" }}>{text}</p>;\n        },\n      },\n      {\n        title: \" Pet Description\",\n        dataIndex: \"description\",\n        key: \"description\",\n        ellipsis: true,\n        align: \"center\",\n        render: (text, record, index) => {\n          return <p style={{ width: \"70px\" }}>{text}</p>;\n        },\n      },\n      {\n        title: \"Species\",\n        dataIndex: \"species\",\n        key: \"species\",\n        render: (text, record, index) => {\n          return <p style={{ width: \"70px\" }}>{text}</p>;\n        },\n      },\n      {\n        title: \"Note\",\n        dataIndex: \"note\",\n        key: \"note\",\n        ellipsis: true,\n        align: \"center\",\n        render: (text, record, index) => {\n          return <p style={{ width: \"70px\" }}>{text}</p>;\n        },\n      },\n\n      {\n        title: \"\",\n        dataIndex: \"assign\",\n        key: \"assign\",\n        ellipsis: true,\n        align: \"center\",\n        render: (text, record, index) => {\n          return (\n            <div\n              className=\"assign\"\n              style={{\n                fontSize: px(16),\n                paddingTop: px(5),\n                paddingBottom: px(5),\n              }}\n              onClick={() => {\n                this.setState({\n                  // visible: true,\n                  assignVisible: true,\n                  seleceEmergencies: record,\n                });\n              }}\n            >\n              Assign\n            </div>\n          );\n        },\n      },\n    ];\n\n    let tableData = searchText.length > 0 ? serchExamData : historyData;\n\n    return (\n      <div id=\"unassigned\">\n        <Heard\n          onReturn={() => {\n            this.props.history.goBack();\n          }}\n          onSearch={(data) => {\n            storage.doctorExam = JSON.stringify(data);\n            storage.doctorList = JSON.stringify(this.state.data);\n            if (storage.isClinical === \"true\") {\n              this.props.history.push({\n                pathname: \"/page8\",\n                identity: storage.identity,\n                patientId: data.patientId,\n              });\n            } else {\n              this.props.history.push({ pathname: \"/page10\" });\n            }\n          }}\n          menu8Click={() => {\n            console.log(\"--\", storage.identity);\n            switch (storage.identity) {\n              case \"2\":\n                this.props.history.push({\n                  pathname: \"/EzyVetSelectExam\",\n                  listDate: storage.ezyVetList,\n                  defaultCurrent: storage.defaultCurrent,\n                });\n\n                break;\n              case \"1\":\n                this.props.history.push(\"/VetSpireSelectExam\");\n\n                break;\n              case \"3\":\n                this.props.history.push({\n                  pathname: \"/uesr/selectExam\",\n                  listDate: storage.doctorList,\n                  defaultCurrent: storage.defaultCurrent,\n                });\n\n                break;\n\n              default:\n                break;\n            }\n          }}\n        />\n        <div className=\"body\">\n          <div\n            className=\"title\"\n            style={{\n              marginTop: px(30),\n              fontSize: px(30),\n              marginBottom: px(40),\n            }}\n          >\n            Unassigned Measurements\n          </div>\n          <div className=\"input\" style={{ marginBottom: px(10) }}>\n            <input\n              type=\"text\"\n              placeholder=\"&#xe628; Search Pet Name or Description\"\n              value={this.state.searchText}\n              onChange={(e) => {\n                this.setState({\n                  searchText: e.target.value,\n                });\n                this._search(e.target.value);\n              }}\n              onKeyUp={(e) => {\n                if (e.keyCode === 13) {\n                  this._search();\n                }\n                if (e.keyCode === 27) {\n                  this.setState({\n                    searchText: \"\",\n                  });\n                }\n              }}\n            />\n            <div\n              className=\"searchBtn\"\n              style={{ height: px(35), fontSize: px(18) }}\n              onClick={this._search}\n            >\n              <p>Search</p>\n            </div>\n          </div>\n\n          <div className=\"table\">\n            <Table\n              style={{\n                width: \"95%\",\n                height: MTop(550),\n              }}\n              loading={loading}\n              columns={columns}\n              dataSource={tableData}\n              rowKey={(columns) => columns.historyId}\n              pagination={false}\n              scroll={{\n                y: MTop(500),\n              }}\n            />\n          </div>\n          {this._modal()}\n        </div>\n        {\n          this.state.assignVisible && (\n            <MyModal\n              visible={this.state.assignVisible}\n              element={\n                // <Spin spinning={this.state.modalLoading}>\n                <div className=\"myfindOrg\">\n                  <div className=\"orgHeard\">\n                    <div className=\"titleicon\" style={{ marginTop: px(5) }}>\n                      <div\n                        onClick={() => {\n                          this.setState({\n                            assignVisible: false ,\n                            search:'',\n                            selectPetId:'',\n                          });\n                        }}\n                      >\n                        <img src={Close} alt=\"\" style={{ width: px(25) }} />\n                      </div>\n                    </div>\n                    <div\n                      className=\"text\"\n                      onMouseOver={() => {\n                        if (disabled) {\n                          this.setState({\n                            disabled: false,\n                          });\n                        }\n                      }}\n                      onMouseOut={() => {\n                        this.setState({\n                          disabled: true,\n                        });\n                      }}\n                    >\n                      Assign Measurement\n                    </div>\n                    <div className=\"searchBox\">\n                      <Input\n                        placeholder=\" &#xe61b; Search Pet\"\n                        bordered={false}\n                        allowClear={true}\n                        value={this.state.search}\n                        onChange={(item) => {\n                          this.setState({\n                            search: item.target.value,\n                          });\n                          this._searchPet(item.target.value);\n                        }}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"list\">{this._list()}</div>\n                  <div className=\"foot\">\n                    <div\n                      className=\"btnn flex\"\n                      style={{ height: px(45) }}\n                      onClick={() => {\n                        this.setState({\n                          assignVisible: false,\n                          visible: true,\n                        });\n                      }}\n                    >\n                      <p>+Add New Pet</p>\n                    </div>\n                    <div\n                      className=\"btnn flex\"\n                      style={{ height: px(45) }}\n                      onClick={() => {\n                        if (!this.state.selectPetId) {\n                          message.error(\"Please select a pet to assign\");\n                        } else {\n                          let { selectPetId, seleceEmergencies, historyData } =\n                            this.state;\n                          let parmes = {\n                            petId: selectPetId,\n                            clinicalDatagroupId:\n                              seleceEmergencies.clinicalDatagroupId,\n                          };\n                          console.log(\"分配的数据信息\", parmes);\n                          fetchRequest(\n                            `/pet/addAndSavePetExam/${seleceEmergencies.historyId}`,\n                            \"POST\",\n                            parmes\n                          )\n                            .then((res) => {\n                              console.log(\"----------\", res);\n                              if (res.flag === true) {\n                                console.log(\"分配成功\");\n                                message.success(\"Assigned successfully\");\n                                let arr = [];\n                                for (let i = 0; i < historyData.length; i++) {\n                                  const element = historyData[i];\n                                  if (\n                                    seleceEmergencies.clinicalDatagroupId !==\n                                    element.clinicalDatagroupId\n                                  ) {\n                                    arr.push(element);\n                                  }\n                                }\n\n                                this.setState({\n                                  assignVisible: false,\n                                  historyData: arr,\n                                });\n                              } else {\n                                message.error(\"Assignment failed\");\n                              }\n                            })\n                            .catch((err) => {\n                              console.log(err);\n                              message.error(\"Assignment failed\");\n                            });\n                        }\n                      }}\n                    >\n                      <p>Confirm</p>\n                    </div>\n                  </div>\n                </div>\n                // </Spin>\n              }\n            />\n          )\n        }\n      </div>\n    );\n  }\n}\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\FetchUtil2.js",["979","980","981","982"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\mouseDiv\\MouseDiv.js",["983","984"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\axios\\index.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\reducers\\petReduce.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\reducers\\hardwareReduce.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actions\\index.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actionTypes\\hardwareType.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\button\\Button.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actionTypes\\index.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actions\\hardwareAction.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actionTypes\\petType.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\pages\\scanPage\\components\\numericInput.jsx",["985","986"],"import React, {\r\n} from 'react';\r\nimport { Input } from 'antd';\r\nimport _ from 'lodash';\r\nimport './numericInput.less'\r\nimport { useEffect } from 'react';\r\n\r\nconst NumericInput = (props) => {\r\n    const { value, onChange, getInput, onClick,onKey,index } = props;\r\n\r\n    //输入框输入\r\n    const handleChange = (e) => {\r\n        const { value: inputValue } = e.target;\r\n        const reg = /^-?\\d*(\\.\\d*)?$/;\r\n\r\n        if (reg.test(inputValue) || inputValue === '' || inputValue === '-') {\r\n            onChange(inputValue);\r\n        }\r\n    }\r\n    //失去焦点\r\n    const handleBlur = () => {\r\n        let valueTemp = value;\r\n        if (`${value}`.charAt(`${value}`.length - 1) === '.' || value === '-') {\r\n            valueTemp = value.slice(0, -1);\r\n        }\r\n        onChange(`${valueTemp}`.replace(/0*(\\d+)/, '$1'));\r\n    };\r\n    //输入框点击事件\r\n    const handleClick = () => {\r\n        onClick();\r\n    }\r\n    //修改样式\r\n    let bordercolor = onKey ===index ?'#e1206d':'#d9d9d9';\r\n\r\n\r\n    return (\r\n        <Input\r\n            {...props}\r\n            className='inputNum'\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            maxLength={25}\r\n            ref={getInput}\r\n            onClick={handleClick}\r\n            style={{borderColor:bordercolor}}\r\n        />\r\n    );\r\n\r\n};\r\n\r\nexport default NumericInput;\r\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\slider\\Slider.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\phoneBook\\PhoneBook.jsx",["987","988","989","990","991","992","993","994","995","996","997","998","999","1000"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\Fetch_token.js",["1001","1002","1003","1004"],"\r\n// let COMMON_URL = 'http://192.168.0.36:8080/melladesk';//本地\r\n// let COMMON_URL = 'http://54.85.89.201:8081/melladesk';//AWS\r\n// let COMMON_URL = 'http://8.131.66.177:8081/melladesk';//阿里云\r\nlet COMMON_URL = 'https://www.mellaserver.com/api/melladesk';//企业AWS\r\nlet token = '';\r\n\r\n//'/v1/appUser/login', 'POST', params\r\nexport function fetchToken (url, method, params = '', token = '') {\r\n\r\n  if (method === 'GET' || method === 'DELETE') {\r\n    let headers = null\r\n    if (token !== '') {\r\n      headers = {\r\n        'authorization': token,\r\n      };\r\n    }\r\n    if (params == '') {\r\n      return new Promise(function (resolve, reject) {\r\n        fetch(COMMON_URL + url, {\r\n          method: method,\r\n          headers\r\n        }).then((Response) => Response.json())\r\n          .then((responseData) => {\r\n            resolve(responseData)\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      });\r\n    } else {\r\n      // 定一个空数组\r\n      let paramsArray = [];\r\n      //  拆分对象\r\n      Object.keys(params).forEach(key =>\r\n        paramsArray.push(key + \"=\" + params[key])\r\n      );\r\n      // 判断是否地址拼接的有没有 ？,当没有的时候，使用 ？拼接第一个参数，如果有参数拼接，则用&符号拼接后边的参数   \r\n      if (url.search(/\\?/) === -1) {\r\n        url = url + \"?\" + paramsArray.join(\"&\");\r\n      } else {\r\n        url = url + \"&\" + paramsArray.join(\"&\");\r\n      }\r\n      return new Promise(function (resolve, reject) {\r\n        fetch(COMMON_URL + url, {\r\n          method: method,\r\n          headers\r\n        }).then((response) => response.json())\r\n          .then((responseData) => {\r\n            resolve(responseData);\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      });\r\n    }\r\n  } else if (method === 'POST') {\r\n    let header = {\r\n      \"Content-type\": \"application/json\"\r\n    };\r\n    if (params == '') {\r\n      return new Promise(function (resolve, reject) {\r\n        fetch(COMMON_URL + url, {\r\n          method: method,\r\n          headers: header\r\n        }).then((Response) => Response.json())\r\n          .then((responseData) => {\r\n            resolve(responseData)\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      });\r\n    } else {\r\n      return new Promise(function (resolve, reject) {\r\n        fetch(COMMON_URL + url, {\r\n          method: method,\r\n          // mode: 'cors',\r\n          headers: header,\r\n          body: JSON.stringify(params),\r\n        }).then((response) => response.json())\r\n          .then((responseData) => {\r\n            resolve(responseData);\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      });\r\n    }\r\n  } else {\r\n    let header = {\r\n      \"Content-type\": \"application/merge-patch+json\",\r\n      authorization: token\r\n    };\r\n    if (params == '') {\r\n      return new Promise(function (resolve, reject) {\r\n        fetch(COMMON_URL + url, {\r\n          method: method,\r\n          headers: header\r\n        }).then((Response) => Response.json())\r\n          .then((responseData) => {\r\n            resolve(responseData)\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      });\r\n    } else {\r\n      return new Promise(function (resolve, reject) {\r\n        fetch(COMMON_URL + url, {\r\n          method: method,\r\n          headers: header,\r\n          body: JSON.stringify(params),\r\n        }).then((response) => response.json())\r\n          .then((responseData) => {\r\n            resolve(responseData);\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      });\r\n    }\r\n  }\r\n}\r\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\ezyVetSelectExam\\EzyVetSelectExam.js",["1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018"],"//这里主要是直接从ezyVet获取数据\r\n//这是ezyVet的选择界面，后期集成时候别忘了identity，进入测量界面的身份，是vetspire、ezyvet、普通医生\r\nimport React, { Component } from 'react'\r\nimport {\r\n  Table,\r\n  Input,\r\n  Button,\r\n  Space,\r\n  message\r\n\r\n} from 'antd';\r\nimport moment from 'moment'\r\n//import 'antd/dist/antd.css';\r\nimport { SyncOutlined } from '@ant-design/icons';\r\nimport MaxMin from '../../utils/maxminreturn/MaxMinReturn'\r\nimport './ezyVetSelectExam.less'\r\n\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { FetchEszVet } from '../../utils/FetchEszVet'\r\nimport { fetchRequest2 } from '../../utils/FetchUtil2'\r\nimport gender from './../../utils/gender'\r\n\r\nlet storage = window.localStorage;\r\n\r\n\r\nexport default class EzyVetSelectExam extends Component {\r\n  state = {\r\n    loading: false,\r\n    api: '',\r\n    id: '',  //选择location的id\r\n    locations: [],\r\n    data: [],\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    seleceID: '',  //宠物医生id\r\n    spin: false,   //刷新按钮是否旋转\r\n    unixToURI: '',\r\n    ezyVetToken: '',\r\n    current: 1\r\n  }\r\n  componentWillMount () {\r\n    try {\r\n      if ((this.props.location.listDate)) {\r\n        console.log('------------', this.props.location);\r\n        let data = JSON.parse(this.props.location.listDate)\r\n        this.setState({\r\n          data,\r\n          current: parseInt(this.props.location.defaultCurrent)\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    if (window.screen.height < 950) {\r\n      ipcRenderer.send('table')\r\n    } else {\r\n      ipcRenderer.send('big')\r\n    }\r\n    storage.identity = '2'\r\n    if (storage.unixToURI !== '' && storage.unixToURI !== undefined) {\r\n      this.setState({\r\n        unixToURI: storage.unixToURI\r\n      })\r\n    }\r\n\r\n    if (storage.ezyVetToken !== '' && storage.ezyVetToken !== undefined) {\r\n      this.setState({\r\n        ezyVetToken: storage.ezyVetToken\r\n      })\r\n    }\r\n\r\n\r\n\r\n    if ((this.props.location.listDate)) {\r\n      console.log('------------', this.props.location);\r\n      let data = JSON.parse(this.props.location.listDate)\r\n      this.setState({\r\n        data,\r\n        current: parseInt(this.props.location.defaultCurrent)\r\n      })\r\n    } else {\r\n      this._getExam()\r\n    }\r\n\r\n\r\n\r\n  }\r\n  componentWillUnmount () {\r\n    message.destroy()\r\n  }\r\n\r\n  _getExam = async () => {\r\n    console.log('进来了');\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    console.log(storage.unixToURI, '------------', storage.ezyVetToken);\r\n    let params = {\r\n      limit: '100',\r\n      timestamp: storage.unixToURI\r\n    }\r\n\r\n    //1.获取病历单号但是缺少宠物信息\r\n    let url = `/healthstatus?limit=100&timestamp=${storage.unixToURI}`\r\n    if (storage.selectPatientId) {\r\n      url += `&animal_id=${storage.selectPatientId}`\r\n    }\r\n    FetchEszVet(url, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n      .then(res => {\r\n        console.log('------------------------------res', res);\r\n        if (res.messages.length === 0) {\r\n          let examArr = res.items\r\n          console.log('examArr', examArr);\r\n          let healthStatusArr = [], animalIdArr = []\r\n\r\n\r\n          for (let i = 0; i < examArr.length; i++) {\r\n            if (examArr[i].healthstatus.active !== '1') {\r\n              console.log(examArr[i]);\r\n              continue\r\n            }\r\n            let { animal_id, consult_id, created_at, id, timestamp, modified_at, heart_rate, notes, weight } = examArr[i].healthstatus\r\n            if (weight) {\r\n              weight = parseFloat(weight).toFixed(1)\r\n              weight += ' kg'\r\n            } else {\r\n              weight = 'unknown'\r\n            }\r\n\r\n            let json = {\r\n              animal_id,\r\n              consult_id,\r\n              insertedAt: timestamp,\r\n              key: id,\r\n              created_at,\r\n              heart_rate, notes,\r\n              modified_at,\r\n              weight\r\n            }\r\n\r\n            healthStatusArr.push(json)\r\n            if (animalIdArr.indexOf(parseInt(animal_id)) === -1) {\r\n              animalIdArr.push(parseInt(animal_id))\r\n            }\r\n          }\r\n\r\n          console.log(healthStatusArr, animalIdArr);\r\n          let animal = `{\"in\":[${animalIdArr}]}`\r\n          let uri = encodeURIComponent(animal)\r\n          console.log('宠物id集合：', uri)\r\n          //2.获取宠物信息\r\n          FetchEszVet(`/animal?id=${uri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n            .then(res => {\r\n              console.log('获取到的宠物信息1:', res, `Bearer ${storage.ezyVetToken}`);\r\n              if (res.messages.length === 0) {\r\n\r\n                let animalArr = res.items\r\n                let animalInfoArr = []\r\n                let breedIdArr = [], contactIDArr = []\r\n\r\n                for (let i = 0; i < animalArr.length; i++) {\r\n                  let { breed_id, date_of_birth, id, name, weight, weight_unit, contact_id, sex_id, animalcolour_id, guid,\r\n                    referring_clinic_id, referring_vet_id, residence_contact_id, species_id, created_at, modified_at, notes } = animalArr[i].animal\r\n                  let animalInfo = {\r\n                    breed_id, date_of_birth, id, name, weight, weight_unit, contact_id, sex_id, animalcolour_id, guid,\r\n                    referring_clinic_id, referring_vet_id, residence_contact_id, species_id, created_at, modified_at, notes\r\n                  }\r\n                  if (breedIdArr.indexOf(breed_id) === -1) {\r\n                    breedIdArr.push(breed_id)\r\n                  }\r\n                  if (contactIDArr.indexOf(contact_id) === -1) {\r\n                    contactIDArr.push(contact_id)\r\n                  }\r\n                  animalInfoArr.push(animalInfo)\r\n\r\n                }\r\n                console.log('我拿到了宠物的信息', animalInfoArr, '品种id集合', breedIdArr, '宠物主人id集合', contactIDArr);\r\n                //3.遍历记录数组，把宠物信息添加到病历单-缺少宠物主人信息与品种\r\n                let endArr = healthStatusArr.map((data, index) => {\r\n                  let oneExam = data\r\n\r\n                  for (let i = 0; i < animalInfoArr.length; i++) {\r\n\r\n                    if (animalInfoArr[i].id === oneExam.animal_id) {\r\n                      let { breed_id, date_of_birth, name, weight, weight_unit, contact_id, sex_id,\r\n\r\n                        bree_id, animalcolour_id, guid,\r\n                        referring_clinic_id, referring_vet_id, residence_contact_id, species_id\r\n\r\n                      } = animalInfoArr[i]\r\n                      let age = moment().diff(moment(parseInt(date_of_birth) * 1000), 'years')\r\n                      oneExam.age = age\r\n                      oneExam.breed = breed_id\r\n                      oneExam.gender = gender[sex_id]\r\n                      oneExam.contact_id = contact_id\r\n                      oneExam.petName = name\r\n                      // oneExam.weight = `${parseInt(weight).toFixed(1)} ${weight_unit}`\r\n                      oneExam.weightNum = `${parseInt(weight).toFixed(1)}`\r\n                      oneExam.weight_unit = weight_unit\r\n                      oneExam.animal = animalInfoArr[i]\r\n\r\n                      break\r\n                    }\r\n\r\n                  }\r\n                  return oneExam\r\n                })\r\n\r\n                console.log('融合后', endArr);\r\n                let contactIDStr = `{\"in\":[${contactIDArr}]}`\r\n\r\n                let contactIDUri = encodeURIComponent(contactIDStr)\r\n                console.log(contactIDStr);\r\n\r\n                let getContactArr = []\r\n                //4. 获取宠物主人信息\r\n                FetchEszVet(`/contact?id=${contactIDUri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n                  .then(res => {\r\n                    console.log('-------宠物主人信息：', res);\r\n                    if (res.messages.length === 0) {\r\n                      let items = res.items\r\n                      for (let i = 0; i < items.length; i++) {\r\n\r\n                        const { first_name, last_name, id, address_physical, address_postal, business_name, code, contact_detail_list, created_at,\r\n                          is_business, is_customer, is_staff_member, is_supplier, is_syndicate, is_vet, modified_at, ownership_id } = items[i].contact\r\n                        let name = ''\r\n                        if (first_name === '' && last_name === '') {\r\n                          name = 'unknown'\r\n                        } else {\r\n                          name = `${last_name} ${first_name}`\r\n                        }\r\n                        let json = {\r\n                          name,\r\n                          id,\r\n                          first_name, last_name, address_physical, address_postal, business_name, code, contact_detail_list, created_at,\r\n                          is_business, is_customer, is_staff_member, is_supplier, is_syndicate, is_vet, modified_at, ownership_id\r\n                        }\r\n                        getContactArr.push(json)\r\n                      }\r\n\r\n                      console.log('endArr', endArr);\r\n                      //5.把宠物信息并到病历单-----缺少品种\r\n                      let dataArr = endArr.map((data) => {\r\n                        let oneExam = data\r\n                        for (let i = 0; i < getContactArr.length; i++) {\r\n                          if (getContactArr[i].id === oneExam.contact_id) {\r\n                            let { name } = getContactArr[i]\r\n                            oneExam.owner = name\r\n                            oneExam.contact = getContactArr[i]\r\n                          }\r\n\r\n                        }\r\n                        return oneExam\r\n                      })\r\n                      console.log('添加过主人信息的记录：', dataArr);\r\n\r\n                      //6.获取病历单\r\n                      let breedIdStr = `{\"in\":[${breedIdArr}]}`\r\n\r\n                      let breedIdUri = encodeURIComponent(breedIdStr)\r\n                      console.log(breedIdUri);\r\n\r\n                      let getbreedIdArr = []\r\n\r\n                      FetchEszVet(`/breed?id=${breedIdUri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n                        .then(res => {\r\n                          console.log('获取到了品种信息', res);\r\n\r\n                          if (res.messages.length === 0) {\r\n\r\n                            let items = res.items\r\n                            for (let i = 0; i < items.length; i++) {\r\n\r\n                              let { name, id, created_at, modified_at, species_id } = items[i].breed\r\n\r\n                              if (name === '') {\r\n                                name = 'unKnown'\r\n                              }\r\n                              let json = {\r\n                                name,\r\n                                id,\r\n                                created_at, modified_at, species_id\r\n                              }\r\n                              getbreedIdArr.push(json)\r\n                            }\r\n\r\n                            console.log('endArr', endArr);\r\n                            //5.把宠物品种并到病历单\r\n                            let endExamArr = dataArr.map((data, index) => {\r\n                              let oneExam = data\r\n\r\n                              for (let i = 0; i < getbreedIdArr.length; i++) {\r\n\r\n                                if (getbreedIdArr[i].id === oneExam.breed) {\r\n                                  let { name } = getbreedIdArr[i]\r\n                                  oneExam.breed = name\r\n                                  oneExam.allBreed = getbreedIdArr[i]\r\n                                }\r\n\r\n                              }\r\n                              return oneExam\r\n                            })\r\n                            console.log('最终合成的数据：', endExamArr);\r\n                            this.setState({\r\n                              data: endExamArr,\r\n                              loading: false,\r\n                              spin: false\r\n                            })\r\n                          }\r\n                        })\r\n                        .catch(err => {\r\n                          console.log(err);\r\n                          this.setState({\r\n                            loading: false,\r\n                            spin: false\r\n                          })\r\n                        })\r\n\r\n\r\n\r\n\r\n                    }\r\n\r\n                  })\r\n                  .catch(err => {\r\n                    this.setState({\r\n                      loading: false,\r\n                      spin: false\r\n                    })\r\n                    console.log(err);\r\n                  })\r\n\r\n\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.setState({\r\n                loading: false,\r\n                spin: false\r\n              })\r\n              console.log(err);\r\n            })\r\n\r\n        } else {\r\n          console.log('很有可能是令牌过期了');\r\n          if (res.messages[0].text.indexOf(`Check the \\\"access token\\\" parameter`) !== -1 ||\r\n            res.messages[0].text.indexOf(`The resource owner or authorization server denied the reques`) !== -1) {\r\n            console.log('令牌就是过期了');\r\n            if (storage.ezyVetReLogin) {\r\n              let data = JSON.parse(storage.ezyVetReLogin)\r\n              let { client_id, client_secret, partner_id } = data\r\n              let prams = {\r\n                clientId: client_id,\r\n                clientSecret: client_secret,\r\n                partnerId: partner_id\r\n              }\r\n              let url = '/EzyVet/ezyvetauth'\r\n              fetchRequest2(url, \"GET\", prams)\r\n                .then(res => {\r\n                  console.log('重新获取token', res);\r\n                  if (res.flag === true && res.data) {\r\n                    storage.ezyVetToken = res.data\r\n                    this._getExam()\r\n                  }\r\n                })\r\n                .catch(err => {\r\n                  console.log(err);\r\n                })\r\n            } else {\r\n              // this.props.history.push('ezyVetLogin')\r\n              message.error('The access token is invalid, please obtain it again')\r\n              this.setState({\r\n                loading: false,\r\n                spin: false\r\n              })\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          loading: false,\r\n          spin: false\r\n        })\r\n        console.log(err);\r\n      })\r\n\r\n  }\r\n\r\n  //封装的日期排序方法<div className=\" ForwardRankingDate(data, p) {\r\n  ForwardRankingDate = (data, p) => {\r\n    for (let i = 0; i < data.length - 1; i++) {\r\n      for (let j = 0; j < data.length - 1 - i; j++) {\r\n        // console.log(Date.parse(data[j][p]));\r\n        if (Date.parse(data[j][p]) < Date.parse(data[j + 1][p])) {\r\n          var temp = data[j];\r\n          data[j] = data[j + 1];\r\n          data[j + 1] = temp;\r\n        }\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n\r\n  getColumnSearchProps = dataIndex => ({\r\n    //dataIndex 是标题名称\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => ( //通过 filterDropdown 自定义的列筛选功能，并实现一个搜索列的示例。\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    //自定义Icon\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    //\t本地模式下，确定筛选的运行函数 value:输入框里输入的内容     record:所有的项，相当于遍历\r\n    onFilter: (value, record) => {\r\n      console.log(value, record, dataIndex);\r\n      return record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : ''\r\n    },\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n  _refresh = () => {\r\n    console.log('点击了');\r\n    this.setState({\r\n      spin: true\r\n    })\r\n    // this._getData()\r\n    this._getExam()\r\n  }\r\n  render () {\r\n    const columns = [\r\n      {\r\n        title: 'Pet Name',\r\n        dataIndex: 'petName',\r\n        key: 'petName',\r\n        //   width: '30%',\r\n        ...this.getColumnSearchProps('petName'),\r\n      },\r\n      {\r\n        title: 'Owner',\r\n        dataIndex: 'owner',\r\n        key: 'owner',\r\n        //   width: '20%',\r\n        ...this.getColumnSearchProps('owner'),\r\n      },\r\n      {\r\n        title: 'Breed',\r\n        dataIndex: 'breed',\r\n        key: 'breed',\r\n        ...this.getColumnSearchProps('breed'),\r\n      },\r\n\r\n      {\r\n        title: 'Gender',\r\n        dataIndex: 'gender',\r\n        key: 'gender',\r\n        // width: '30%',\r\n        ...this.getColumnSearchProps('gender'),\r\n      },\r\n      {\r\n        title: 'Age',\r\n        dataIndex: 'age',\r\n        key: 'age',\r\n        // width: '20%',\r\n        render: (text, record, index) => {\r\n          // console.log(text);\r\n\r\n          if (`${text}` === 'NaN') {\r\n            return (\r\n              <p style={{ textAlign: 'center', justifyItems: 'center' }}>{'unknown'}</p>\r\n            )\r\n          } else {\r\n            return (\r\n              <p style={{ textAlign: 'center' }}>{text}</p>\r\n            )\r\n          }\r\n\r\n        }\r\n      },\r\n      {\r\n        title: 'Weight',\r\n        dataIndex: 'weight',\r\n        key: 'weight',\r\n        ...this.getColumnSearchProps('weight'),\r\n      },\r\n      {\r\n        title: 'Time',\r\n        dataIndex: 'insertedAt',\r\n        key: 'insertedAt',\r\n        render: (text, record, index) => {\r\n          let chazhi = new Date().getTimezoneOffset()\r\n          // console.log(moment(parseInt(text) * 1000).format('YYYY-MM-DD HH:mm'));\r\n          let newTime = moment(parseInt(text) * 1000).format('YYYY-MM-DD HH:mm');\r\n          // console.log(moment(parseInt(text) * 1000).add(chazhi, 'm').format('YYYY-MM-DD HH:mm'));\r\n          return (\r\n            <p style={{ textAlign: 'center' }}>{newTime}</p>\r\n          )\r\n\r\n        }\r\n      },\r\n\r\n    ];\r\n    const { loading, data, api, id, seleceID, spin } = this.state\r\n    return (\r\n\r\n      <div id=\"ezyVetSelectExam\">\r\n        {/* 关闭缩小 */}\r\n        <MaxMin\r\n          onClick={() => { this.props.history.push('/') }}\r\n          onClick1={() => this.props.history.push({ pathname: '/EzyVetSelectTime' })}\r\n        />\r\n\r\n        <div className=\"textfa1\">\r\n          <div className=\"textfa\">\r\n            <div className=\"text\">Select Patient Exam</div>\r\n            <div className=\"text3\"><SyncOutlined onClick={this._refresh} spin={spin} />   </div>\r\n          </div>\r\n          <div className=\"r\"\r\n            ref={add => this.add = add}\r\n            onClick={() => {\r\n              let electron = window.electron\r\n              electron.shell.openExternal('https://apisandbox.trial.ezyvet.com/#')\r\n            }}\r\n            onMouseDown={() => {\r\n              this.add.style.color = 'rgba(0,0,0,0.3)'\r\n            }}\r\n            onMouseUp={() => {\r\n              this.add.style.color = 'rgba(0,0,0)'\r\n            }}\r\n          >+</div>\r\n        </div>\r\n\r\n\r\n        <div className=\"table\">\r\n          <Table\r\n            columns={columns}\r\n            dataSource={data}\r\n            loading={loading}\r\n            locale={{ filterConfirm: <div>111</div> }}\r\n            pagination={{ pageSize: 7, showSizeChanger: false, showQuickJumper: true, defaultCurrent: this.state.current }}\r\n            onRow={(record) => {\r\n              return {\r\n                onClick: (event) => {\r\n\r\n                  console.log('record', record);\r\n\r\n                  if (record.consult_id === '') {\r\n                    message.error('This record cannot be updated. Please try another record', 10)\r\n                    return\r\n                  }\r\n\r\n                  let { allBreed, animal, contact } = record\r\n                  let { animalcolour_id, breed_id, contact_id, date_of_birth, guid, id, name, referring_clinic_id, referring_vet_id,\r\n                    residence_contact_id, sex_id, species_id, weight, weight_unit, created_at, modified_at\r\n                  } = animal\r\n                  let { address_physical, address_postal, business_name, contact_detail_list, first_name, is_business, is_customer,\r\n                    is_staff_member, is_supplier, is_syndicate, is_vet, last_name, ownership_id, code, notes\r\n                  } = contact\r\n                  let breed = {}\r\n                  if (allBreed) {\r\n                    breed = {\r\n                      id: allBreed.id,\r\n                      created_at: allBreed.created_at,\r\n                      modified_at: allBreed.modified_at,\r\n                      name: allBreed.name,\r\n                      species_id: allBreed.species_id\r\n                    }\r\n                  }\r\n                  let params = [{\r\n                    id,\r\n                    created_at,\r\n                    modified_at,\r\n                    name,\r\n                    sex_id,\r\n                    animalcolour_id,\r\n                    species_id,\r\n                    breed_id,\r\n                    contact_id,\r\n                    date_of_birth,\r\n                    referring_clinic_id,\r\n                    referring_vet_id,\r\n                    residence_contact_id,\r\n                    weight,\r\n                    weight_unit,\r\n                    notes,\r\n                    guid,\r\n                    sex: '',\r\n                    breed,\r\n                    species: {\r\n                      id: \"\",\r\n                      created_at: \"\",\r\n                      modified_at: \"\",\r\n                      name: \"\",\r\n                      icon: \"\"\r\n                    },\r\n                    contact: {\r\n                      id: contact.id,\r\n                      created_at: contact.created_at,\r\n                      modified_at: contact.modified_at,\r\n                      code,\r\n                      first_name,\r\n                      last_name,\r\n                      business_name,\r\n                      is_business,\r\n                      is_customer,\r\n                      is_supplier,\r\n                      is_vet,\r\n                      is_syndicate,\r\n                      is_staff_member,\r\n                      contact_detail_list,\r\n                      address_physical,\r\n                      address_postal,\r\n                      ownership_id\r\n                    }\r\n                  }]\r\n                  console.log('入参：', params);\r\n                  fetchRequest2('/EzyVet/checkAndSaveAnimalList', 'POST', params)\r\n                    .then(res => {\r\n                      console.log('====', res);\r\n                      if (res.flag === true) {\r\n                        storage.ezyVetSelectHealthstatus = JSON.stringify(record)\r\n                        storage.ezyVetList = JSON.stringify(this.state.data)\r\n                        let selectNum = document.getElementsByClassName('ant-pagination-item-active')\r\n\r\n                        storage.defaultCurrent = selectNum[0].title\r\n\r\n                        // this.props.history.push({ pathname: '/page10', })\r\n                        if (storage.isClinical === 'true') {\r\n                          this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: record.animal_id })\r\n                        } else {\r\n                          this.props.history.push({ pathname: '/page10', })\r\n                        }\r\n                      }\r\n                    })\r\n                    .catch(err => {\r\n                      console.log(err);\r\n                    })\r\n                }, // 点击行\r\n\r\n              };\r\n            }}\r\n          />\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n//下面这一块是通过后台获取到exam且进行集成\r\n// import React, { Component } from 'react'\r\n// import {\r\n//   Table,\r\n//   Input,\r\n//   Button,\r\n//   Space,\r\n//   message\r\n\r\n// } from 'antd';\r\n// import moment from 'moment'\r\n// //import 'antd/dist/antd.css';\r\n// import { SyncOutlined } from '@ant-design/icons';\r\n// import MaxMin from '../../utils/maxminreturn/MaxMinReturn'\r\n// import './ezyVetSelectExam.less'\r\n\r\n// import Highlighter from 'react-highlight-words';\r\n// import { SearchOutlined } from '@ant-design/icons';\r\n// import { FetchEszVet } from '../../utils/FetchEszVet'\r\n// import { fetchToken } from '../../utils/Fetch_token'\r\n// import gender from './../../utils/gender'\r\n\r\n// let storage = window.localStorage;\r\n\r\n\r\n// export default class EzyVetSelectExam extends Component {\r\n//   state = {\r\n//     loading: false,\r\n//     api: '',\r\n//     id: '',  //选择location的id\r\n//     locations: [],\r\n//     data: [],\r\n//     searchText: '',\r\n//     searchedColumn: '',\r\n//     seleceID: '',  //宠物医生id\r\n//     spin: false,   //刷新按钮是否旋转\r\n\r\n\r\n\r\n//     unixToURI: '',\r\n//     ezyVetToken: ''\r\n//   }\r\n\r\n//   componentDidMount () {\r\n//     let ipcRenderer = window.electron.ipcRenderer\r\n//     ipcRenderer.send('big')\r\n//     if (storage.unixToURI !== '' && storage.unixToURI !== undefined) {\r\n//       this.setState({\r\n//         unixToURI: storage.unixToURI\r\n//       })\r\n//     }\r\n\r\n//     if (storage.ezyVetToken !== '' && storage.ezyVetToken !== undefined) {\r\n//       this.setState({\r\n//         ezyVetToken: storage.ezyVetToken\r\n//       })\r\n//     }\r\n\r\n//     this._getExam()\r\n\r\n//   }\r\n//   componentWillUnmount () {\r\n//     message.destroy()\r\n//   }\r\n\r\n//   _getExam = async () => {\r\n//     console.log('进来了');\r\n//     this.setState({\r\n//       loading: true\r\n//     })\r\n//     console.log(storage.unixToURI, '------------', storage.ezyVetToken);\r\n//     let params = {\r\n//       limit: '100',\r\n//       timestamp: storage.unixToURI\r\n//     }\r\n\r\n//     //1.获取病历单号但是缺少宠物信息\r\n//     fetchToken(`/EzyVet/healthstatus`, \"GET\", params, `Bearer ${storage.ezyVetToken}`)\r\n//       .then(res => {\r\n//         console.log('res', res);\r\n//         if (res.msg === 'success') {\r\n//           let examArr = res.data.items\r\n//           console.log(examArr);\r\n//           let healthStatusArr = [], animalIdArr = []\r\n\r\n\r\n//           for (let i = 0; i < examArr.length; i++) {\r\n//             let { animal_id, consult_id, created_at, id, timestamp, modified_at } = examArr[i]\r\n\r\n//             let json = {\r\n//               animal_id,\r\n//               consult_id,\r\n//               insertedAt: timestamp,\r\n//               key: id\r\n//             }\r\n//             healthStatusArr.push(json)\r\n//             if (animalIdArr.indexOf(parseInt(animal_id)) === -1) {\r\n//               animalIdArr.push(parseInt(animal_id))\r\n//             }\r\n//           }\r\n\r\n//           console.log(healthStatusArr, animalIdArr);\r\n//           let animal = `{\"in\":[${animalIdArr}]}`\r\n//           let uri = encodeURIComponent(animal)\r\n//           console.log('宠物id集合：', uri)\r\n//           //2.获取宠物信息\r\n//           fetchToken(`/EzyVet/animal?id=${uri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n//             .then(res => {\r\n//               console.log('获取到的宠物信息:', res, `Bearer ${storage.ezyVetToken}`);\r\n//               if (res.msg === 'success') {\r\n\r\n//                 let animalArr = res.data.items\r\n//                 let animalInfoArr = []\r\n//                 let breedIdArr = [], contactIDArr = []\r\n\r\n//                 for (let i = 0; i < animalArr.length; i++) {\r\n//                   let { breed_id, date_of_birth, id, name, weight, weight_unit, contact_id, sex_id, } = animalArr[i]\r\n//                   let animalInfo = {\r\n//                     breed_id, date_of_birth, id, name, weight, weight_unit, contact_id, sex_id\r\n//                   }\r\n//                   if (breedIdArr.indexOf(breed_id) === -1) {\r\n//                     breedIdArr.push(breed_id)\r\n//                   }\r\n//                   if (contactIDArr.indexOf(contact_id) === -1) {\r\n//                     contactIDArr.push(contact_id)\r\n//                   }\r\n\r\n//                   animalInfoArr.push(animalInfo)\r\n\r\n//                 }\r\n//                 console.log('我拿到了宠物的信息', animalInfoArr, '品种id集合', breedIdArr, '宠物主人id集合', contactIDArr);\r\n//                 //3.遍历记录数组，把宠物信息添加到病历单-缺少宠物主人信息与品种\r\n//                 let endArr = healthStatusArr.map((data, index) => {\r\n//                   let oneExam = data\r\n\r\n//                   for (let i = 0; i < animalInfoArr.length; i++) {\r\n\r\n//                     if (animalInfoArr[i].id === oneExam.animal_id) {\r\n//                       let { breed_id, date_of_birth, id, name, weight, weight_unit, contact_id, sex_id, } = animalInfoArr[i]\r\n//                       let age = moment().diff(moment(parseInt(date_of_birth) * 1000), 'years')\r\n//                       oneExam.age = age\r\n//                       oneExam.breed = breed_id\r\n//                       oneExam.gender = gender[sex_id]\r\n//                       oneExam.contact_id = contact_id\r\n//                       oneExam.petName = name\r\n//                       oneExam.weight = `${parseInt(weight).toFixed(1)} ${weight_unit}`\r\n//                       break\r\n//                     }\r\n\r\n//                   }\r\n//                   return oneExam\r\n//                 })\r\n\r\n//                 console.log('融合后', endArr);\r\n//                 let contactIDStr = `{\"in\":[${contactIDArr}]}`\r\n\r\n//                 let contactIDUri = encodeURIComponent(contactIDStr)\r\n//                 console.log(contactIDStr);\r\n\r\n//                 let getContactArr = []\r\n//                 //4. 获取宠物主人信息\r\n//                 fetchToken(`/EzyVet/contact?id=${contactIDUri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n//                   .then(res => {\r\n//                     console.log('-------宠物主人信息：', res);\r\n//                     if (res.msg === 'success') {\r\n//                       let items = res.data\r\n//                       for (let i = 0; i < items.length; i++) {\r\n\r\n//                         const { first_name, last_name, id } = items[i]\r\n//                         let name = ''\r\n//                         if (first_name === '' && last_name === '') {\r\n//                           name = 'UnKnown'\r\n//                         } else {\r\n//                           name = `${last_name} ${first_name}`\r\n//                         }\r\n//                         let json = {\r\n//                           name,\r\n//                           id\r\n//                         }\r\n//                         getContactArr.push(json)\r\n//                       }\r\n\r\n//                       console.log('endArr', endArr);\r\n//                       //5.把宠物信息并到病历单-----缺少品种\r\n//                       let dataArr = endArr.map((data) => {\r\n//                         let oneExam = data\r\n//                         for (let i = 0; i < getContactArr.length; i++) {\r\n//                           if (getContactArr[i].id === oneExam.contact_id) {\r\n//                             let { name } = getContactArr[i]\r\n//                             oneExam.owner = name\r\n//                           }\r\n\r\n//                         }\r\n//                         return oneExam\r\n//                       })\r\n\r\n\r\n//                       //6.获取病历单\r\n//                       let breedIdStr = `{\"in\":[${breedIdArr}]}`\r\n\r\n//                       let breedIdUri = encodeURIComponent(breedIdStr)\r\n//                       console.log(breedIdUri);\r\n\r\n//                       let getbreedIdArr = []\r\n\r\n//                       fetchToken(`/EzyVet/breed?id=${breedIdUri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n//                         .then(res => {\r\n//                           console.log('获取到了品种信息', res);\r\n\r\n\r\n\r\n//                           let items = res.data\r\n//                           for (let i = 0; i < items.length; i++) {\r\n\r\n//                             const { name, id } = items[i]\r\n\r\n//                             if (name === '') {\r\n//                               name = 'UnKnown'\r\n//                             }\r\n//                             let json = {\r\n//                               name,\r\n//                               id\r\n//                             }\r\n//                             getbreedIdArr.push(json)\r\n//                           }\r\n\r\n//                           console.log('endArr', endArr);\r\n//                           //5.把宠物品种并到病历单\r\n//                           let endExamArr = dataArr.map((data, index) => {\r\n//                             let oneExam = data\r\n\r\n//                             for (let i = 0; i < getbreedIdArr.length; i++) {\r\n\r\n//                               if (getbreedIdArr[i].id === oneExam.breed) {\r\n//                                 let { name } = getbreedIdArr[i]\r\n//                                 oneExam.breed = name\r\n//                               }\r\n\r\n//                             }\r\n//                             return oneExam\r\n//                           })\r\n//                           this.setState({\r\n//                             data: endExamArr,\r\n//                             loading: false,\r\n//                             spin: false\r\n//                           })\r\n//                         })\r\n//                         .catch(err => {\r\n//                           console.log(err);\r\n//                           this.setState({\r\n//                             loading: false,\r\n//                             spin: false\r\n//                           })\r\n//                         })\r\n\r\n\r\n\r\n\r\n//                     }\r\n\r\n//                   })\r\n//                   .catch(err => {\r\n//                     this.setState({\r\n//                       loading: false,\r\n//                       spin: false\r\n//                     })\r\n//                     console.log(err);\r\n//                   })\r\n\r\n\r\n//               }\r\n//             })\r\n//             .catch(err => {\r\n//               this.setState({\r\n//                 loading: false,\r\n//                 spin: false\r\n//               })\r\n//               console.log(err);\r\n//             })\r\n\r\n//         }\r\n//       })\r\n//       .catch(err => {\r\n//         this.setState({\r\n//           loading: false,\r\n//           spin: false\r\n//         })\r\n//         console.log(err);\r\n//       })\r\n\r\n\r\n\r\n//     // FetchEszVet(`/healthstatus?limit=100&timestamp=${storage.unixToURI}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n//     //   .then(res => {\r\n//     //     console.log(res);\r\n//     //     let examArr = res.items\r\n//     //     console.log(examArr);\r\n//     //     let healthStatusArr = [], animalIdArr = []\r\n\r\n\r\n//     //     for (let i = 0; i < examArr.length; i++) {\r\n//     //       let { animal_id, consult_id, created_at, id, timestamp, modified_at } = examArr[i].healthstatus\r\n\r\n//     //       let json = {\r\n//     //         animal_id,\r\n//     //         consult_id,\r\n//     //         insertedAt: timestamp,\r\n//     //         key: id\r\n//     //       }\r\n//     //       healthStatusArr.push(json)\r\n//     //       if (animalIdArr.indexOf(parseInt(animal_id)) === -1) {\r\n//     //         animalIdArr.push(parseInt(animal_id))\r\n//     //       }\r\n//     //     }\r\n\r\n//     //     console.log(healthStatusArr, animalIdArr);\r\n//     //     let animal = `{\"in\":[${animalIdArr}]}`\r\n//     //     // console.log(animal);\r\n//     //     let uri = encodeURIComponent(animal)\r\n//     //     //2.获取宠物信息\r\n//     //     FetchEszVet(`/animal?id=${uri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n//     //       .then(res => {\r\n//     //         console.log('宠物信息', res);\r\n//     //         let animalArr = res.items\r\n//     //         let animalInfoArr = []\r\n//     //         let breedIdArr = [], contactIDArr = []\r\n\r\n//     //         for (let i = 0; i < animalArr.length; i++) {\r\n//     //           let { breed_id, date_of_birth, id, name, weight, weight_unit, contact_id, sex_id, } = animalArr[i].animal\r\n//     //           let animalInfo = {\r\n//     //             breed_id, date_of_birth, id, name, weight, weight_unit, contact_id, sex_id\r\n//     //           }\r\n//     //           if (breedIdArr.indexOf(breed_id) === -1) {\r\n//     //             breedIdArr.push(breed_id)\r\n//     //           }\r\n//     //           if (contactIDArr.indexOf(contact_id) === -1) {\r\n//     //             contactIDArr.push(contact_id)\r\n//     //           }\r\n\r\n//     //           animalInfoArr.push(animalInfo)\r\n\r\n//     //         }\r\n//     //         console.log('我拿到了宠物的信息', animalInfoArr, '品种id集合', breedIdArr, '宠物主人id集合', contactIDArr);\r\n//     //         //3.遍历记录数组，把宠物信息添加到病历单-缺少宠物主人信息与品种\r\n//     //         let endArr = healthStatusArr.map((data, index) => {\r\n//     //           let oneExam = data\r\n\r\n//     //           for (let i = 0; i < animalInfoArr.length; i++) {\r\n\r\n//     //             if (animalInfoArr[i].id === oneExam.animal_id) {\r\n//     //               let { breed_id, date_of_birth, id, name, weight, weight_unit, contact_id, sex_id, } = animalInfoArr[i]\r\n//     //               let age = moment().diff(moment(parseInt(date_of_birth) * 1000), 'years')\r\n//     //               oneExam.age = age\r\n//     //               oneExam.breed = breed_id\r\n//     //               oneExam.gender = gender[sex_id]\r\n//     //               oneExam.contact_id = contact_id\r\n//     //               oneExam.petName = name\r\n//     //               oneExam.weight = `${parseInt(weight).toFixed(1)} ${weight_unit}`\r\n//     //               break\r\n//     //             }\r\n\r\n//     //           }\r\n//     //           return oneExam\r\n//     //         })\r\n\r\n//     //         console.log(endArr);\r\n//     //         let contactIDStr = `{\"in\":[${contactIDArr}]}`\r\n\r\n//     //         let contactIDUri = encodeURIComponent(contactIDStr)\r\n//     //         console.log(contactIDStr);\r\n\r\n//     //         let getContactArr = []\r\n//     //         //4. 获取宠物信息\r\n//     //         FetchEszVet(`/contact?id=${contactIDUri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n//     //           .then(res => {\r\n//     //             console.log('-------宠物主人信息：', res);\r\n//     //             let items = res.items\r\n//     //             for (let i = 0; i < items.length; i++) {\r\n\r\n//     //               const { first_name, last_name, id } = items[i].contact\r\n//     //               let name = ''\r\n//     //               if (first_name === '' && last_name === '') {\r\n//     //                 name = 'UnKnown'\r\n//     //               } else {\r\n//     //                 name = `${last_name} ${first_name}`\r\n//     //               }\r\n//     //               let json = {\r\n//     //                 name,\r\n//     //                 id\r\n//     //               }\r\n//     //               getContactArr.push(json)\r\n//     //             }\r\n\r\n//     //             console.log('endArr', endArr);\r\n//     //             //5.把宠物信息并到病历单-----缺少品种\r\n//     //             let dataArr = endArr.map((data) => {\r\n//     //               let oneExam = data\r\n//     //               for (let i = 0; i < getContactArr.length; i++) {\r\n//     //                 if (getContactArr[i].id === oneExam.contact_id) {\r\n//     //                   let { name } = getContactArr[i]\r\n//     //                   oneExam.owner = name\r\n//     //                 }\r\n\r\n//     //               }\r\n//     //               return oneExam\r\n//     //             })\r\n\r\n\r\n//     //             //6.获取病历单\r\n//     //             let breedIdStr = `{\"in\":[${breedIdArr}]}`\r\n\r\n//     //             let breedIdUri = encodeURIComponent(breedIdStr)\r\n//     //             console.log(breedIdUri);\r\n\r\n//     //             let getbreedIdArr = []\r\n\r\n//     //             FetchEszVet(`/breed?id=${breedIdUri}`, \"GET\", '', `Bearer ${storage.ezyVetToken}`)\r\n//     //               .then(res => {\r\n//     //                 console.log('获取到了品种信息', res);\r\n\r\n\r\n\r\n//     //                 let items = res.items\r\n//     //                 for (let i = 0; i < items.length; i++) {\r\n\r\n//     //                   const { name, id } = items[i].breed\r\n\r\n//     //                   if (name === '') {\r\n//     //                     name = 'UnKnown'\r\n//     //                   }\r\n//     //                   let json = {\r\n//     //                     name,\r\n//     //                     id\r\n//     //                   }\r\n//     //                   getbreedIdArr.push(json)\r\n//     //                 }\r\n\r\n//     //                 console.log('endArr', endArr);\r\n//     //                 //5.把宠物品种并到病历单\r\n//     //                 let endExamArr = dataArr.map((data, index) => {\r\n//     //                   let oneExam = data\r\n\r\n//     //                   for (let i = 0; i < getbreedIdArr.length; i++) {\r\n\r\n//     //                     if (getbreedIdArr[i].id === oneExam.breed) {\r\n//     //                       let { name } = getbreedIdArr[i]\r\n//     //                       oneExam.breed = name\r\n//     //                     }\r\n\r\n//     //                   }\r\n//     //                   return oneExam\r\n//     //                 })\r\n//     //                 this.setState({\r\n//     //                   data: endExamArr,\r\n//     //                   loading: false,\r\n//     //                   spin: false\r\n//     //                 })\r\n//     //               })\r\n//     //               .catch(err => {\r\n//     //                 console.log(err);\r\n//     //                 this.setState({\r\n//     //                   loading: false,\r\n//     //                   spin: false\r\n//     //                 })\r\n//     //               })\r\n\r\n//     //           })\r\n//     //           .catch(err => {\r\n//     //             console.log(err);\r\n//     //             this.setState({\r\n//     //               loading: false,\r\n//     //               spin: false\r\n//     //             })\r\n//     //           })\r\n\r\n\r\n\r\n//     //       })\r\n//     //       .catch(err => {\r\n//     //         this.setState({\r\n//     //           loading: false,\r\n//     //           spin: false\r\n//     //         })\r\n//     //         console.log(err);\r\n//     //       })\r\n\r\n\r\n//     //   })\r\n//     //   .catch(err => {\r\n//     //     console.log(err);\r\n//     //     this.setState({\r\n//     //       loading: false,\r\n//     //       spin: false\r\n//     //     })\r\n//     //   })\r\n\r\n//   }\r\n\r\n//   //封装的日期排序方法<div className=\" ForwardRankingDate(data, p) {\r\n//   ForwardRankingDate = (data, p) => {\r\n//     for (let i = 0; i < data.length - 1; i++) {\r\n//       for (let j = 0; j < data.length - 1 - i; j++) {\r\n//         // console.log(Date.parse(data[j][p]));\r\n//         if (Date.parse(data[j][p]) < Date.parse(data[j + 1][p])) {\r\n//           var temp = data[j];\r\n//           data[j] = data[j + 1];\r\n//           data[j + 1] = temp;\r\n//         }\r\n//       }\r\n//     }\r\n//     return data;\r\n//   }\r\n\r\n\r\n//   getColumnSearchProps = dataIndex => ({\r\n//     //dataIndex 是标题名称\r\n//     filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => ( //通过 filterDropdown 自定义的列筛选功能，并实现一个搜索列的示例。\r\n//       <div style={{ padding: 8 }}>\r\n//         <Input\r\n//           ref={node => {\r\n//             this.searchInput = node;\r\n//           }}\r\n//           placeholder={`Search ${dataIndex}`}\r\n//           value={selectedKeys[0]}\r\n//           onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n//           onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n//           style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n//         />\r\n//         <Space>\r\n//           <Button\r\n//             type=\"primary\"\r\n//             onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n//             icon={<SearchOutlined />}\r\n//             size=\"small\"\r\n//             style={{ width: 90 }}\r\n//           >\r\n//             Search\r\n//           </Button>\r\n//           <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n//             Reset\r\n//           </Button>\r\n//         </Space>\r\n//       </div>\r\n//     ),\r\n//     //自定义Icon\r\n//     filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n//     //\t本地模式下，确定筛选的运行函数 value:输入框里输入的内容     record:所有的项，相当于遍历\r\n//     onFilter: (value, record) => {\r\n//       console.log(value, record, dataIndex);\r\n//       return record[dataIndex]\r\n//         ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n//         : ''\r\n//     },\r\n//     onFilterDropdownVisibleChange: visible => {\r\n//       if (visible) {\r\n//         setTimeout(() => this.searchInput.select(), 100);\r\n//       }\r\n//     },\r\n//     render: text =>\r\n//       this.state.searchedColumn === dataIndex ? (\r\n//         <Highlighter\r\n//           highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n//           searchWords={[this.state.searchText]}\r\n//           autoEscape\r\n//           textToHighlight={text ? text.toString() : ''}\r\n//         />\r\n//       ) : (\r\n//         text\r\n//       ),\r\n//   });\r\n\r\n//   handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n//     confirm();\r\n//     this.setState({\r\n//       searchText: selectedKeys[0],\r\n//       searchedColumn: dataIndex,\r\n//     });\r\n//   };\r\n\r\n//   handleReset = clearFilters => {\r\n//     clearFilters();\r\n//     this.setState({ searchText: '' });\r\n//   };\r\n//   _refresh = () => {\r\n//     console.log('点击了');\r\n//     this.setState({\r\n//       spin: true\r\n//     })\r\n//     // this._getData()\r\n//     this._getExam()\r\n//   }\r\n//   render () {\r\n//     const columns = [\r\n//       {\r\n//         title: 'Pet Name',\r\n//         dataIndex: 'petName',\r\n//         key: 'petName',\r\n//         //   width: '30%',\r\n//         ...this.getColumnSearchProps('petName'),\r\n//       },\r\n//       {\r\n//         title: 'Owner',\r\n//         dataIndex: 'owner',\r\n//         key: 'owner',\r\n//         //   width: '20%',\r\n//         ...this.getColumnSearchProps('owner'),\r\n//       },\r\n//       {\r\n//         title: 'Breed',\r\n//         dataIndex: 'breed',\r\n//         key: 'breed',\r\n//         ...this.getColumnSearchProps('breed'),\r\n//       },\r\n\r\n//       {\r\n//         title: 'Gender',\r\n//         dataIndex: 'gender',\r\n//         key: 'gender',\r\n//         // width: '30%',\r\n//         ...this.getColumnSearchProps('gender'),\r\n//       },\r\n//       {\r\n//         title: 'Age',\r\n//         dataIndex: 'age',\r\n//         key: 'age',\r\n//         // width: '20%',\r\n//         render: (text, record, index) => {\r\n//           // console.log(text);\r\n\r\n//           if (`${text}` === 'NaN') {\r\n//             return (\r\n//               <p style={{ textAlign: 'center', justifyItems: 'center' }}>{'unknown'}</p>\r\n//             )\r\n//           } else {\r\n//             return (\r\n//               <p style={{ textAlign: 'center' }}>{text}</p>\r\n//             )\r\n//           }\r\n\r\n//         }\r\n//       },\r\n//       {\r\n//         title: 'Weight',\r\n//         dataIndex: 'weight',\r\n//         key: 'weight',\r\n//         ...this.getColumnSearchProps('weight'),\r\n//       },\r\n//       {\r\n//         title: 'Creation time',\r\n//         dataIndex: 'insertedAt',\r\n//         key: 'insertedAt',\r\n//         render: (text, record, index) => {\r\n//           let chazhi = new Date().getTimezoneOffset()\r\n//           // console.log(moment(parseInt(text) * 1000).format('YYYY-MM-DD HH:mm'));\r\n//           let newTime = moment(parseInt(text) * 1000).format('YYYY-MM-DD HH:mm');\r\n//           // console.log(moment(parseInt(text) * 1000).add(chazhi, 'm').format('YYYY-MM-DD HH:mm'));\r\n//           return (\r\n//             <p style={{ textAlign: 'center' }}>{newTime}</p>\r\n//           )\r\n\r\n//         }\r\n//       },\r\n\r\n//     ];\r\n//     const { loading, data, api, id, seleceID, spin } = this.state\r\n//     return (\r\n\r\n//       <div id=\"ezyVetSelectExam\">\r\n//         {/* 关闭缩小 */}\r\n//         <MaxMin\r\n//           onClick={() => { this.props.history.push('/') }}\r\n//           onClick1={() => this.props.history.push({ pathname: '/EzyVetSelectTime' })}\r\n//         />\r\n\r\n//         <div className=\"textfa1\">\r\n//           <div className=\"textfa\">\r\n//             <div className=\"text\">Select Patient Exam</div>\r\n//             <div className=\"text3\"><SyncOutlined onClick={this._refresh} spin={spin} />   </div>\r\n//           </div>\r\n//           <div className=\"r\" onClick={() => {\r\n//             let electron = window.electron\r\n//             electron.shell.openExternal('https://mella.vetspire.com/clients')\r\n//           }}>+</div>\r\n//         </div>\r\n\r\n\r\n//         <div className=\"table\">\r\n//           <Table\r\n//             columns={columns}\r\n//             dataSource={data}\r\n//             loading={loading}\r\n//             locale={{ filterConfirm: <div>111</div> }}\r\n//             pagination={{ pageSize: 7, showSizeChanger: false, showQuickJumper: true }}\r\n//             onRow={(record) => {\r\n//               return {\r\n//                 onClick: (event) => {\r\n\r\n//                   console.log(record);\r\n//                   if (record.consult_id === '') {\r\n//                     message.error('This record cannot be updated. Please try another record', 10)\r\n//                     return\r\n//                   }\r\n//                   storage.ezyVetSelectHealthstatus = JSON.stringify(record)\r\n\r\n//                   // let patientId = record.key\r\n//                   // let petName = record.petName\r\n\r\n//                   // console.log(patientId, petName);\r\n//                   // storage.selectExamId = record.key\r\n//                   // storage.selectPatientId = record.patientId\r\n\r\n//                   // storage.selectAge = record.age\r\n//                   // storage.selectBreed = record.breed\r\n//                   // storage.selectOwner = record.owner\r\n//                   // storage.selectWeight = record.weight\r\n//                   // storage.selectPetName = record.petName\r\n\r\n//                   this.props.history.push({ pathname: '/page10', })\r\n\r\n//                 }, // 点击行\r\n\r\n//               };\r\n//             }}\r\n//           />\r\n//         </div>\r\n\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\n","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\ezyVetLogin\\EzyVetLogin.jsx",["1019","1020"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\selectExam\\SelectExam.jsx",["1021","1022","1023","1024"],"//这是vetspire的选择界面，后期集成时候别忘了identity，进入测量界面的身份，是vetspire、ezyvet、普通医生\r\nimport React, { Component } from 'react'\r\nimport {\r\n  Table,\r\n  Input,\r\n  Button,\r\n  Space\r\n\r\n} from 'antd';\r\nimport moment from 'moment'\r\n//import 'antd/dist/antd.css';\r\nimport { SyncOutlined } from '@ant-design/icons';\r\nimport MaxMin from '../../utils/maxminreturn/MaxMinReturn'\r\nimport './selectExam.less'\r\n\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { fetchRequest1 } from '../../utils/FetchUtil'\r\nimport { fetchRequest2 } from '../../utils/FetchUtil2'\r\n\r\nlet storage = window.localStorage;\r\n\r\n\r\nexport default class SelectExam extends Component {\r\n  state = {\r\n    loading: false,\r\n    api: '',\r\n    id: '',  //选择location的id\r\n    locations: [],\r\n    data: [],\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    seleceID: '',  //宠物医生id\r\n    spin: false,   //刷新按钮是否旋转\r\n\r\n  }\r\n\r\n  componentDidMount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    if (window.screen.height < 1000) {\r\n      ipcRenderer.send('table')\r\n    } else {\r\n      ipcRenderer.send('big')\r\n    }\r\n    this._getData()\r\n    storage.identity = '1'\r\n\r\n  }\r\n  _getData = async () => {\r\n    this.setState({\r\n      api: storage.API,\r\n      id: storage.selectLocationId,\r\n      seleceID: storage.selectvetId\r\n    })\r\n    let time = new Date()\r\n    let updateAtStart = moment(time).format('YYYY-MM-DD')\r\n    console.log(time, updateAtStart);\r\n    let params = {\r\n      APIkey: storage.API,\r\n      providerId: storage.selectvetId,\r\n      updateAtStart\r\n    }\r\n    console.log('发送获取宠物列表数据：', params);\r\n    this.setState({ loading: true });\r\n    let arr = [\r\n      {\r\n        age: 10,\r\n        breed: \"american shorthair\",\r\n        gender: \"FEMALE\",\r\n        key: \"847571\",\r\n        owner: \"Emma Bunin\",\r\n        petName: \"Ruby\",\r\n        weight: \"100 LB\",\r\n      },\r\n      {\r\n        age: 7,\r\n        breed: \"labrador retriever\",\r\n        gender: \"MALE\",\r\n        key: \"847570\",\r\n        owner: \"Emma Bunin\",\r\n        petName: \"Wally\",\r\n        weight: \"68.4 LB\",\r\n      },\r\n      {\r\n        age: 11,\r\n        breed: \"french bulldog\",\r\n        gender: \"MALE\",\r\n        key: \"847569\",\r\n        owner: \"Jane Doe\",\r\n        petName: \"Charmander\",\r\n        weight: \"68.4 LB\",\r\n      },\r\n      {\r\n        age: 10,\r\n        breed: \"american shorthair\",\r\n        gender: \"FEMALE\",\r\n        key: \"847567\",\r\n        owner: \"Marilyn Monroe\",\r\n        petName: \"Lemon\",\r\n        weight: \"22 LB\",\r\n      }, {\r\n        age: 9,\r\n        breed: \"golden retriever\",\r\n        gender: \"MALE\",\r\n        key: \"847566\",\r\n        owner: \"Marilyn Monroe\",\r\n        petName: \"Zack\",\r\n        weight: \"100 LB\",\r\n      },\r\n      {\r\n        age: 9,\r\n        breed: \"american shorthair\",\r\n        gender: \"MALE\",\r\n        key: \"847568\",\r\n        owner: \"Marilyn Monroe\",\r\n        petName: \"Oreo\",\r\n        weight: \"10.5 LB\",\r\n      }\r\n    ]\r\n\r\n\r\n    console.log('转换的数据：', arr);\r\n    let examData = []\r\n    let indexArr = []\r\n    for (let i = 0; i < arr.length; i++) {\r\n      let sendData = {\r\n        APIkey: storage.API,\r\n        patientId: arr[i].key\r\n      }\r\n      console.log('发送获取exam数据', sendData);\r\n\r\n      fetchRequest2('/VetSpire/selectExamByPatientId', 'POST', sendData)\r\n        .then(res => {\r\n          console.log('接收exam数据', i, res);\r\n          this.setState({ loading: false, spin: false });\r\n          indexArr.push(i)\r\n          if (res.flag === true) {\r\n            let examArr = res.data.encounters\r\n            for (let index = 0; index < examArr.length; index++) {\r\n              let chazhi = new Date().getTimezoneOffset()\r\n              let newTime = moment(new Date()).add(chazhi, 'm').format('YYYY-MM-DD');\r\n              let insertedAt = moment(examArr[index].insertedAt).format('YYYY-MM-DD')\r\n              if (newTime === insertedAt) {\r\n                let examId = examArr[index].vitals.id\r\n                let patientId = examArr[index].patient.id\r\n                let json = {\r\n                  examId,\r\n                  patientId,\r\n                  insertedAt: examArr[index].insertedAt,\r\n                  petName: examArr[index].patient.name\r\n                }\r\n                examData.push(json)\r\n              }\r\n\r\n            }\r\n          }\r\n          if (indexArr.length === arr.length) {\r\n\r\n            let tableArr = []\r\n            for (let j = 0; j < arr.length; j++) {\r\n              for (let k = 0; k < examData.length; k++) {\r\n                if (arr[j].key === examData[k].patientId) {\r\n                  let { age, breed, gender, owner, petName, weight } = arr[j]\r\n                  let { examId, insertedAt, patientId } = examData[k]\r\n                  let json1 = {\r\n                    age, breed, gender, owner, key: examId, petName, weight, insertedAt, patientId\r\n                  }\r\n                  tableArr.push(json1)\r\n                }\r\n              }\r\n            }\r\n\r\n            console.log('最终合成的数据：', tableArr);\r\n            let historyDataArr = this.ForwardRankingDate(tableArr, 'insertedAt')\r\n            // console.log(`日期排序后：----------`, historyDataArr);\r\n\r\n\r\n            this.setState({\r\n              data: historyDataArr\r\n            })\r\n          }\r\n\r\n        })\r\n        .catch(err => {\r\n          console.log('err', err);\r\n        })\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  //封装的日期排序方法<div className=\" ForwardRankingDate(data, p) {\r\n  ForwardRankingDate = (data, p) => {\r\n    for (let i = 0; i < data.length - 1; i++) {\r\n      for (let j = 0; j < data.length - 1 - i; j++) {\r\n        // console.log(Date.parse(data[j][p]));\r\n        if (Date.parse(data[j][p]) < Date.parse(data[j + 1][p])) {\r\n          var temp = data[j];\r\n          data[j] = data[j + 1];\r\n          data[j + 1] = temp;\r\n        }\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n\r\n  getColumnSearchProps = dataIndex => ({\r\n    //dataIndex 是标题名称\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => ( //通过 filterDropdown 自定义的列筛选功能，并实现一个搜索列的示例。\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    //自定义Icon\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    //\t本地模式下，确定筛选的运行函数 value:输入框里输入的内容     record:所有的项，相当于遍历\r\n    onFilter: (value, record) => {\r\n      console.log(value, record, dataIndex);\r\n      return record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : ''\r\n    },\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n  _refresh = () => {\r\n    console.log('点击了');\r\n    this.setState({\r\n      spin: true\r\n    })\r\n    this._getData()\r\n  }\r\n  render () {\r\n    const columns = [\r\n      {\r\n        title: 'Pet Name',\r\n        dataIndex: 'petName',\r\n        key: 'petName',\r\n        //   width: '30%',\r\n        ...this.getColumnSearchProps('petName'),\r\n      },\r\n      {\r\n        title: 'Owner',\r\n        dataIndex: 'owner',\r\n        key: 'owner',\r\n        //   width: '20%',\r\n        ...this.getColumnSearchProps('owner'),\r\n      },\r\n      {\r\n        title: 'Breed',\r\n        dataIndex: 'breed',\r\n        key: 'breed',\r\n        ...this.getColumnSearchProps('breed'),\r\n      },\r\n\r\n      {\r\n        title: 'Gender',\r\n        dataIndex: 'gender',\r\n        key: 'gender',\r\n        // width: '30%',\r\n        ...this.getColumnSearchProps('gender'),\r\n      },\r\n      {\r\n        title: 'Age',\r\n        dataIndex: 'age',\r\n        key: 'age',\r\n        // width: '20%',\r\n        ...this.getColumnSearchProps('age'),\r\n      },\r\n      {\r\n        title: 'Weight',\r\n        dataIndex: 'weight',\r\n        key: 'weight',\r\n        ...this.getColumnSearchProps('weight'),\r\n      },\r\n      {\r\n        title: 'Creation time',\r\n        dataIndex: 'insertedAt',\r\n        key: 'insertedAt',\r\n        render: (text, record, index) => {\r\n          let chazhi = new Date().getTimezoneOffset()\r\n\r\n          let newTime = moment(text).subtract(chazhi, 'm').format('YYYY-MM-DD HH:mm');\r\n          return (\r\n            <p style={{ textAlign: 'center' }}>{newTime}</p>\r\n          )\r\n\r\n        }\r\n      },\r\n      // {\r\n      //   title: '',\r\n      //   dataIndex: 'patientId',\r\n      //   key: 'patientId',\r\n      //   render: (text, record, index) => {\r\n      //     // console.log(text, record, index);\r\n      //     let chazhi = new Date().getTimezoneOffset()\r\n\r\n      //     let newTime = moment(text).subtract(chazhi, 'm').format('YYYY-MM-DD HH:mm');\r\n      //     return (\r\n      //       null\r\n      //     )\r\n\r\n      //   }\r\n      // },\r\n    ];\r\n    const { loading, data, api, id, seleceID, spin } = this.state\r\n    return (\r\n\r\n      <div id=\"patient\">\r\n        {/* 关闭缩小 */}\r\n        <MaxMin\r\n          onClick={() => { this.props.history.push('/') }}\r\n          onClick1={() => this.props.history.push({ pathname: '/page4' })}\r\n        />\r\n\r\n        <div className=\"textfa1\">\r\n          <div className=\"textfa\">\r\n            <div className=\"text\">Select Patient Exam</div>\r\n            <div className=\"text3\"><SyncOutlined onClick={this._refresh} spin={spin} />   </div>\r\n          </div>\r\n          <div className=\"r\" onClick={() => {\r\n            let electron = window.electron\r\n            electron.shell.openExternal('https://mella.vetspire.com/clients')\r\n          }}>+</div>\r\n        </div>\r\n\r\n\r\n        <div className=\"table\">\r\n          <Table\r\n            columns={columns}\r\n            dataSource={data}\r\n            loading={loading}\r\n            locale={{ filterConfirm: <div>111</div> }}\r\n            pagination={{ pageSize: 7, showSizeChanger: false, showQuickJumper: true }}\r\n            onRow={(record) => {\r\n              return {\r\n                onClick: (event) => {\r\n                  console.log(record);\r\n                  let patientId = record.key\r\n                  let petName = record.petName\r\n\r\n                  console.log(patientId, petName);\r\n                  storage.selectExamId = record.key\r\n                  storage.selectPatientId = record.patientId\r\n\r\n                  storage.selectAge = record.age\r\n                  storage.selectBreed = record.breed\r\n                  storage.selectOwner = record.owner\r\n                  storage.selectWeight = record.weight\r\n                  storage.selectPetName = record.petName\r\n\r\n                  this.props.history.push({ pathname: '/page10', })\r\n                  // if (storage.isClinical === 'true') {\r\n                  //   console.log('---------', record.patientId);\r\n                  //   this.props.history.push({ pathname: '/page8', identity: storage.identity, patientId: record.patientId })\r\n                  // } else {\r\n                  //   this.props.history.push({ pathname: '/page10', })\r\n                  // }\r\n\r\n                }, // 点击行\r\n\r\n              };\r\n            }}\r\n          />\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\signIn\\scanCodeLogin\\ScanCodeLogin.jsx",["1025","1026","1027","1028"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\signIn\\resetPassword\\ResetPassword.jsx",["1029","1030","1031"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\maxminreturn\\MaxMinReturn.jsx",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\ishavePMS\\IsHavePMS.jsx",["1032","1033"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\invite\\Invite.jsx",["1034","1035","1036","1037","1038","1039","1040"],"import React, { Component, } from 'react'\r\nimport {\r\n  Tag,\r\n  Input,\r\n  Tooltip,\r\n  message,\r\n  // Button\r\n} from 'antd';\r\nimport Draggable from \"react-draggable\";\r\nimport { createFromIconfontCN, CaretDownFilled, PlusOutlined } from '@ant-design/icons';\r\n//import 'antd/dist/antd.css';\r\n\r\nimport './invite.less'\r\nimport imgArray from './../../../utils/areaCode/imgArray'\r\nimport MaxMin from './../../../utils/maxminreturn/MaxMinReturn'\r\nimport { fetchRequest } from './../../../utils/FetchUtil1'\r\nimport temporaryStorage from '../../../utils/temporaryStorage'\r\nimport { fetchRequest2 } from '../../../utils/FetchUtil2';\r\nimport { mTop, px } from '../../../utils/px';\r\nimport Button from './../../../utils/button/Button'\r\nimport MyModal from '../../../utils/myModal/MyModal';\r\nlet storage = window.localStorage;\r\n\r\nexport default class Invite extends Component {\r\n\r\n  state = {\r\n\r\n    tags: [],\r\n    inputVisible: false,\r\n    inputValue: '',\r\n    editInputIndex: -1,\r\n    editInputValue: '',\r\n    visible: false\r\n  }\r\n\r\n  componentDidMount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('big')\r\n\r\n    //监听屏幕分辩率是否变化，变化就去更改界面内容距离大小\r\n    ipcRenderer.on('changeFenBianLv', this.changeFenBianLv)\r\n\r\n\r\n  }\r\n  componentWillUnmount () {\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.removeListener('changeFenBianLv', this.changeFenBianLv)\r\n  }\r\n  changeFenBianLv = (e) => {\r\n    console.log(e);\r\n    let ipcRenderer = window.electron.ipcRenderer\r\n    ipcRenderer.send('big')\r\n    this.setState({\r\n\r\n    })\r\n  }\r\n\r\n\r\n  handleClose = removedTag => {\r\n    const tags = this.state.tags.filter(tag => tag !== removedTag);\r\n    console.log(tags);\r\n    this.setState({ tags });\r\n  };\r\n\r\n  showInput = () => {\r\n    this.setState({ inputVisible: true }, () => this.input.focus());\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleInputConfirm = () => {\r\n    const { inputValue } = this.state;\r\n    let { tags } = this.state;\r\n    if (inputValue && tags.indexOf(inputValue) === -1) {\r\n      console.log('输入的内容为：', inputValue);\r\n      message.destroy()\r\n      fetchRequest(`/user/checkUser/${inputValue}`, 'GET', '')\r\n        .then(res => {\r\n          console.log(res);\r\n          if (res.code === 11011) {\r\n            console.log('邮箱号以被注册，是否忘记密码');\r\n            tags = [...tags, inputValue];\r\n            console.log(tags);\r\n\r\n            this.setState({\r\n              tags,\r\n              inputVisible: false,\r\n              inputValue: '',\r\n            });\r\n          }\r\n          else {\r\n            message.error('This mailbox was not found!', 3)\r\n            this.setState({\r\n              inputVisible: false,\r\n              inputValue: '',\r\n            });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          message.error(`Error:${err.message}`)\r\n          console.log('检测邮箱号的接口出错了', err);\r\n        })\r\n\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  saveInputRef = input => {\r\n    this.input = input;\r\n  };\r\n\r\n  saveEditInputRef = input => {\r\n    this.editInput = input;\r\n  };\r\n\r\n  _next = () => {\r\n    message.destroy()\r\n    let { tags } = this.state\r\n    let userId = storage.userId\r\n    let organizationId = storage.lastOrganization\r\n    console.log({ tags, userId, organizationId });\r\n    if (tags.length === 0) {\r\n      message.error('Please enter the invitation email')\r\n      return\r\n    }\r\n    this.setState({\r\n      visible: true\r\n    })\r\n    fetchRequest2(`/user/inviteUserByEmail/${userId}/${organizationId}`, \"POST\", tags)\r\n      .then(res => {\r\n        console.log(res);\r\n        this.setState({\r\n          visible: false\r\n        })\r\n        if (res.flag === true) {\r\n          console.log('成功，跳转');\r\n          message.success('Invitation successful', 3)\r\n          this.props.history.goBack()\r\n\r\n        } else {\r\n          message.error('Invitation failed')\r\n\r\n        }\r\n\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          visible: false\r\n        })\r\n        console.log(err);\r\n        message.error(err.message, 3)\r\n      })\r\n  }\r\n  render () {\r\n    const { tags, inputVisible, inputValue, editInputIndex, editInputValue } = this.state;\r\n    console.log('---', editInputIndex);\r\n    return (\r\n      <div id=\"inviteTeam\" >\r\n        {/* 关闭缩小 */}\r\n        <div className=\"heard\">\r\n          <MaxMin\r\n            onClick={() => { this.props.history.push('/') }}\r\n            onClick1={() => this.props.history.goBack()}\r\n          />\r\n          <div className=\"text\">Invite your Team</div>\r\n\r\n          <div className=\"addF\">\r\n            <p>To:</p>\r\n            <div className=\"add\">\r\n\r\n              <>\r\n                {tags.map((tag, index) => {\r\n                  const isLongTag = tag.length > 25;  //标签里面的字符串的长度\r\n\r\n                  const tagElem = (\r\n                    <Tag\r\n                      className=\"edit-tag\"\r\n                      key={tag}\r\n                      closable={true}\r\n                      onClose={() => this.handleClose(tag)}\r\n                    >\r\n                      <span>\r\n                        {isLongTag ? `${tag.slice(0, 25)}...` : tag}\r\n                      </span>\r\n                    </Tag>\r\n                  );\r\n                  return isLongTag ? (\r\n                    <Tooltip title={tag} key={tag}>\r\n                      {tagElem}\r\n                    </Tooltip>\r\n                  ) : (\r\n                    tagElem\r\n                  );\r\n                })}\r\n                {inputVisible && (\r\n                  <Input\r\n                    ref={this.saveInputRef}\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    className=\"tag-input\"\r\n                    value={inputValue}\r\n                    onChange={this.handleInputChange}\r\n                    onBlur={this.handleInputConfirm}\r\n                    onPressEnter={this.handleInputConfirm}\r\n                  />\r\n                )}\r\n                {!inputVisible && (\r\n                  <Tag className=\"site-tag-plus\" onClick={this.showInput}>\r\n                    <PlusOutlined />Press Enter to add mailbox\r\n                  </Tag>\r\n                )}\r\n              </>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"btn\"\r\n          style={{ padding: `${px(40)}px 0` }}\r\n        >\r\n\r\n          {/* <Button\r\n            type=\"primary\"\r\n            shape=\"round\"\r\n            size='large'\r\n            htmlType=\"submit\"\r\n            onClick={this._next}\r\n            text={'Send'}\r\n          >\r\n\r\n          </Button> */}\r\n\r\n          <Button\r\n\r\n            onClick={this._next}\r\n            text={'Send'}\r\n            textBoxStyle={{ height: px(45), width: '45%' }}\r\n          >\r\n\r\n          </Button>\r\n        </div>\r\n        <MyModal visible={this.state.visible} />\r\n\r\n      </div>\r\n\r\n\r\n    )\r\n  }\r\n}","C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\addDevice\\AddDevice.jsx",["1041","1042","1043","1044","1045","1046","1047","1048","1049","1050"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\FetchEszVet.js",["1051","1052"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\temporaryStorage.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\reducers\\index.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\myModal\\MyModal.jsx",["1053","1054"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\axios\\http.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\InitDate.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\FetchUtil3.js",["1055","1056","1057","1058"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\apiKey\\APIKey.jsx",["1059","1060","1061","1062"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\signIn\\forgotPassword\\ForgotPassword.jsx",["1063","1064","1065","1066"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\createAccount\\findMyWorkplace\\FindMyWorkplace.jsx",["1067","1068"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\components\\menuOptions\\admin_VetProfile\\Veterinarians.jsx",["1069","1070","1071","1072","1073","1074","1075","1076","1077","1078","1079","1080","1081","1082","1083","1084"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\electronStore.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\selectionBox\\SelectionBox.jsx",["1085"],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\reducers\\userReduce.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\store\\actionTypes\\userType.js",[],"C:\\Users\\nonagon\\Desktop\\newPc\\Mella_Desktop_Super_USB\\src\\utils\\FetchUtil4.js",["1086","1087","1088","1089"],{"ruleId":"1090","severity":1,"message":"1091","line":2,"column":35,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":42},{"ruleId":"1090","severity":1,"message":"1094","line":13,"column":10,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1095","line":43,"column":20,"nodeType":"1092","messageId":"1093","endLine":43,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1096","line":50,"column":9,"nodeType":"1092","messageId":"1093","endLine":50,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1097","line":52,"column":7,"nodeType":"1092","messageId":"1093","endLine":52,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1098","line":79,"column":5,"nodeType":"1092","messageId":"1093","endLine":79,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1099","line":212,"column":48,"nodeType":"1092","messageId":"1093","endLine":212,"endColumn":54},{"ruleId":"1100","severity":1,"message":"1101","line":331,"column":9,"nodeType":"1102","messageId":"1103","endLine":344,"endColumn":10},{"ruleId":"1100","severity":1,"message":"1101","line":744,"column":9,"nodeType":"1102","messageId":"1103","endLine":748,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1104","line":752,"column":9,"nodeType":"1092","messageId":"1093","endLine":752,"endColumn":27},{"ruleId":"1100","severity":1,"message":"1101","line":1047,"column":11,"nodeType":"1102","messageId":"1103","endLine":1054,"endColumn":12},{"ruleId":"1100","severity":1,"message":"1101","line":1270,"column":13,"nodeType":"1102","messageId":"1103","endLine":1277,"endColumn":14},{"ruleId":"1100","severity":1,"message":"1101","line":1427,"column":13,"nodeType":"1102","messageId":"1103","endLine":1434,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1105","line":1498,"column":15,"nodeType":"1092","messageId":"1093","endLine":1498,"endColumn":26},{"ruleId":"1100","severity":1,"message":"1101","line":2017,"column":9,"nodeType":"1102","messageId":"1103","endLine":2030,"endColumn":10},{"ruleId":"1106","severity":1,"message":"1107","line":2423,"column":36,"nodeType":"1108","messageId":"1109","endLine":2423,"endColumn":37,"suggestions":"1110"},{"ruleId":"1111","severity":1,"message":"1112","line":2424,"column":47,"nodeType":"1113","messageId":"1114","endLine":2424,"endColumn":49},{"ruleId":"1090","severity":1,"message":"1115","line":2625,"column":107,"nodeType":"1092","messageId":"1093","endLine":2625,"endColumn":112},{"ruleId":"1090","severity":1,"message":"1116","line":3042,"column":11,"nodeType":"1092","messageId":"1093","endLine":3042,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1117","line":3679,"column":17,"nodeType":"1092","messageId":"1093","endLine":3679,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1118","line":4307,"column":13,"nodeType":"1092","messageId":"1093","endLine":4307,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1119","line":4307,"column":25,"nodeType":"1092","messageId":"1093","endLine":4307,"endColumn":33},{"ruleId":"1090","severity":1,"message":"1120","line":4307,"column":35,"nodeType":"1092","messageId":"1093","endLine":4307,"endColumn":41},{"ruleId":"1100","severity":1,"message":"1101","line":4340,"column":17,"nodeType":"1102","messageId":"1103","endLine":4353,"endColumn":18},{"ruleId":"1121","replacedBy":"1122"},{"ruleId":"1123","replacedBy":"1124"},{"ruleId":"1090","severity":1,"message":"1125","line":16,"column":8,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1126","line":17,"column":10,"nodeType":"1092","messageId":"1093","endLine":17,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1127","line":22,"column":8,"nodeType":"1092","messageId":"1093","endLine":22,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1128","line":23,"column":9,"nodeType":"1092","messageId":"1093","endLine":23,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1129","line":69,"column":9,"nodeType":"1092","messageId":"1093","endLine":69,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1130","line":341,"column":9,"nodeType":"1092","messageId":"1093","endLine":341,"endColumn":25},{"ruleId":"1090","severity":1,"message":"1131","line":358,"column":11,"nodeType":"1092","messageId":"1093","endLine":358,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1132","line":358,"column":142,"nodeType":"1092","messageId":"1093","endLine":358,"endColumn":148},{"ruleId":"1090","severity":1,"message":"1133","line":358,"column":150,"nodeType":"1092","messageId":"1093","endLine":358,"endColumn":160},{"ruleId":"1090","severity":1,"message":"1134","line":362,"column":7,"nodeType":"1092","messageId":"1093","endLine":362,"endColumn":17},{"ruleId":"1121","replacedBy":"1135"},{"ruleId":"1123","replacedBy":"1136"},{"ruleId":"1090","severity":1,"message":"1137","line":2,"column":27,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1138","line":3,"column":10,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1126","line":8,"column":14,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1139","line":4,"column":10,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1140","line":4,"column":17,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1141","line":4,"column":34,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":38},{"ruleId":"1090","severity":1,"message":"1142","line":4,"column":40,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1143","line":5,"column":10,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1144","line":5,"column":32,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1145","line":7,"column":10,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1146","line":9,"column":8,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1147","line":18,"column":8,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1148","line":19,"column":8,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1149","line":20,"column":8,"nodeType":"1092","messageId":"1093","endLine":20,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1150","line":21,"column":8,"nodeType":"1092","messageId":"1093","endLine":21,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1151","line":23,"column":8,"nodeType":"1092","messageId":"1093","endLine":23,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1095","line":24,"column":26,"nodeType":"1092","messageId":"1093","endLine":24,"endColumn":28},{"ruleId":"1152","severity":1,"message":"1153","line":60,"column":8,"nodeType":"1154","endLine":60,"endColumn":10,"suggestions":"1155"},{"ruleId":"1152","severity":1,"message":"1156","line":102,"column":8,"nodeType":"1154","endLine":102,"endColumn":38,"suggestions":"1157"},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1158","line":1,"column":28,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":36},{"ruleId":"1121","replacedBy":"1159"},{"ruleId":"1123","replacedBy":"1160"},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1158","line":1,"column":28,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1161","line":3,"column":18,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1162","line":3,"column":24,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":34},{"ruleId":"1090","severity":1,"message":"1163","line":2,"column":8,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1139","line":4,"column":10,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1140","line":4,"column":17,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1164","line":4,"column":25,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":32},{"ruleId":"1090","severity":1,"message":"1141","line":4,"column":34,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":38},{"ruleId":"1090","severity":1,"message":"1142","line":4,"column":40,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1143","line":5,"column":10,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1165","line":5,"column":46,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":61},{"ruleId":"1090","severity":1,"message":"1145","line":7,"column":10,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1126","line":9,"column":10,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1166","line":9,"column":20,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1095","line":9,"column":26,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1167","line":19,"column":18,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1158","line":2,"column":17,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":25},{"ruleId":"1152","severity":1,"message":"1168","line":231,"column":6,"nodeType":"1154","endLine":231,"endColumn":26,"suggestions":"1169"},{"ruleId":"1090","severity":1,"message":"1140","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1170","line":2,"column":36,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1171","line":3,"column":10,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1167","line":24,"column":18,"nodeType":"1092","messageId":"1093","endLine":24,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1172","line":28,"column":10,"nodeType":"1092","messageId":"1093","endLine":28,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1173","line":28,"column":19,"nodeType":"1092","messageId":"1093","endLine":28,"endColumn":29},{"ruleId":"1174","severity":1,"message":"1175","line":63,"column":16,"nodeType":"1176","endLine":63,"endColumn":41},{"ruleId":"1174","severity":1,"message":"1175","line":65,"column":16,"nodeType":"1176","endLine":65,"endColumn":41},{"ruleId":"1174","severity":1,"message":"1175","line":67,"column":16,"nodeType":"1176","endLine":67,"endColumn":41},{"ruleId":"1174","severity":1,"message":"1175","line":69,"column":16,"nodeType":"1176","endLine":69,"endColumn":41},{"ruleId":"1152","severity":1,"message":"1177","line":75,"column":3,"nodeType":"1092","endLine":75,"endColumn":12,"suggestions":"1178"},{"ruleId":"1090","severity":1,"message":"1179","line":4,"column":3,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1180","line":10,"column":3,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1181","line":11,"column":3,"nodeType":"1092","messageId":"1093","endLine":11,"endColumn":7},{"ruleId":"1090","severity":1,"message":"1182","line":16,"column":8,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1145","line":27,"column":10,"nodeType":"1092","messageId":"1093","endLine":27,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1183","line":42,"column":10,"nodeType":"1092","messageId":"1093","endLine":42,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1184","line":70,"column":5,"nodeType":"1092","messageId":"1093","endLine":70,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1185","line":74,"column":5,"nodeType":"1092","messageId":"1093","endLine":74,"endColumn":23},{"ruleId":"1186","severity":1,"message":"1187","line":132,"column":61,"nodeType":"1113","messageId":"1188","endLine":132,"endColumn":62},{"ruleId":"1186","severity":1,"message":"1187","line":140,"column":45,"nodeType":"1113","messageId":"1188","endLine":140,"endColumn":46},{"ruleId":"1152","severity":1,"message":"1189","line":284,"column":6,"nodeType":"1154","endLine":284,"endColumn":13,"suggestions":"1190"},{"ruleId":"1152","severity":1,"message":"1191","line":306,"column":6,"nodeType":"1154","endLine":306,"endColumn":26,"suggestions":"1192"},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1179","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1193","line":4,"column":8,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1194","line":15,"column":8,"nodeType":"1092","messageId":"1093","endLine":15,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1195","line":19,"column":9,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1167","line":19,"column":18,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1196","line":22,"column":9,"nodeType":"1092","messageId":"1093","endLine":22,"endColumn":27},{"ruleId":"1090","severity":1,"message":"1197","line":23,"column":19,"nodeType":"1092","messageId":"1093","endLine":23,"endColumn":29},{"ruleId":"1174","severity":1,"message":"1175","line":28,"column":11,"nodeType":"1176","endLine":28,"endColumn":36},{"ruleId":"1121","replacedBy":"1198"},{"ruleId":"1123","replacedBy":"1199"},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1200","line":1,"column":38,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1201","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1139","line":2,"column":26,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":31},{"ruleId":"1090","severity":1,"message":"1202","line":17,"column":8,"nodeType":"1092","messageId":"1093","endLine":17,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1200","line":1,"column":38,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1201","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1139","line":2,"column":26,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":31},{"ruleId":"1090","severity":1,"message":"1203","line":2,"column":33,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":38},{"ruleId":"1090","severity":1,"message":"1202","line":17,"column":8,"nodeType":"1092","messageId":"1093","endLine":17,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1194","line":18,"column":8,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1145","line":5,"column":10,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1204","line":9,"column":8,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1205","line":14,"column":5,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":12},{"ruleId":"1152","severity":1,"message":"1206","line":53,"column":6,"nodeType":"1154","endLine":53,"endColumn":41,"suggestions":"1207"},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":27,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1163","line":2,"column":8,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1139","line":4,"column":10,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1140","line":4,"column":17,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1141","line":4,"column":34,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":38},{"ruleId":"1090","severity":1,"message":"1142","line":4,"column":40,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1144","line":5,"column":32,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1165","line":5,"column":46,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":61},{"ruleId":"1090","severity":1,"message":"1145","line":7,"column":10,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1204","line":8,"column":8,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1126","line":18,"column":10,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1166","line":18,"column":20,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1095","line":18,"column":26,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1179","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1183","line":15,"column":10,"nodeType":"1092","messageId":"1093","endLine":15,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1202","line":28,"column":8,"nodeType":"1092","messageId":"1093","endLine":28,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1167","line":31,"column":18,"nodeType":"1092","messageId":"1093","endLine":31,"endColumn":24},{"ruleId":"1152","severity":1,"message":"1208","line":76,"column":6,"nodeType":"1154","endLine":76,"endColumn":21,"suggestions":"1209"},{"ruleId":"1174","severity":1,"message":"1175","line":120,"column":17,"nodeType":"1176","endLine":120,"endColumn":74},{"ruleId":"1174","severity":1,"message":"1175","line":138,"column":21,"nodeType":"1176","endLine":138,"endColumn":69},{"ruleId":"1174","severity":1,"message":"1175","line":158,"column":25,"nodeType":"1176","endLine":165,"endColumn":27},{"ruleId":"1090","severity":1,"message":"1204","line":12,"column":8,"nodeType":"1092","messageId":"1093","endLine":12,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1145","line":18,"column":10,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":28},{"ruleId":"1152","severity":1,"message":"1210","line":45,"column":6,"nodeType":"1154","endLine":45,"endColumn":8,"suggestions":"1211"},{"ruleId":"1100","severity":1,"message":"1101","line":81,"column":5,"nodeType":"1102","messageId":"1103","endLine":100,"endColumn":6},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1158","line":1,"column":28,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1200","line":1,"column":38,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1202","line":11,"column":8,"nodeType":"1092","messageId":"1093","endLine":11,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1194","line":12,"column":8,"nodeType":"1092","messageId":"1093","endLine":12,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1200","line":1,"column":38,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1201","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1202","line":13,"column":8,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1194","line":14,"column":8,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1137","line":2,"column":5,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1158","line":3,"column":5,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1179","line":5,"column":10,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1194","line":16,"column":8,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1167","line":19,"column":18,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1196","line":22,"column":11,"nodeType":"1092","messageId":"1093","endLine":22,"endColumn":29},{"ruleId":"1090","severity":1,"message":"1140","line":3,"column":3,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1212","line":4,"column":3,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":11},{"ruleId":"1090","severity":1,"message":"1180","line":5,"column":3,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1213","line":7,"column":3,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":6},{"ruleId":"1090","severity":1,"message":"1183","line":31,"column":10,"nodeType":"1092","messageId":"1093","endLine":31,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1184","line":43,"column":9,"nodeType":"1092","messageId":"1093","endLine":43,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1196","line":43,"column":28,"nodeType":"1092","messageId":"1093","endLine":43,"endColumn":46},{"ruleId":"1090","severity":1,"message":"1214","line":43,"column":48,"nodeType":"1092","messageId":"1093","endLine":43,"endColumn":64},{"ruleId":"1090","severity":1,"message":"1215","line":45,"column":16,"nodeType":"1092","messageId":"1093","endLine":45,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1216","line":51,"column":5,"nodeType":"1092","messageId":"1093","endLine":51,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1217","line":58,"column":10,"nodeType":"1092","messageId":"1093","endLine":58,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1218","line":58,"column":20,"nodeType":"1092","messageId":"1093","endLine":58,"endColumn":31},{"ruleId":"1174","severity":1,"message":"1175","line":136,"column":11,"nodeType":"1176","endLine":143,"endColumn":13},{"ruleId":"1174","severity":1,"message":"1175","line":148,"column":13,"nodeType":"1176","endLine":148,"endColumn":33},{"ruleId":"1174","severity":1,"message":"1175","line":196,"column":18,"nodeType":"1176","endLine":196,"endColumn":47},{"ruleId":"1174","severity":1,"message":"1175","line":198,"column":18,"nodeType":"1176","endLine":198,"endColumn":47},{"ruleId":"1174","severity":1,"message":"1175","line":200,"column":18,"nodeType":"1176","endLine":200,"endColumn":47},{"ruleId":"1174","severity":1,"message":"1175","line":202,"column":18,"nodeType":"1176","endLine":202,"endColumn":47},{"ruleId":"1174","severity":1,"message":"1175","line":226,"column":11,"nodeType":"1176","endLine":233,"endColumn":13},{"ruleId":"1174","severity":1,"message":"1175","line":238,"column":13,"nodeType":"1176","endLine":238,"endColumn":63},{"ruleId":"1152","severity":1,"message":"1219","line":345,"column":6,"nodeType":"1154","endLine":345,"endColumn":18,"suggestions":"1220"},{"ruleId":"1152","severity":1,"message":"1221","line":353,"column":6,"nodeType":"1154","endLine":353,"endColumn":15,"suggestions":"1222"},{"ruleId":"1152","severity":1,"message":"1223","line":361,"column":6,"nodeType":"1154","endLine":361,"endColumn":8,"suggestions":"1224"},{"ruleId":"1090","severity":1,"message":"1164","line":4,"column":3,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1204","line":13,"column":8,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1127","line":14,"column":8,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1225","line":15,"column":10,"nodeType":"1092","messageId":"1093","endLine":15,"endColumn":19},{"ruleId":"1090","severity":1,"message":"1226","line":16,"column":10,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1227","line":3,"column":16,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1140","line":3,"column":25,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":31},{"ruleId":"1090","severity":1,"message":"1228","line":3,"column":33,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":38},{"ruleId":"1090","severity":1,"message":"1144","line":5,"column":10,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1229","line":6,"column":10,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1230","line":16,"column":8,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1231","line":23,"column":8,"nodeType":"1092","messageId":"1093","endLine":23,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1232","line":24,"column":8,"nodeType":"1092","messageId":"1093","endLine":24,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1147","line":26,"column":8,"nodeType":"1092","messageId":"1093","endLine":26,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1233","line":38,"column":8,"nodeType":"1092","messageId":"1093","endLine":38,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1096","line":40,"column":9,"nodeType":"1092","messageId":"1093","endLine":40,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1097","line":41,"column":7,"nodeType":"1092","messageId":"1093","endLine":41,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1234","line":45,"column":7,"nodeType":"1092","messageId":"1093","endLine":45,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1235","line":106,"column":10,"nodeType":"1092","messageId":"1093","endLine":106,"endColumn":19},{"ruleId":"1090","severity":1,"message":"1236","line":106,"column":21,"nodeType":"1092","messageId":"1093","endLine":106,"endColumn":33},{"ruleId":"1090","severity":1,"message":"1237","line":138,"column":10,"nodeType":"1092","messageId":"1093","endLine":138,"endColumn":19},{"ruleId":"1090","severity":1,"message":"1238","line":221,"column":13,"nodeType":"1092","messageId":"1093","endLine":221,"endColumn":20},{"ruleId":"1174","severity":1,"message":"1175","line":825,"column":17,"nodeType":"1176","endLine":825,"endColumn":62},{"ruleId":"1174","severity":1,"message":"1175","line":830,"column":17,"nodeType":"1176","endLine":830,"endColumn":65},{"ruleId":"1239","severity":1,"message":"1240","line":885,"column":15,"nodeType":"1176","endLine":891,"endColumn":16},{"ruleId":"1239","severity":1,"message":"1240","line":894,"column":15,"nodeType":"1176","endLine":900,"endColumn":16},{"ruleId":"1174","severity":1,"message":"1175","line":994,"column":17,"nodeType":"1176","endLine":994,"endColumn":62},{"ruleId":"1174","severity":1,"message":"1175","line":998,"column":15,"nodeType":"1176","endLine":998,"endColumn":64},{"ruleId":"1239","severity":1,"message":"1240","line":1116,"column":13,"nodeType":"1176","endLine":1120,"endColumn":14},{"ruleId":"1239","severity":1,"message":"1240","line":1197,"column":15,"nodeType":"1176","endLine":1205,"endColumn":16},{"ruleId":"1239","severity":1,"message":"1240","line":1220,"column":13,"nodeType":"1176","endLine":1220,"endColumn":76},{"ruleId":"1239","severity":1,"message":"1240","line":1291,"column":15,"nodeType":"1176","endLine":1299,"endColumn":16},{"ruleId":"1239","severity":1,"message":"1240","line":1323,"column":15,"nodeType":"1176","endLine":1327,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1241","line":1353,"column":9,"nodeType":"1092","messageId":"1093","endLine":1353,"endColumn":15},{"ruleId":"1152","severity":1,"message":"1242","line":1389,"column":6,"nodeType":"1154","endLine":1389,"endColumn":8,"suggestions":"1243"},{"ruleId":"1152","severity":1,"message":"1244","line":1398,"column":6,"nodeType":"1154","endLine":1398,"endColumn":32,"suggestions":"1245"},{"ruleId":"1174","severity":1,"message":"1175","line":1420,"column":15,"nodeType":"1176","endLine":1420,"endColumn":59},{"ruleId":"1174","severity":1,"message":"1175","line":1595,"column":19,"nodeType":"1176","endLine":1595,"endColumn":54},{"ruleId":"1174","severity":1,"message":"1175","line":1597,"column":19,"nodeType":"1176","endLine":1597,"endColumn":53},{"ruleId":"1090","severity":1,"message":"1246","line":63,"column":17,"nodeType":"1092","messageId":"1093","endLine":63,"endColumn":25},{"ruleId":"1090","severity":1,"message":"1247","line":74,"column":10,"nodeType":"1092","messageId":"1093","endLine":74,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1248","line":78,"column":10,"nodeType":"1092","messageId":"1093","endLine":78,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1249","line":81,"column":18,"nodeType":"1092","messageId":"1093","endLine":81,"endColumn":27},{"ruleId":"1152","severity":1,"message":"1250","line":100,"column":6,"nodeType":"1154","endLine":100,"endColumn":32,"suggestions":"1251"},{"ruleId":"1090","severity":1,"message":"1252","line":110,"column":11,"nodeType":"1092","messageId":"1093","endLine":110,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1253","line":445,"column":24,"nodeType":"1092","messageId":"1093","endLine":445,"endColumn":28},{"ruleId":"1111","severity":1,"message":"1254","line":460,"column":49,"nodeType":"1113","messageId":"1114","endLine":460,"endColumn":51},{"ruleId":"1106","severity":1,"message":"1255","line":724,"column":34,"nodeType":"1108","messageId":"1109","endLine":724,"endColumn":35,"suggestions":"1256"},{"ruleId":"1106","severity":1,"message":"1107","line":729,"column":31,"nodeType":"1108","messageId":"1109","endLine":729,"endColumn":32,"suggestions":"1257"},{"ruleId":"1106","severity":1,"message":"1255","line":753,"column":34,"nodeType":"1108","messageId":"1109","endLine":753,"endColumn":35,"suggestions":"1258"},{"ruleId":"1106","severity":1,"message":"1107","line":758,"column":31,"nodeType":"1108","messageId":"1109","endLine":758,"endColumn":32,"suggestions":"1259"},{"ruleId":"1106","severity":1,"message":"1255","line":782,"column":34,"nodeType":"1108","messageId":"1109","endLine":782,"endColumn":35,"suggestions":"1260"},{"ruleId":"1106","severity":1,"message":"1107","line":787,"column":31,"nodeType":"1108","messageId":"1109","endLine":787,"endColumn":32,"suggestions":"1261"},{"ruleId":"1106","severity":1,"message":"1255","line":832,"column":34,"nodeType":"1108","messageId":"1109","endLine":832,"endColumn":35,"suggestions":"1262"},{"ruleId":"1106","severity":1,"message":"1107","line":837,"column":31,"nodeType":"1108","messageId":"1109","endLine":837,"endColumn":32,"suggestions":"1263"},{"ruleId":"1106","severity":1,"message":"1255","line":860,"column":34,"nodeType":"1108","messageId":"1109","endLine":860,"endColumn":35,"suggestions":"1264"},{"ruleId":"1106","severity":1,"message":"1107","line":865,"column":31,"nodeType":"1108","messageId":"1109","endLine":865,"endColumn":32,"suggestions":"1265"},{"ruleId":"1106","severity":1,"message":"1255","line":890,"column":34,"nodeType":"1108","messageId":"1109","endLine":890,"endColumn":35,"suggestions":"1266"},{"ruleId":"1106","severity":1,"message":"1107","line":895,"column":31,"nodeType":"1108","messageId":"1109","endLine":895,"endColumn":32,"suggestions":"1267"},{"ruleId":"1106","severity":1,"message":"1255","line":909,"column":59,"nodeType":"1108","messageId":"1109","endLine":909,"endColumn":60,"suggestions":"1268"},{"ruleId":"1106","severity":1,"message":"1107","line":909,"column":165,"nodeType":"1108","messageId":"1109","endLine":909,"endColumn":166,"suggestions":"1269"},{"ruleId":"1270","severity":1,"message":"1271","line":1250,"column":9,"nodeType":"1272","messageId":"1114","endLine":1250,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1216","line":1304,"column":7,"nodeType":"1092","messageId":"1093","endLine":1304,"endColumn":12},{"ruleId":"1106","severity":1,"message":"1255","line":1445,"column":34,"nodeType":"1108","messageId":"1109","endLine":1445,"endColumn":35,"suggestions":"1273"},{"ruleId":"1106","severity":1,"message":"1107","line":1450,"column":31,"nodeType":"1108","messageId":"1109","endLine":1450,"endColumn":32,"suggestions":"1274"},{"ruleId":"1106","severity":1,"message":"1255","line":1466,"column":34,"nodeType":"1108","messageId":"1109","endLine":1466,"endColumn":35,"suggestions":"1275"},{"ruleId":"1106","severity":1,"message":"1107","line":1471,"column":31,"nodeType":"1108","messageId":"1109","endLine":1471,"endColumn":32,"suggestions":"1276"},{"ruleId":"1152","severity":1,"message":"1277","line":1669,"column":6,"nodeType":"1154","endLine":1669,"endColumn":8,"suggestions":"1278"},{"ruleId":"1152","severity":1,"message":"1279","line":1716,"column":6,"nodeType":"1154","endLine":1716,"endColumn":23,"suggestions":"1280"},{"ruleId":"1152","severity":1,"message":"1281","line":1745,"column":6,"nodeType":"1154","endLine":1745,"endColumn":26,"suggestions":"1282"},{"ruleId":"1090","severity":1,"message":"1143","line":4,"column":10,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1165","line":4,"column":32,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":47},{"ruleId":"1100","severity":1,"message":"1101","line":105,"column":5,"nodeType":"1102","messageId":"1103","endLine":111,"endColumn":6},{"ruleId":"1283","severity":1,"message":"1284","line":118,"column":41,"nodeType":"1285","messageId":"1286","endLine":118,"endColumn":43},{"ruleId":"1283","severity":1,"message":"1284","line":156,"column":41,"nodeType":"1285","messageId":"1286","endLine":156,"endColumn":43},{"ruleId":"1090","severity":1,"message":"1287","line":263,"column":11,"nodeType":"1092","messageId":"1093","endLine":263,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1288","line":263,"column":49,"nodeType":"1092","messageId":"1093","endLine":263,"endColumn":55},{"ruleId":"1090","severity":1,"message":"1289","line":336,"column":11,"nodeType":"1092","messageId":"1093","endLine":336,"endColumn":24},{"ruleId":"1174","severity":1,"message":"1175","line":540,"column":15,"nodeType":"1176","endLine":540,"endColumn":63},{"ruleId":"1090","severity":1,"message":"1290","line":556,"column":5,"nodeType":"1092","messageId":"1093","endLine":556,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1291","line":557,"column":11,"nodeType":"1092","messageId":"1093","endLine":557,"endColumn":20},{"ruleId":"1174","severity":1,"message":"1175","line":572,"column":15,"nodeType":"1176","endLine":572,"endColumn":63},{"ruleId":"1100","severity":1,"message":"1101","line":596,"column":5,"nodeType":"1102","messageId":"1103","endLine":599,"endColumn":6},{"ruleId":"1100","severity":1,"message":"1101","line":600,"column":5,"nodeType":"1102","messageId":"1103","endLine":603,"endColumn":6},{"ruleId":"1090","severity":1,"message":"1292","line":716,"column":34,"nodeType":"1092","messageId":"1093","endLine":716,"endColumn":43},{"ruleId":"1090","severity":1,"message":"1293","line":719,"column":28,"nodeType":"1092","messageId":"1093","endLine":719,"endColumn":31},{"ruleId":"1090","severity":1,"message":"1118","line":787,"column":13,"nodeType":"1092","messageId":"1093","endLine":787,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1119","line":787,"column":25,"nodeType":"1092","messageId":"1093","endLine":787,"endColumn":33},{"ruleId":"1090","severity":1,"message":"1120","line":787,"column":35,"nodeType":"1092","messageId":"1093","endLine":787,"endColumn":41},{"ruleId":"1090","severity":1,"message":"1294","line":787,"column":43,"nodeType":"1092","messageId":"1093","endLine":787,"endColumn":51},{"ruleId":"1090","severity":1,"message":"1295","line":840,"column":79,"nodeType":"1092","messageId":"1093","endLine":840,"endColumn":84},{"ruleId":"1090","severity":1,"message":"1296","line":840,"column":117,"nodeType":"1092","messageId":"1093","endLine":840,"endColumn":139},{"ruleId":"1090","severity":1,"message":"1163","line":2,"column":8,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1139","line":4,"column":10,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1140","line":4,"column":17,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1164","line":4,"column":25,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":32},{"ruleId":"1090","severity":1,"message":"1141","line":4,"column":34,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":38},{"ruleId":"1090","severity":1,"message":"1142","line":4,"column":40,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1143","line":5,"column":10,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1165","line":5,"column":46,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":61},{"ruleId":"1090","severity":1,"message":"1145","line":7,"column":10,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1126","line":9,"column":10,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1166","line":9,"column":20,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1095","line":9,"column":26,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":28},{"ruleId":"1152","severity":1,"message":"1210","line":142,"column":6,"nodeType":"1154","endLine":142,"endColumn":8,"suggestions":"1297"},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":27,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1126","line":8,"column":10,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1166","line":8,"column":20,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1298","line":18,"column":7,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1299","line":63,"column":13,"nodeType":"1092","messageId":"1093","endLine":63,"endColumn":19},{"ruleId":"1090","severity":1,"message":"1300","line":67,"column":13,"nodeType":"1092","messageId":"1093","endLine":67,"endColumn":20},{"ruleId":"1239","severity":1,"message":"1240","line":155,"column":9,"nodeType":"1176","endLine":171,"endColumn":10},{"ruleId":"1100","severity":1,"message":"1101","line":219,"column":15,"nodeType":"1102","messageId":"1103","endLine":238,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1141","line":2,"column":60,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":64},{"ruleId":"1090","severity":1,"message":"1301","line":3,"column":8,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1144","line":6,"column":32,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1165","line":6,"column":46,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":61},{"ruleId":"1090","severity":1,"message":"1096","line":31,"column":9,"nodeType":"1092","messageId":"1093","endLine":31,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1302","line":38,"column":5,"nodeType":"1092","messageId":"1093","endLine":38,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1303","line":114,"column":29,"nodeType":"1092","messageId":"1093","endLine":114,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1304","line":114,"column":38,"nodeType":"1092","messageId":"1093","endLine":114,"endColumn":46},{"ruleId":"1090","severity":1,"message":"1305","line":114,"column":48,"nodeType":"1092","messageId":"1093","endLine":114,"endColumn":57},{"ruleId":"1100","severity":1,"message":"1101","line":158,"column":5,"nodeType":"1102","messageId":"1103","endLine":164,"endColumn":6},{"ruleId":"1283","severity":1,"message":"1284","line":171,"column":41,"nodeType":"1285","messageId":"1286","endLine":171,"endColumn":43},{"ruleId":"1090","severity":1,"message":"1287","line":447,"column":11,"nodeType":"1092","messageId":"1093","endLine":447,"endColumn":21},{"ruleId":"1174","severity":1,"message":"1175","line":707,"column":15,"nodeType":"1176","endLine":707,"endColumn":63},{"ruleId":"1090","severity":1,"message":"1290","line":723,"column":5,"nodeType":"1092","messageId":"1093","endLine":723,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1291","line":724,"column":11,"nodeType":"1092","messageId":"1093","endLine":724,"endColumn":20},{"ruleId":"1174","severity":1,"message":"1175","line":742,"column":15,"nodeType":"1176","endLine":742,"endColumn":63},{"ruleId":"1100","severity":1,"message":"1101","line":764,"column":5,"nodeType":"1102","messageId":"1103","endLine":767,"endColumn":6},{"ruleId":"1100","severity":1,"message":"1101","line":768,"column":5,"nodeType":"1102","messageId":"1103","endLine":771,"endColumn":6},{"ruleId":"1090","severity":1,"message":"1306","line":894,"column":61,"nodeType":"1092","messageId":"1093","endLine":894,"endColumn":78},{"ruleId":"1090","severity":1,"message":"1295","line":894,"column":80,"nodeType":"1092","messageId":"1093","endLine":894,"endColumn":85},{"ruleId":"1090","severity":1,"message":"1291","line":894,"column":118,"nodeType":"1092","messageId":"1093","endLine":894,"endColumn":127},{"ruleId":"1090","severity":1,"message":"1307","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1158","line":1,"column":39,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":47},{"ruleId":"1152","severity":1,"message":"1308","line":161,"column":6,"nodeType":"1154","endLine":161,"endColumn":23,"suggestions":"1309"},{"ruleId":"1090","severity":1,"message":"1126","line":4,"column":10,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1095","line":4,"column":20,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":22},{"ruleId":"1100","severity":1,"message":"1101","line":417,"column":9,"nodeType":"1102","messageId":"1103","endLine":424,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1310","line":624,"column":15,"nodeType":"1092","messageId":"1093","endLine":624,"endColumn":25},{"ruleId":"1090","severity":1,"message":"1311","line":668,"column":17,"nodeType":"1092","messageId":"1093","endLine":668,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1312","line":805,"column":13,"nodeType":"1092","messageId":"1093","endLine":805,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1313","line":808,"column":15,"nodeType":"1092","messageId":"1093","endLine":808,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1314","line":810,"column":15,"nodeType":"1092","messageId":"1093","endLine":810,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1311","line":878,"column":17,"nodeType":"1092","messageId":"1093","endLine":878,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1315","line":987,"column":11,"nodeType":"1092","messageId":"1093","endLine":987,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1167","line":18,"column":9,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1316","line":18,"column":26,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":32},{"ruleId":"1090","severity":1,"message":"1317","line":18,"column":34,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":39},{"ruleId":"1152","severity":1,"message":"1318","line":221,"column":6,"nodeType":"1154","endLine":221,"endColumn":22,"suggestions":"1319"},{"ruleId":"1152","severity":1,"message":"1320","line":230,"column":6,"nodeType":"1154","endLine":230,"endColumn":21,"suggestions":"1321"},{"ruleId":"1090","severity":1,"message":"1322","line":11,"column":3,"nodeType":"1092","messageId":"1093","endLine":11,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1323","line":21,"column":8,"nodeType":"1092","messageId":"1093","endLine":21,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1094","line":26,"column":10,"nodeType":"1092","messageId":"1093","endLine":26,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1324","line":28,"column":8,"nodeType":"1092","messageId":"1093","endLine":28,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1166","line":30,"column":10,"nodeType":"1092","messageId":"1093","endLine":30,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1126","line":30,"column":16,"nodeType":"1092","messageId":"1093","endLine":30,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1325","line":31,"column":10,"nodeType":"1092","messageId":"1093","endLine":31,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1326","line":36,"column":8,"nodeType":"1092","messageId":"1093","endLine":36,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1327","line":37,"column":8,"nodeType":"1092","messageId":"1093","endLine":37,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1096","line":42,"column":9,"nodeType":"1092","messageId":"1093","endLine":42,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1097","line":43,"column":7,"nodeType":"1092","messageId":"1093","endLine":43,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1328","line":166,"column":9,"nodeType":"1092","messageId":"1093","endLine":166,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1329","line":176,"column":15,"nodeType":"1092","messageId":"1093","endLine":176,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1330","line":597,"column":15,"nodeType":"1092","messageId":"1093","endLine":597,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1299","line":872,"column":15,"nodeType":"1092","messageId":"1093","endLine":872,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1300","line":876,"column":15,"nodeType":"1092","messageId":"1093","endLine":876,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1331","line":960,"column":28,"nodeType":"1092","messageId":"1093","endLine":960,"endColumn":31},{"ruleId":"1090","severity":1,"message":"1332","line":960,"column":33,"nodeType":"1092","messageId":"1093","endLine":960,"endColumn":35},{"ruleId":"1090","severity":1,"message":"1333","line":960,"column":37,"nodeType":"1092","messageId":"1093","endLine":960,"endColumn":45},{"ruleId":"1090","severity":1,"message":"1118","line":960,"column":53,"nodeType":"1092","messageId":"1093","endLine":960,"endColumn":63},{"ruleId":"1090","severity":1,"message":"1119","line":960,"column":65,"nodeType":"1092","messageId":"1093","endLine":960,"endColumn":73},{"ruleId":"1090","severity":1,"message":"1120","line":960,"column":75,"nodeType":"1092","messageId":"1093","endLine":960,"endColumn":81},{"ruleId":"1090","severity":1,"message":"1132","line":960,"column":111,"nodeType":"1092","messageId":"1093","endLine":960,"endColumn":117},{"ruleId":"1090","severity":1,"message":"1133","line":960,"column":119,"nodeType":"1092","messageId":"1093","endLine":960,"endColumn":129},{"ruleId":"1239","severity":1,"message":"1240","line":972,"column":11,"nodeType":"1176","endLine":988,"endColumn":12},{"ruleId":"1100","severity":1,"message":"1101","line":1070,"column":19,"nodeType":"1102","messageId":"1103","endLine":1089,"endColumn":20},{"ruleId":"1174","severity":1,"message":"1175","line":1183,"column":17,"nodeType":"1176","endLine":1183,"endColumn":52},{"ruleId":"1174","severity":1,"message":"1175","line":1184,"column":17,"nodeType":"1176","endLine":1184,"endColumn":51},{"ruleId":"1090","severity":1,"message":"1180","line":5,"column":3,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1213","line":7,"column":3,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":6},{"ruleId":"1090","severity":1,"message":"1215","line":47,"column":16,"nodeType":"1092","messageId":"1093","endLine":47,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1216","line":52,"column":5,"nodeType":"1092","messageId":"1093","endLine":52,"endColumn":10},{"ruleId":"1174","severity":1,"message":"1175","line":106,"column":18,"nodeType":"1176","endLine":106,"endColumn":47},{"ruleId":"1174","severity":1,"message":"1175","line":108,"column":18,"nodeType":"1176","endLine":108,"endColumn":47},{"ruleId":"1174","severity":1,"message":"1175","line":110,"column":18,"nodeType":"1176","endLine":110,"endColumn":47},{"ruleId":"1174","severity":1,"message":"1175","line":112,"column":18,"nodeType":"1176","endLine":112,"endColumn":47},{"ruleId":"1174","severity":1,"message":"1175","line":135,"column":11,"nodeType":"1176","endLine":143,"endColumn":13},{"ruleId":"1174","severity":1,"message":"1175","line":148,"column":13,"nodeType":"1176","endLine":148,"endColumn":63},{"ruleId":"1111","severity":1,"message":"1112","line":211,"column":28,"nodeType":"1113","messageId":"1114","endLine":211,"endColumn":30},{"ruleId":"1152","severity":1,"message":"1219","line":444,"column":6,"nodeType":"1154","endLine":444,"endColumn":18,"suggestions":"1334"},{"ruleId":"1152","severity":1,"message":"1223","line":452,"column":6,"nodeType":"1154","endLine":452,"endColumn":8,"suggestions":"1335"},{"ruleId":"1090","severity":1,"message":"1200","line":1,"column":38,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1161","line":5,"column":3,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":7},{"ruleId":"1090","severity":1,"message":"1162","line":6,"column":3,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1170","line":13,"column":3,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":11},{"ruleId":"1090","severity":1,"message":"1336","line":40,"column":8,"nodeType":"1092","messageId":"1093","endLine":40,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1151","line":43,"column":8,"nodeType":"1092","messageId":"1093","endLine":43,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1167","line":45,"column":18,"nodeType":"1092","messageId":"1093","endLine":45,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1292","line":55,"column":28,"nodeType":"1092","messageId":"1093","endLine":55,"endColumn":37},{"ruleId":"1090","severity":1,"message":"1337","line":56,"column":58,"nodeType":"1092","messageId":"1093","endLine":56,"endColumn":76},{"ruleId":"1090","severity":1,"message":"1338","line":60,"column":10,"nodeType":"1092","messageId":"1093","endLine":60,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1339","line":60,"column":19,"nodeType":"1092","messageId":"1093","endLine":60,"endColumn":29},{"ruleId":"1090","severity":1,"message":"1340","line":68,"column":10,"nodeType":"1092","messageId":"1093","endLine":68,"endColumn":19},{"ruleId":"1090","severity":1,"message":"1341","line":69,"column":10,"nodeType":"1092","messageId":"1093","endLine":69,"endColumn":25},{"ruleId":"1090","severity":1,"message":"1342","line":69,"column":27,"nodeType":"1092","messageId":"1093","endLine":69,"endColumn":45},{"ruleId":"1174","severity":1,"message":"1175","line":159,"column":11,"nodeType":"1176","endLine":159,"endColumn":29},{"ruleId":"1174","severity":1,"message":"1175","line":161,"column":11,"nodeType":"1176","endLine":161,"endColumn":32},{"ruleId":"1174","severity":1,"message":"1175","line":165,"column":11,"nodeType":"1176","endLine":165,"endColumn":29},{"ruleId":"1174","severity":1,"message":"1175","line":167,"column":11,"nodeType":"1176","endLine":167,"endColumn":32},{"ruleId":"1174","severity":1,"message":"1175","line":171,"column":11,"nodeType":"1176","endLine":171,"endColumn":30},{"ruleId":"1174","severity":1,"message":"1175","line":173,"column":11,"nodeType":"1176","endLine":173,"endColumn":33},{"ruleId":"1174","severity":1,"message":"1175","line":177,"column":11,"nodeType":"1176","endLine":177,"endColumn":30},{"ruleId":"1174","severity":1,"message":"1175","line":179,"column":11,"nodeType":"1176","endLine":179,"endColumn":33},{"ruleId":"1174","severity":1,"message":"1175","line":183,"column":11,"nodeType":"1176","endLine":183,"endColumn":29},{"ruleId":"1174","severity":1,"message":"1175","line":185,"column":11,"nodeType":"1176","endLine":185,"endColumn":32},{"ruleId":"1174","severity":1,"message":"1175","line":189,"column":11,"nodeType":"1176","endLine":189,"endColumn":29},{"ruleId":"1174","severity":1,"message":"1175","line":191,"column":11,"nodeType":"1176","endLine":191,"endColumn":32},{"ruleId":"1174","severity":1,"message":"1175","line":195,"column":11,"nodeType":"1176","endLine":195,"endColumn":29},{"ruleId":"1174","severity":1,"message":"1175","line":197,"column":11,"nodeType":"1176","endLine":197,"endColumn":32},{"ruleId":"1090","severity":1,"message":"1343","line":244,"column":9,"nodeType":"1092","messageId":"1093","endLine":244,"endColumn":21},{"ruleId":"1152","severity":1,"message":"1344","line":278,"column":6,"nodeType":"1154","endLine":278,"endColumn":18,"suggestions":"1345"},{"ruleId":"1152","severity":1,"message":"1346","line":300,"column":6,"nodeType":"1154","endLine":300,"endColumn":25,"suggestions":"1347"},{"ruleId":"1152","severity":1,"message":"1348","line":331,"column":6,"nodeType":"1154","endLine":331,"endColumn":13,"suggestions":"1349"},{"ruleId":"1152","severity":1,"message":"1350","line":358,"column":6,"nodeType":"1154","endLine":358,"endColumn":44,"suggestions":"1351"},{"ruleId":"1152","severity":1,"message":"1352","line":369,"column":6,"nodeType":"1154","endLine":369,"endColumn":17,"suggestions":"1353"},{"ruleId":"1090","severity":1,"message":"1145","line":23,"column":10,"nodeType":"1092","messageId":"1093","endLine":23,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1316","line":29,"column":26,"nodeType":"1092","messageId":"1093","endLine":29,"endColumn":32},{"ruleId":"1090","severity":1,"message":"1317","line":29,"column":34,"nodeType":"1092","messageId":"1093","endLine":29,"endColumn":39},{"ruleId":"1152","severity":1,"message":"1354","line":116,"column":6,"nodeType":"1154","endLine":116,"endColumn":8,"suggestions":"1355"},{"ruleId":"1174","severity":1,"message":"1175","line":168,"column":19,"nodeType":"1176","endLine":168,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1158","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":25},{"ruleId":"1090","severity":1,"message":"1137","line":1,"column":27,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1144","line":3,"column":10,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1143","line":3,"column":24,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1229","line":4,"column":10,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":24},{"ruleId":"1174","severity":1,"message":"1175","line":44,"column":11,"nodeType":"1176","endLine":47,"endColumn":13},{"ruleId":"1174","severity":1,"message":"1175","line":53,"column":13,"nodeType":"1176","endLine":56,"endColumn":15},{"ruleId":"1174","severity":1,"message":"1175","line":61,"column":11,"nodeType":"1176","endLine":64,"endColumn":13},{"ruleId":"1174","severity":1,"message":"1175","line":74,"column":11,"nodeType":"1176","endLine":77,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1203","line":9,"column":3,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1356","line":13,"column":3,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1357","line":17,"column":10,"nodeType":"1092","messageId":"1093","endLine":17,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1358","line":33,"column":10,"nodeType":"1092","messageId":"1093","endLine":33,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1359","line":35,"column":10,"nodeType":"1092","messageId":"1093","endLine":35,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1360","line":37,"column":10,"nodeType":"1092","messageId":"1093","endLine":37,"endColumn":18},{"ruleId":"1152","severity":1,"message":"1361","line":91,"column":6,"nodeType":"1154","endLine":91,"endColumn":8,"suggestions":"1362"},{"ruleId":"1090","severity":1,"message":"1363","line":58,"column":9,"nodeType":"1092","messageId":"1093","endLine":58,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1140","line":2,"column":17,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1142","line":2,"column":40,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1144","line":5,"column":3,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1364","line":14,"column":10,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1365","line":17,"column":10,"nodeType":"1092","messageId":"1093","endLine":17,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1126","line":18,"column":10,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1166","line":18,"column":20,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1095","line":18,"column":26,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1225","line":21,"column":20,"nodeType":"1092","messageId":"1093","endLine":21,"endColumn":29},{"ruleId":"1090","severity":1,"message":"1097","line":23,"column":7,"nodeType":"1092","messageId":"1093","endLine":23,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1366","line":346,"column":11,"nodeType":"1092","messageId":"1093","endLine":346,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1367","line":414,"column":19,"nodeType":"1092","messageId":"1093","endLine":414,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1368","line":415,"column":9,"nodeType":"1092","messageId":"1093","endLine":415,"endColumn":13},{"ruleId":"1239","severity":1,"message":"1240","line":580,"column":15,"nodeType":"1176","endLine":580,"endColumn":50},{"ruleId":"1090","severity":1,"message":"1369","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1370","line":5,"column":8,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1140","line":6,"column":8,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1204","line":7,"column":8,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1125","line":8,"column":8,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1126","line":9,"column":10,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1151","line":10,"column":8,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1371","line":11,"column":8,"nodeType":"1092","messageId":"1093","endLine":11,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1372","line":12,"column":8,"nodeType":"1092","messageId":"1093","endLine":12,"endColumn":11},{"ruleId":"1090","severity":1,"message":"1373","line":13,"column":8,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":11},{"ruleId":"1090","severity":1,"message":"1374","line":14,"column":8,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1364","line":15,"column":10,"nodeType":"1092","messageId":"1093","endLine":15,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1202","line":16,"column":8,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1128","line":19,"column":9,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1375","line":32,"column":11,"nodeType":"1092","messageId":"1093","endLine":32,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1376","line":32,"column":19,"nodeType":"1092","messageId":"1093","endLine":32,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1129","line":134,"column":9,"nodeType":"1092","messageId":"1093","endLine":134,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1377","line":3,"column":10,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1378","line":16,"column":8,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1379","line":60,"column":13,"nodeType":"1092","messageId":"1093","endLine":60,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1322","line":4,"column":3,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1143","line":10,"column":10,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1380","line":15,"column":8,"nodeType":"1092","messageId":"1093","endLine":15,"endColumn":11},{"ruleId":"1090","severity":1,"message":"1094","line":17,"column":10,"nodeType":"1092","messageId":"1093","endLine":17,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1322","line":11,"column":3,"nodeType":"1092","messageId":"1093","endLine":11,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1323","line":21,"column":8,"nodeType":"1092","messageId":"1093","endLine":21,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1094","line":26,"column":10,"nodeType":"1092","messageId":"1093","endLine":26,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1324","line":28,"column":8,"nodeType":"1092","messageId":"1093","endLine":28,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1166","line":30,"column":10,"nodeType":"1092","messageId":"1093","endLine":30,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1126","line":30,"column":16,"nodeType":"1092","messageId":"1093","endLine":30,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1325","line":31,"column":10,"nodeType":"1092","messageId":"1093","endLine":31,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1326","line":36,"column":8,"nodeType":"1092","messageId":"1093","endLine":36,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1327","line":37,"column":8,"nodeType":"1092","messageId":"1093","endLine":37,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1096","line":42,"column":9,"nodeType":"1092","messageId":"1093","endLine":42,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1097","line":43,"column":7,"nodeType":"1092","messageId":"1093","endLine":43,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1328","line":166,"column":9,"nodeType":"1092","messageId":"1093","endLine":166,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1329","line":176,"column":15,"nodeType":"1092","messageId":"1093","endLine":176,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1330","line":630,"column":15,"nodeType":"1092","messageId":"1093","endLine":630,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1299","line":905,"column":15,"nodeType":"1092","messageId":"1093","endLine":905,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1300","line":909,"column":15,"nodeType":"1092","messageId":"1093","endLine":909,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1331","line":993,"column":28,"nodeType":"1092","messageId":"1093","endLine":993,"endColumn":31},{"ruleId":"1090","severity":1,"message":"1332","line":993,"column":33,"nodeType":"1092","messageId":"1093","endLine":993,"endColumn":35},{"ruleId":"1090","severity":1,"message":"1333","line":993,"column":37,"nodeType":"1092","messageId":"1093","endLine":993,"endColumn":45},{"ruleId":"1090","severity":1,"message":"1118","line":993,"column":53,"nodeType":"1092","messageId":"1093","endLine":993,"endColumn":63},{"ruleId":"1090","severity":1,"message":"1119","line":993,"column":65,"nodeType":"1092","messageId":"1093","endLine":993,"endColumn":73},{"ruleId":"1090","severity":1,"message":"1120","line":993,"column":75,"nodeType":"1092","messageId":"1093","endLine":993,"endColumn":81},{"ruleId":"1090","severity":1,"message":"1132","line":993,"column":111,"nodeType":"1092","messageId":"1093","endLine":993,"endColumn":117},{"ruleId":"1090","severity":1,"message":"1133","line":993,"column":119,"nodeType":"1092","messageId":"1093","endLine":993,"endColumn":129},{"ruleId":"1239","severity":1,"message":"1240","line":1005,"column":11,"nodeType":"1176","endLine":1021,"endColumn":12},{"ruleId":"1100","severity":1,"message":"1101","line":1104,"column":19,"nodeType":"1102","messageId":"1103","endLine":1123,"endColumn":20},{"ruleId":"1174","severity":1,"message":"1175","line":1233,"column":17,"nodeType":"1176","endLine":1233,"endColumn":52},{"ruleId":"1174","severity":1,"message":"1175","line":1234,"column":17,"nodeType":"1176","endLine":1234,"endColumn":51},{"ruleId":"1090","severity":1,"message":"1301","line":8,"column":8,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1143","line":9,"column":10,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1126","line":20,"column":10,"nodeType":"1092","messageId":"1093","endLine":20,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1095","line":20,"column":16,"nodeType":"1092","messageId":"1093","endLine":20,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1290","line":24,"column":7,"nodeType":"1092","messageId":"1093","endLine":24,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1294","line":321,"column":21,"nodeType":"1092","messageId":"1093","endLine":321,"endColumn":29},{"ruleId":"1090","severity":1,"message":"1381","line":321,"column":31,"nodeType":"1092","messageId":"1093","endLine":321,"endColumn":37},{"ruleId":"1239","severity":1,"message":"1240","line":481,"column":36,"nodeType":"1176","endLine":481,"endColumn":71},{"ruleId":"1090","severity":1,"message":"1228","line":5,"column":3,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1301","line":8,"column":8,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1144","line":11,"column":32,"nodeType":"1092","messageId":"1093","endLine":11,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1382","line":129,"column":32,"nodeType":"1092","messageId":"1093","endLine":129,"endColumn":48},{"ruleId":"1090","severity":1,"message":"1383","line":151,"column":15,"nodeType":"1092","messageId":"1093","endLine":151,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1381","line":350,"column":21,"nodeType":"1092","messageId":"1093","endLine":350,"endColumn":27},{"ruleId":"1239","severity":1,"message":"1240","line":516,"column":17,"nodeType":"1176","endLine":516,"endColumn":54},{"ruleId":"1239","severity":1,"message":"1240","line":574,"column":17,"nodeType":"1176","endLine":574,"endColumn":60},{"ruleId":"1090","severity":1,"message":"1139","line":4,"column":3,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1384","line":5,"column":3,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":7},{"ruleId":"1090","severity":1,"message":"1180","line":7,"column":3,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1143","line":13,"column":10,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1226","line":19,"column":10,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1301","line":9,"column":8,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1143","line":10,"column":10,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1385","line":10,"column":32,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1386","line":14,"column":8,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1126","line":19,"column":10,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":14},{"ruleId":"1100","severity":1,"message":"1101","line":85,"column":25,"nodeType":"1102","messageId":"1103","endLine":114,"endColumn":26},{"ruleId":"1090","severity":1,"message":"1382","line":214,"column":42,"nodeType":"1092","messageId":"1093","endLine":214,"endColumn":58},{"ruleId":"1090","severity":1,"message":"1383","line":235,"column":29,"nodeType":"1092","messageId":"1093","endLine":235,"endColumn":42},{"ruleId":"1090","severity":1,"message":"1387","line":270,"column":49,"nodeType":"1092","messageId":"1093","endLine":270,"endColumn":63},{"ruleId":"1090","severity":1,"message":"1388","line":270,"column":65,"nodeType":"1092","messageId":"1093","endLine":270,"endColumn":79},{"ruleId":"1090","severity":1,"message":"1126","line":10,"column":10,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1389","line":30,"column":9,"nodeType":"1092","messageId":"1093","endLine":30,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1141","line":2,"column":60,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":64},{"ruleId":"1090","severity":1,"message":"1126","line":14,"column":10,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1140","line":17,"column":8,"nodeType":"1092","messageId":"1093","endLine":17,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1129","line":56,"column":9,"nodeType":"1092","messageId":"1093","endLine":56,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1129","line":86,"column":9,"nodeType":"1092","messageId":"1093","endLine":86,"endColumn":22},{"ruleId":"1283","severity":1,"message":"1284","line":198,"column":41,"nodeType":"1285","messageId":"1286","endLine":198,"endColumn":43},{"ruleId":"1283","severity":1,"message":"1284","line":211,"column":47,"nodeType":"1285","messageId":"1286","endLine":211,"endColumn":49},{"ruleId":"1090","severity":1,"message":"1115","line":400,"column":23,"nodeType":"1092","messageId":"1093","endLine":400,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1390","line":453,"column":21,"nodeType":"1092","messageId":"1093","endLine":453,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1391","line":4,"column":5,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1392","line":10,"column":9,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":15},{"ruleId":"1111","severity":1,"message":"1254","line":13,"column":16,"nodeType":"1113","messageId":"1114","endLine":13,"endColumn":18},{"ruleId":"1111","severity":1,"message":"1254","line":58,"column":16,"nodeType":"1113","messageId":"1114","endLine":58,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1137","line":2,"column":27,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":36},{"ruleId":"1090","severity":1,"message":"1126","line":7,"column":14,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1194","line":4,"column":8,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1137","line":6,"column":10,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":19},{"ruleId":"1090","severity":1,"message":"1138","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":20},{"ruleId":"1090","severity":1,"message":"1161","line":4,"column":5,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1227","line":5,"column":5,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1140","line":6,"column":5,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":11},{"ruleId":"1090","severity":1,"message":"1228","line":7,"column":5,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1126","line":15,"column":10,"nodeType":"1092","messageId":"1093","endLine":15,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1166","line":15,"column":20,"nodeType":"1092","messageId":"1093","endLine":15,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1204","line":16,"column":8,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":21},{"ruleId":"1111","severity":1,"message":"1254","line":86,"column":32,"nodeType":"1113","messageId":"1114","endLine":86,"endColumn":34},{"ruleId":"1152","severity":1,"message":"1393","line":104,"column":8,"nodeType":"1154","endLine":104,"endColumn":10,"suggestions":"1394"},{"ruleId":"1283","severity":1,"message":"1284","line":114,"column":39,"nodeType":"1285","messageId":"1286","endLine":114,"endColumn":41},{"ruleId":"1111","severity":1,"message":"1112","line":124,"column":39,"nodeType":"1113","messageId":"1114","endLine":124,"endColumn":41},{"ruleId":"1152","severity":1,"message":"1395","line":152,"column":8,"nodeType":"1154","endLine":152,"endColumn":20,"suggestions":"1396"},{"ruleId":"1239","severity":1,"message":"1397","line":202,"column":21,"nodeType":"1176","endLine":207,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1391","line":6,"column":5,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":10},{"ruleId":"1111","severity":1,"message":"1254","line":18,"column":16,"nodeType":"1113","messageId":"1114","endLine":18,"endColumn":18},{"ruleId":"1111","severity":1,"message":"1254","line":61,"column":16,"nodeType":"1113","messageId":"1114","endLine":61,"endColumn":18},{"ruleId":"1111","severity":1,"message":"1254","line":95,"column":16,"nodeType":"1113","messageId":"1114","endLine":95,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1398","line":102,"column":9,"nodeType":"1092","messageId":"1093","endLine":102,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1399","line":191,"column":25,"nodeType":"1092","messageId":"1093","endLine":191,"endColumn":32},{"ruleId":"1090","severity":1,"message":"1400","line":191,"column":34,"nodeType":"1092","messageId":"1093","endLine":191,"endColumn":49},{"ruleId":"1090","severity":1,"message":"1401","line":191,"column":51,"nodeType":"1092","messageId":"1093","endLine":191,"endColumn":55},{"ruleId":"1090","severity":1,"message":"1402","line":192,"column":25,"nodeType":"1092","messageId":"1093","endLine":192,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1403","line":192,"column":46,"nodeType":"1092","messageId":"1093","endLine":192,"endColumn":62},{"ruleId":"1090","severity":1,"message":"1404","line":192,"column":64,"nodeType":"1092","messageId":"1093","endLine":192,"endColumn":84},{"ruleId":"1090","severity":1,"message":"1405","line":192,"column":86,"nodeType":"1092","messageId":"1093","endLine":192,"endColumn":96},{"ruleId":"1106","severity":1,"message":"1406","line":350,"column":55,"nodeType":"1407","messageId":"1109","endLine":350,"endColumn":56,"suggestions":"1408"},{"ruleId":"1106","severity":1,"message":"1406","line":350,"column":69,"nodeType":"1407","messageId":"1109","endLine":350,"endColumn":70,"suggestions":"1409"},{"ruleId":"1090","severity":1,"message":"1299","line":548,"column":15,"nodeType":"1092","messageId":"1093","endLine":548,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1331","line":560,"column":28,"nodeType":"1092","messageId":"1093","endLine":560,"endColumn":31},{"ruleId":"1090","severity":1,"message":"1332","line":560,"column":33,"nodeType":"1092","messageId":"1093","endLine":560,"endColumn":35},{"ruleId":"1090","severity":1,"message":"1333","line":560,"column":37,"nodeType":"1092","messageId":"1093","endLine":560,"endColumn":45},{"ruleId":"1090","severity":1,"message":"1143","line":8,"column":10,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1128","line":18,"column":9,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1365","line":18,"column":10,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1331","line":358,"column":28,"nodeType":"1092","messageId":"1093","endLine":358,"endColumn":31},{"ruleId":"1090","severity":1,"message":"1332","line":358,"column":33,"nodeType":"1092","messageId":"1093","endLine":358,"endColumn":35},{"ruleId":"1090","severity":1,"message":"1333","line":358,"column":37,"nodeType":"1092","messageId":"1093","endLine":358,"endColumn":45},{"ruleId":"1090","severity":1,"message":"1139","line":3,"column":3,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":8},{"ruleId":"1090","severity":1,"message":"1164","line":5,"column":3,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1410","line":10,"column":8,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1364","line":12,"column":10,"nodeType":"1092","messageId":"1093","endLine":12,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1143","line":8,"column":10,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1144","line":8,"column":32,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1095","line":14,"column":20,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1158","line":1,"column":17,"nodeType":"1092","messageId":"1093","endLine":1,"endColumn":25},{"ruleId":"1090","severity":1,"message":"1163","line":8,"column":8,"nodeType":"1092","messageId":"1093","endLine":8,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1301","line":9,"column":8,"nodeType":"1092","messageId":"1093","endLine":9,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1143","line":10,"column":10,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1385","line":10,"column":32,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1386","line":14,"column":8,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1125","line":17,"column":8,"nodeType":"1092","messageId":"1093","endLine":17,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1126","line":19,"column":10,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1388","line":159,"column":61,"nodeType":"1092","messageId":"1093","endLine":159,"endColumn":75},{"ruleId":"1090","severity":1,"message":"1139","line":2,"column":10,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1140","line":2,"column":17,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":23},{"ruleId":"1090","severity":1,"message":"1141","line":2,"column":34,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":38},{"ruleId":"1090","severity":1,"message":"1142","line":2,"column":40,"nodeType":"1092","messageId":"1093","endLine":2,"endColumn":47},{"ruleId":"1090","severity":1,"message":"1143","line":3,"column":10,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1144","line":3,"column":32,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":44},{"ruleId":"1090","severity":1,"message":"1151","line":11,"column":8,"nodeType":"1092","messageId":"1093","endLine":11,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1095","line":12,"column":26,"nodeType":"1092","messageId":"1093","endLine":12,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1411","line":18,"column":5,"nodeType":"1092","messageId":"1093","endLine":18,"endColumn":10},{"ruleId":"1100","severity":1,"message":"1101","line":164,"column":9,"nodeType":"1102","messageId":"1103","endLine":182,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1391","line":3,"column":5,"nodeType":"1092","messageId":"1093","endLine":3,"endColumn":10},{"ruleId":"1111","severity":1,"message":"1254","line":94,"column":16,"nodeType":"1113","messageId":"1114","endLine":94,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1183","line":13,"column":10,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1095","line":13,"column":14,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":16},{"ruleId":"1090","severity":1,"message":"1391","line":5,"column":5,"nodeType":"1092","messageId":"1093","endLine":5,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1392","line":11,"column":9,"nodeType":"1092","messageId":"1093","endLine":11,"endColumn":15},{"ruleId":"1111","severity":1,"message":"1254","line":14,"column":16,"nodeType":"1113","messageId":"1114","endLine":14,"endColumn":18},{"ruleId":"1111","severity":1,"message":"1254","line":58,"column":16,"nodeType":"1113","messageId":"1114","endLine":58,"endColumn":18},{"ruleId":"1090","severity":1,"message":"1412","line":6,"column":5,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1413","line":10,"column":10,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1357","line":10,"column":30,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":42},{"ruleId":"1090","severity":1,"message":"1097","line":19,"column":7,"nodeType":"1092","messageId":"1093","endLine":19,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1141","line":6,"column":3,"nodeType":"1092","messageId":"1093","endLine":6,"endColumn":7},{"ruleId":"1090","severity":1,"message":"1143","line":10,"column":10,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":30},{"ruleId":"1090","severity":1,"message":"1144","line":10,"column":32,"nodeType":"1092","messageId":"1093","endLine":10,"endColumn":44},{"ruleId":"1100","severity":1,"message":"1101","line":78,"column":11,"nodeType":"1102","messageId":"1103","endLine":99,"endColumn":12},{"ruleId":"1090","severity":1,"message":"1382","line":133,"column":32,"nodeType":"1092","messageId":"1093","endLine":133,"endColumn":48},{"ruleId":"1090","severity":1,"message":"1383","line":150,"column":15,"nodeType":"1092","messageId":"1093","endLine":150,"endColumn":28},{"ruleId":"1090","severity":1,"message":"1369","line":4,"column":3,"nodeType":"1092","messageId":"1093","endLine":4,"endColumn":9},{"ruleId":"1090","severity":1,"message":"1370","line":13,"column":8,"nodeType":"1092","messageId":"1093","endLine":13,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1140","line":14,"column":8,"nodeType":"1092","messageId":"1093","endLine":14,"endColumn":14},{"ruleId":"1090","severity":1,"message":"1204","line":15,"column":8,"nodeType":"1092","messageId":"1093","endLine":15,"endColumn":21},{"ruleId":"1090","severity":1,"message":"1125","line":16,"column":8,"nodeType":"1092","messageId":"1093","endLine":16,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1372","line":20,"column":8,"nodeType":"1092","messageId":"1093","endLine":20,"endColumn":11},{"ruleId":"1090","severity":1,"message":"1373","line":21,"column":8,"nodeType":"1092","messageId":"1093","endLine":21,"endColumn":11},{"ruleId":"1090","severity":1,"message":"1374","line":22,"column":8,"nodeType":"1092","messageId":"1093","endLine":22,"endColumn":13},{"ruleId":"1090","severity":1,"message":"1128","line":32,"column":9,"nodeType":"1092","messageId":"1093","endLine":32,"endColumn":15},{"ruleId":"1090","severity":1,"message":"1375","line":55,"column":11,"nodeType":"1092","messageId":"1093","endLine":55,"endColumn":17},{"ruleId":"1090","severity":1,"message":"1376","line":55,"column":19,"nodeType":"1092","messageId":"1093","endLine":55,"endColumn":24},{"ruleId":"1090","severity":1,"message":"1129","line":71,"column":9,"nodeType":"1092","messageId":"1093","endLine":71,"endColumn":22},{"ruleId":"1090","severity":1,"message":"1305","line":154,"column":18,"nodeType":"1092","messageId":"1093","endLine":154,"endColumn":27},{"ruleId":"1090","severity":1,"message":"1304","line":154,"column":29,"nodeType":"1092","messageId":"1093","endLine":154,"endColumn":37},{"ruleId":"1174","severity":1,"message":"1175","line":558,"column":19,"nodeType":"1176","endLine":565,"endColumn":61},{"ruleId":"1239","severity":1,"message":"1240","line":573,"column":19,"nodeType":"1176","endLine":581,"endColumn":30},{"ruleId":"1152","severity":1,"message":"1414","line":27,"column":8,"nodeType":"1154","endLine":27,"endColumn":10,"suggestions":"1415"},{"ruleId":"1090","severity":1,"message":"1391","line":7,"column":5,"nodeType":"1092","messageId":"1093","endLine":7,"endColumn":10},{"ruleId":"1090","severity":1,"message":"1392","line":20,"column":9,"nodeType":"1092","messageId":"1093","endLine":20,"endColumn":15},{"ruleId":"1111","severity":1,"message":"1254","line":23,"column":16,"nodeType":"1113","messageId":"1114","endLine":23,"endColumn":18},{"ruleId":"1111","severity":1,"message":"1254","line":74,"column":16,"nodeType":"1113","messageId":"1114","endLine":74,"endColumn":18},"no-unused-vars","'Tooltip' is defined but never used.","Identifier","unusedVar","'FetchEszVet' is defined but never used.","'pX' is defined but never used.","'SubMenu' is assigned a value but never used.","'MyIcon' is assigned a value but never used.","'biggieSave' is assigned a value but never used.","'gender' is assigned a value but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","'lastConnectionTime' is assigned a value but never used.","'weightUnits' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["1416","1417"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'petId' is assigned a value but never used.","'pas' is assigned a value but never used.","'temp15' is assigned a value but never used.","'closeColor' is assigned a value but never used.","'closebgc' is assigned a value but never used.","'minbgc' is assigned a value but never used.","no-native-reassign",["1418"],"no-negated-in-lhs",["1419"],"'temporaryStorage' is defined but never used.","'mTop' is defined but never used.","'SelectionBox' is defined but never used.","'Option' is assigned a value but never used.","'windowsHeight' is assigned a value but never used.","'selectDeviceName' is assigned a value but never used.","'isClicleStudy' is assigned a value but never used.","'sortBy' is assigned a value but never used.","'showsortBy' is assigned a value but never used.","'bodyHeight' is assigned a value but never used.",["1418"],["1419"],"'useEffect' is defined but never used.","'useHistory' is defined but never used.","'Input' is defined but never used.","'Button' is defined but never used.","'Spin' is defined but never used.","'BackTop' is defined but never used.","'createFromIconfontCN' is defined but never used.","'SyncOutlined' is defined but never used.","'devicesTitleHeight' is defined but never used.","'blueSearch' is defined but never used.","'MinClose' is defined but never used.","'MouseDiv' is defined but never used.","'back_white' is defined but never used.","'back_hui' is defined but never used.","'MyModal' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setReceiveBroadcastHardwareInfoFun'. Either include it or remove the dependency array. If 'setReceiveBroadcastHardwareInfoFun' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["1420"],"React Hook useEffect has a missing dependency: 'devicesList'. Either include it or remove the dependency array.",["1421"],"'useState' is defined but never used.",["1418"],["1419"],"'Menu' is defined but never used.","'PageHeader' is defined but never used.","'PropTypes' is defined but never used.","'message' is defined but never used.","'LoadingOutlined' is defined but never used.","'MTop' is defined but never used.","'Header' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'hardwareList' and 'selectHardwareInfo'. Either include them or remove the dependency array.",["1422"],"'Carousel' is defined but never used.","'PlusOutlined' is defined but never used.","'percent' is assigned a value but never used.","'setPercent' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect contains a call to 'setTimers'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [callBack, timers] as a second argument to the useEffect Hook.",["1423"],"'Image' is defined but never used.","'Space' is defined but never used.","'Card' is defined but never used.","'Charlie' is defined but never used.","'px' is defined but never used.","'mellaMeasureValue' is assigned a value but never used.","'selectHardwareInfo' is assigned a value but never used.","no-useless-concat","Unexpected string concatenation of literals.","unexpectedConcat","React Hook useEffect has missing dependencies: 'callBack', 'prediction', and 'timeNum'. Either include them or remove the dependency array.",["1424"],"React Hook useEffect has a missing dependency: 'value'. Either include it or remove the dependency array.",["1425"],"'PressButton_Pro' is defined but never used.","'_' is defined but never used.","'Content' is assigned a value but never used.","'mellaConnectStatus' is assigned a value but never used.","'setSaveNum' is assigned a value but never used.",["1418"],["1419"],"'useRef' is defined but never used.","'Layout' is defined but never used.","'moment' is defined but never used.","'Radio' is defined but never used.","'electronStore' is defined but never used.","'storage' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'hardwareInfo'. Either include it or remove the dependency array.",["1426"],"React Hook useEffect has a missing dependency: 'callBack'. Either include it or remove the dependency array.",["1427"],"React Hook useEffect has a missing dependency: '_getExam'. Either include it or remove the dependency array.",["1428"],"'Progress' is defined but never used.","'Tag' is defined but never used.","'mellaMeasurePart' is assigned a value but never used.","'memo' is assigned a value but never used.","'hisHe' is assigned a value but never used.","'saveType' is assigned a value but never used.","'setSaveType' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getPetTemperatureData'. Either include it or remove the dependency array.",["1429"],"React Hook useEffect has missing dependencies: 'getPetTemperatureData' and 'reRender'. Either include them or remove the dependency array.",["1430"],"React Hook useEffect has a missing dependency: 'storage.userId'. Either include it or remove the dependency array.",["1431"],"'addQRCode' is defined but never used.","'fetchRequest2' is defined but never used.","'Popover' is defined but never used.","'Modal' is defined but never used.","'SearchOutlined' is defined but never used.","'triangle' is defined but never used.","'heardLeft' is defined but never used.","'blueSearchPng' is defined but never used.","'Button1' is defined but never used.","'allPetList' is assigned a value but never used.","'clickType' is assigned a value but never used.","'setClickType' is assigned a value but never used.","'headerRef' is assigned a value but never used.","'bluData' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'resize' is assigned a value but never used.","React Hook useEffect has missing dependencies: '_noUSB', '_send', and 'blueSearch'. Either include them or remove the dependency array.",["1432"],"React Hook useEffect has an unnecessary dependency: 'window.screen.availWidth'. Either exclude it or remove the dependency array. Outer scope values like 'window.screen.availWidth' aren't valid dependencies because mutating them doesn't re-render the component.",["1433"],"'setNotes' is assigned a value but never used.","'editMemo' is assigned a value but never used.","'tip' is assigned a value but never used.","'setBounds' is assigned a value but never used.","React Hook useCallback has an unnecessary dependency: 'window.screen.availWidth'. Either exclude it or remove the dependency array. Outer scope values like 'window.screen.availWidth' aren't valid dependencies because mutating them doesn't re-render the component.",["1434"],"'Eci' is assigned a value but never used.","'wen1' is assigned a value but never used.","Expected '===' and instead saw '=='.","Unnecessary escape character: \\..",["1435","1436"],["1437","1438"],["1439","1440"],["1441","1442"],["1443","1444"],["1445","1446"],["1447","1448"],["1449","1450"],["1451","1452"],["1453","1454"],["1455","1456"],["1457","1458"],["1459","1460"],["1461","1462"],"no-dupe-keys","Duplicate key 'align'.","ObjectExpression",["1463","1464"],["1465","1466"],["1467","1468"],["1469","1470"],"React Hook useEffect has a missing dependency: 'mellaMeasureNum'. Either include it or remove the dependency array.",["1471"],"React Hook useEffect has missing dependencies: 'echarsData', 'echarsData1.Eci', 'echarsData1.wen0', 'echarsData1.wen1', 'mellaMeasureValue', and 'units'. Either include them or remove the dependency array. If 'setTemp' needs the current value of 'mellaMeasureValue', you can also switch to useReducer instead of useState and read 'mellaMeasureValue' in the reducer.",["1472"],"React Hook useEffect has missing dependencies: 'addClinical', 'echarsData.Eci.length', and 'mellaStatus'. Either include them or remove the dependency array.",["1473"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'petSpecies' is assigned a value but never used.","'imgurl' is assigned a value but never used.","'onPanelChange' is assigned a value but never used.","'options' is assigned a value but never used.","'breedName' is assigned a value but never used.","'patientId' is assigned a value but never used.","'age' is assigned a value but never used.","'disabled' is assigned a value but never used.","'isMix' is assigned a value but never used.","'confirmSelectBreedJson' is assigned a value but never used.",["1474"],"'history' is assigned a value but never used.","'chazhi' is assigned a value but never used.","'newTime' is assigned a value but never used.","'Draggable' is defined but never used.","'url' is assigned a value but never used.","'petName' is assigned a value but never used.","'lastName' is assigned a value but never used.","'firstName' is assigned a value but never used.","'petSpeciesBreedId' is assigned a value but never used.","'Component' is defined but never used.","React Hook useEffect has missing dependencies: 'selectHardwareInfoFun' and 'selectHardwareType'. Either include them or remove the dependency array. If 'selectHardwareInfoFun' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["1475"],"'sendWeight' is assigned a value but never used.","'ITEMINDEX' is assigned a value but never used.","'mac' is assigned a value but never used.","'hardwareVersion' is assigned a value but never used.","'softwareVersion' is assigned a value but never used.","'offsetWidth' is assigned a value but never used.","'Footer' is assigned a value but never used.","'Sider' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'weight'. Either include it or remove the dependency array.",["1476"],"React Hook useEffect has a missing dependency: 'setBiggieConnectStatusFun'. Either include it or remove the dependency array. If 'setBiggieConnectStatusFun' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["1477"],"'Select' is defined but never used.","'MaxMin' is defined but never used.","'gender' is defined but never used.","'stopBubble' is defined but never used.","'blackTriangle' is defined but never used.","'refresh' is defined but never used.","'dataArr' is assigned a value but never used.","'weight' is assigned a value but never used.","'selectNum' is assigned a value but never used.","'api' is assigned a value but never used.","'id' is assigned a value but never used.","'seleceID' is assigned a value but never used.",["1478"],["1479"],"'redjinggao' is defined but never used.","'rulerConnectStatus' is assigned a value but never used.","'visible' is assigned a value but never used.","'setVisible' is assigned a value but never used.","'showModal' is assigned a value but never used.","'selectPetDetail' is assigned a value but never used.","'setSelectPetDetail' is assigned a value but never used.","'onClickModal' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'finishScan' and 'newData'. Either include them or remove the dependency array.",["1480"],"React Hook useEffect has a missing dependency: 'inputIndex'. Either include it or remove the dependency array. You can also do a functional update 'setInputIndex(i => ...)' if you only need 'inputIndex' in the 'setInputIndex' call.",["1481"],"React Hook useEffect has missing dependencies: 'petLengthDataConvert' and 'petMessage'. Either include them or remove the dependency array.",["1482"],"React Hook useEffect has a missing dependency: 'inputIndex'. Either include it or remove the dependency array.",["1483"],"React Hook useEffect has missing dependencies: 'bodyValue', 'changeUnit', 'headValue', 'lowerValue', 'neckValue', 'torsoValue', and 'upperValue'. Either include them or remove the dependency array. You can also do a functional update 'setHeadValue(h => ...)' if you only need 'headValue' in the 'setHeadValue' call.",["1484"],"React Hook useEffect has a missing dependency: 'hardwareList'. Either include it or remove the dependency array.",["1485"],"'Upload' is defined but never used.","'UserOutlined' is defined but never used.","'petUrl' is assigned a value but never used.","'country' is assigned a value but never used.","'infoData' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'form' and 'storage.userId'. Either include them or remove the dependency array.",["1486"],"'mar' is assigned a value but never used.","'fetchRequest' is defined but never used.","'fetchRequest1' is defined but never used.","'isCode' is assigned a value but never used.","'baseUrl' is assigned a value but never used.","'code' is assigned a value but never used.","'Switch' is defined but never used.","'Slider' is defined but never used.","'parent' is defined but never used.","'dog' is defined but never used.","'cat' is defined but never used.","'other' is defined but never used.","'height' is assigned a value but never used.","'width' is assigned a value but never used.","'BrowserRouter' is defined but never used.","'Praviders' is defined but never used.","'chooseNum' is assigned a value but never used.","'dui' is defined but never used.","'bounds' is assigned a value but never used.","'lastOrganization' is assigned a value but never used.","'connectionKey' is assigned a value but never used.","'Form' is defined but never used.","'CaretDownFilled' is defined but never used.","'imgArray' is defined but never used.","'editInputIndex' is assigned a value but never used.","'editInputValue' is assigned a value but never used.","'_resend' is assigned a value but never used.","'assignOwnerName' is assigned a value but never used.","'token' is assigned a value but never used.","'header' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'listDate'. Either include it or remove the dependency array.",["1487"],"React Hook useEffect has missing dependencies: 'letterListCopy' and 'phoneListCopy'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setLetterList' needs the current value of 'letterListCopy'.",["1488"],"The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'params' is assigned a value but never used.","'bree_id' is assigned a value but never used.","'animalcolour_id' is assigned a value but never used.","'guid' is assigned a value but never used.","'referring_clinic_id' is assigned a value but never used.","'referring_vet_id' is assigned a value but never used.","'residence_contact_id' is assigned a value but never used.","'species_id' is assigned a value but never used.","Unnecessary escape character: \\\".","TemplateElement",["1489","1490"],["1491","1492"],"'mellaLogo' is defined but never used.","'num07' is assigned a value but never used.","'Alert' is defined but never used.","'InfoCircleOutlined' is defined but never used.","React Hook useEffect has missing dependencies: 'initSelectVale' and 'listArr'. Either include them or remove the dependency array. If 'setSelectValue' needs the current value of 'listArr', you can also switch to useReducer instead of useState and read 'listArr' in the reducer.",["1493"],{"messageId":"1494","fix":"1495","desc":"1496"},{"messageId":"1497","fix":"1498","desc":"1499"},"no-global-assign","no-unsafe-negation",{"desc":"1500","fix":"1501"},{"desc":"1502","fix":"1503"},{"desc":"1504","fix":"1505"},{"desc":"1506","fix":"1507"},{"desc":"1508","fix":"1509"},{"desc":"1510","fix":"1511"},{"desc":"1512","fix":"1513"},{"desc":"1514","fix":"1515"},{"desc":"1516","fix":"1517"},{"desc":"1518","fix":"1519"},{"desc":"1520","fix":"1521"},{"desc":"1522","fix":"1523"},{"desc":"1524","fix":"1525"},{"desc":"1526","fix":"1527"},{"desc":"1526","fix":"1528"},{"messageId":"1494","fix":"1529","desc":"1496"},{"messageId":"1497","fix":"1530","desc":"1499"},{"messageId":"1494","fix":"1531","desc":"1496"},{"messageId":"1497","fix":"1532","desc":"1499"},{"messageId":"1494","fix":"1533","desc":"1496"},{"messageId":"1497","fix":"1534","desc":"1499"},{"messageId":"1494","fix":"1535","desc":"1496"},{"messageId":"1497","fix":"1536","desc":"1499"},{"messageId":"1494","fix":"1537","desc":"1496"},{"messageId":"1497","fix":"1538","desc":"1499"},{"messageId":"1494","fix":"1539","desc":"1496"},{"messageId":"1497","fix":"1540","desc":"1499"},{"messageId":"1494","fix":"1541","desc":"1496"},{"messageId":"1497","fix":"1542","desc":"1499"},{"messageId":"1494","fix":"1543","desc":"1496"},{"messageId":"1497","fix":"1544","desc":"1499"},{"messageId":"1494","fix":"1545","desc":"1496"},{"messageId":"1497","fix":"1546","desc":"1499"},{"messageId":"1494","fix":"1547","desc":"1496"},{"messageId":"1497","fix":"1548","desc":"1499"},{"messageId":"1494","fix":"1549","desc":"1496"},{"messageId":"1497","fix":"1550","desc":"1499"},{"messageId":"1494","fix":"1551","desc":"1496"},{"messageId":"1497","fix":"1552","desc":"1499"},{"messageId":"1494","fix":"1553","desc":"1496"},{"messageId":"1497","fix":"1554","desc":"1499"},{"messageId":"1494","fix":"1555","desc":"1496"},{"messageId":"1497","fix":"1556","desc":"1499"},{"messageId":"1494","fix":"1557","desc":"1496"},{"messageId":"1497","fix":"1558","desc":"1499"},{"messageId":"1494","fix":"1559","desc":"1496"},{"messageId":"1497","fix":"1560","desc":"1499"},{"messageId":"1494","fix":"1561","desc":"1496"},{"messageId":"1497","fix":"1562","desc":"1499"},{"messageId":"1494","fix":"1563","desc":"1496"},{"messageId":"1497","fix":"1564","desc":"1499"},{"desc":"1565","fix":"1566"},{"desc":"1567","fix":"1568"},{"desc":"1569","fix":"1570"},{"desc":"1516","fix":"1571"},{"desc":"1572","fix":"1573"},{"desc":"1574","fix":"1575"},{"desc":"1576","fix":"1577"},{"desc":"1518","fix":"1578"},{"desc":"1522","fix":"1579"},{"desc":"1580","fix":"1581"},{"desc":"1582","fix":"1583"},{"desc":"1584","fix":"1585"},{"desc":"1586","fix":"1587"},{"desc":"1588","fix":"1589"},{"desc":"1590","fix":"1591"},{"desc":"1592","fix":"1593"},{"desc":"1594","fix":"1595"},{"desc":"1596","fix":"1597"},{"messageId":"1494","fix":"1598","desc":"1496"},{"messageId":"1497","fix":"1599","desc":"1499"},{"messageId":"1494","fix":"1600","desc":"1496"},{"messageId":"1497","fix":"1601","desc":"1499"},{"desc":"1602","fix":"1603"},"removeEscape",{"range":"1604","text":"1605"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"1606","text":"1607"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [setReceiveBroadcastHardwareInfoFun]",{"range":"1608","text":"1609"},"Update the dependencies array to be: [devicesList, receiveBroadcastHardwareInfo]",{"range":"1610","text":"1611"},"Update the dependencies array to be: [hardwareList, selectHardwareInfo, selectHardwareType]",{"range":"1612","text":"1613"},"Add dependencies array: [callBack, timers]",{"range":"1614","text":"1615"},"Update the dependencies array to be: [callBack, prediction, timeNum, value]",{"range":"1616","text":"1617"},"Update the dependencies array to be: [mellaConnectStatus, value]",{"range":"1618","text":"1619"},"Update the dependencies array to be: [selectHardwareType, hardwareList, hardwareInfo]",{"range":"1620","text":"1621"},"Update the dependencies array to be: [callBack, carouselIndex]",{"range":"1622","text":"1623"},"Update the dependencies array to be: [_getExam]",{"range":"1624","text":"1625"},"Update the dependencies array to be: [getPetTemperatureData, petMessage]",{"range":"1626","text":"1627"},"Update the dependencies array to be: [getPetTemperatureData, reRender, saveNum]",{"range":"1628","text":"1629"},"Update the dependencies array to be: [storage.userId]",{"range":"1630","text":"1631"},"Update the dependencies array to be: [_noUSB, _send, blueSearch]",{"range":"1632","text":"1633"},"Update the dependencies array to be: []",{"range":"1634","text":"1635"},{"range":"1636","text":"1635"},{"range":"1637","text":"1605"},{"range":"1638","text":"1607"},{"range":"1639","text":"1605"},{"range":"1640","text":"1607"},{"range":"1641","text":"1605"},{"range":"1642","text":"1607"},{"range":"1643","text":"1605"},{"range":"1644","text":"1607"},{"range":"1645","text":"1605"},{"range":"1646","text":"1607"},{"range":"1647","text":"1605"},{"range":"1648","text":"1607"},{"range":"1649","text":"1605"},{"range":"1650","text":"1607"},{"range":"1651","text":"1605"},{"range":"1652","text":"1607"},{"range":"1653","text":"1605"},{"range":"1654","text":"1607"},{"range":"1655","text":"1605"},{"range":"1656","text":"1607"},{"range":"1657","text":"1605"},{"range":"1658","text":"1607"},{"range":"1659","text":"1605"},{"range":"1660","text":"1607"},{"range":"1661","text":"1605"},{"range":"1662","text":"1607"},{"range":"1663","text":"1605"},{"range":"1664","text":"1607"},{"range":"1665","text":"1605"},{"range":"1666","text":"1607"},{"range":"1667","text":"1605"},{"range":"1668","text":"1607"},{"range":"1669","text":"1605"},{"range":"1670","text":"1607"},{"range":"1671","text":"1605"},{"range":"1672","text":"1607"},"Update the dependencies array to be: [mellaMeasureNum]",{"range":"1673","text":"1674"},"Update the dependencies array to be: [echarsData, echarsData1.Eci, echarsData1.wen0, echarsData1.wen1, mellaMeasureNum, mellaMeasureValue, units]",{"range":"1675","text":"1676"},"Update the dependencies array to be: [addClinical, echarsData.Eci.length, mellaConnectStatus, mellaStatus]",{"range":"1677","text":"1678"},{"range":"1679","text":"1625"},"Update the dependencies array to be: [devicesTypeList, selectHardwareInfoFun, selectHardwareType]",{"range":"1680","text":"1681"},"Update the dependencies array to be: [hardwareReduce, weight]",{"range":"1682","text":"1683"},"Update the dependencies array to be: [petDetailInfo, setBiggieConnectStatusFun]",{"range":"1684","text":"1685"},{"range":"1686","text":"1627"},{"range":"1687","text":"1631"},"Update the dependencies array to be: [finishScan, inputIndex, newData]",{"range":"1688","text":"1689"},"Update the dependencies array to be: [inputIndex, rulerConfirmCount]",{"range":"1690","text":"1691"},"Update the dependencies array to be: [petId, petLengthDataConvert, petMessage]",{"range":"1692","text":"1693"},"Update the dependencies array to be: [inputIndex, rulerConfirmCount, rulerMeasureValue]",{"range":"1694","text":"1695"},"Update the dependencies array to be: [bodyValue, changeUnit, headValue, lowerValue, neckValue, rulerUnit, torsoValue, upperValue]",{"range":"1696","text":"1697"},"Update the dependencies array to be: [hardwareList]",{"range":"1698","text":"1699"},"Update the dependencies array to be: [form, storage.userId]",{"range":"1700","text":"1701"},"Update the dependencies array to be: [listDate]",{"range":"1702","text":"1703"},"Update the dependencies array to be: [letterListCopy, phoneListCopy, searchText]",{"range":"1704","text":"1705"},{"range":"1706","text":"1605"},{"range":"1707","text":"1607"},{"range":"1708","text":"1605"},{"range":"1709","text":"1607"},"Update the dependencies array to be: [initSelectVale, listArr]",{"range":"1710","text":"1711"},[75098,75099],"",[75098,75098],"\\",[2680,2682],"[setReceiveBroadcastHardwareInfoFun]",[3991,4021],"[devicesList, receiveBroadcastHardwareInfo]",[7225,7245],"[hardwareList, selectHardwareInfo, selectHardwareType]",[2257,2257],", [callBack, timers]",[8222,8229],"[callBack, prediction, timeNum, value]",[8851,8871],"[mellaConnectStatus, value]",[1961,1996],"[selectHardwareType, hardwareList, hardwareInfo]",[2356,2371],"[callBack, carouselIndex]",[1368,1370],"[_getExam]",[9098,9110],"[getPetTemperatureData, petMessage]",[9258,9267],"[getPetTemperatureData, reRender, saveNum]",[9455,9457],"[storage.userId]",[42748,42750],"[_noUSB, _send, blueSearch]",[43084,43110],"[]",[4003,4029],[21714,21715],[21714,21714],[21915,21916],[21915,21915],[22689,22690],[22689,22689],[22890,22891],[22890,22890],[23661,23662],[23661,23661],[23862,23863],[23862,23862],[25326,25327],[25326,25326],[25527,25528],[25527,25527],[26261,26262],[26261,26261],[26462,26463],[26462,26462],[27255,27256],[27255,27255],[27456,27457],[27456,27456],[28062,28063],[28062,28062],[28168,28169],[28168,28168],[43311,43312],[43311,43311],[43512,43513],[43512,43512],[44042,44043],[44042,44042],[44243,44244],[44243,44243],[49770,49772],"[mellaMeasureNum]",[51013,51030],"[echarsData, echarsData1.Eci, echarsData1.wen0, echarsData1.wen1, mellaMeasureNum, mellaMeasureValue, units]",[51701,51721],"[addClinical, echarsData.Eci.length, mellaConnectStatus, mellaStatus]",[5413,5415],[4562,4579],"[devicesTypeList, selectHardwareInfoFun, selectHardwareType]",[7310,7326],"[hardwareReduce, weight]",[7514,7529],"[petDetailInfo, setBiggieConnectStatusFun]",[13097,13109],[13297,13299],[7329,7341],"[finishScan, inputIndex, newData]",[7792,7811],"[inputIndex, rulerConfirmCount]",[8670,8677],"[petId, petLengthDataConvert, petMessage]",[9292,9330],"[inputIndex, rulerConfirmCount, rulerMeasureValue]",[9754,9765],"[bodyValue, changeUnit, headValue, lowerValue, neckValue, rulerUnit, torsoValue, upperValue]",[3213,3215],"[hardwareList]",[2619,2621],"[form, storage.userId]",[3386,3388],"[listDate]",[5141,5153],"[letterListCopy, phoneListCopy, searchText]",[12787,12788],[12787,12787],[12801,12802],[12801,12801],[885,887],"[initSelectVale, listArr]"]